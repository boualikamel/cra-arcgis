// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
(function(k,a){var h,m=function(){return"undefined"!==typeof B&&"function"!==typeof B?B:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),l=function(){},g=function(b){for(var c in b)return 0;return 1},f={}.toString,e=function(b){return"[object Function]"==f.call(b)},d=function(b){return"[object String]"==f.call(b)},b=function(b){return"[object Array]"==f.call(b)},c=function(b,c){if(b)for(var d=0;d<b.length;)c(b[d++])},n=function(b,c){for(var d in c)b[d]=c[d];return b},u=function(b,
c){return n(Error(b),{src:"dojoLoader",info:c})},v=1,w=function(){return"_"+v++},t=function(b,c,d){return na(b,c,d,0,t)},B=m,C=B.document,A=C&&C.createElement("DiV"),q=t.has=function(b){return e(D[b])?D[b]=D[b](B,C,A):D[b]},D=q.cache=a.hasCache;e(k)&&(k=k(m));q.add=function(b,c,d,a){(void 0===D[b]||a)&&(D[b]=c);return d&&q(b)};q.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);q("host-webworker")&&(n(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(b,c){try{importScripts(b),c()}catch(Ia){console.info("failed to load resource ("+b+")"),console.error(Ia)}}});for(var y in k.has)q.add(y,k.has[y],0,1);t.async=1;var z=q("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(b,c){return z(b+"\r\n//# sourceURL\x3d"+c)};var E={},I=t.signal=function(d,a){d=E[d];c(d&&d.slice(0),function(c){c.apply(null,
b(a)?a:[a])})};y=t.on=function(b,c){var d=E[b]||(E[b]=[]);d.push(c);return{remove:function(){for(var b=0;b<d.length;b++)if(d[b]===c){d.splice(b,1);break}}}};var J=[],L={},F=[],H={},K=t.map={},G=[],R={},P="",Q={},M={},m={},S=0;if(!q("foreign-loader"))var T=function(b,c){c=!1!==c;var d,a,e,n;for(d in M)a=M[d],(e=d.match(/^url\:(.+)/))?Q["url:"+sa(e[1],b)]=a:"*now"==d?n=a:"*noref"!=d&&(e=Y(d,b,!0),Q[e.mid]=Q["url:"+e.url]=a);n&&n(oa(b));c&&(M={})};var Z=function(b){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(b){return"\\"+b})},X=function(b,c){c.splice(0,c.length);for(var d in b)c.push([d,b[d],new RegExp("^"+Z(d)+"(/|$)"),d.length]);c.sort(function(b,c){return c[3]-b[3]});return c},ea=function(b,a){c(b,function(b){a.push([d(b[0])?new RegExp("^"+Z(b[0])+"$"):b[0],b[1]])})},ha=function(b){var c=b.name;c||(c=b,b={name:c});b=n({main:"main"},b);b.location=b.location?b.location:c;b.packageMap&&(K[c]=b.packageMap);b.main.indexOf("./")||(b.main=b.main.substring(2));H[c]=b},aa=[],ca=function(b,a,e){for(var f in b){"waitSeconds"==
f&&(t.waitms=1E3*(b[f]||0));"cacheBust"==f&&(P=b[f]?d(b[f])?b[f]:(new Date).getTime()+"":"");if("baseUrl"==f||"combo"==f)t[f]=b[f];b[f]!==D&&(t.rawConfig[f]=b[f],"has"!=f&&q.add("config-"+f,b[f],0,a))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(f in b.has)q.add(f,b.has[f],0,a);c(b.packages,ha);for(var u in b.packagePaths)c(b.packagePaths[u],function(b){var c=u+"/"+b;d(b)&&(b={name:b});b.location=c;ha(b)});X(n(K,b.map),G);c(G,function(b){b[1]=X(b[1],[]);"*"==b[0]&&(G.star=
b)});X(n(L,b.paths),F);ea(b.aliases,J);if(!q("foreign-loader")){if(a)aa.push({config:b.config});else for(f in b.config)a=pa(f,e),a.config=n(a.config||{},b.config[f]);b.cache&&(T(),M=b.cache,T(0,!!b.cache["*noref"]))}I("config",[b,t.rawConfig])};if(q("dojo-cdn")){var ia=C.getElementsByTagName("script");h=0;for(var U,V,W,ka;h<ia.length;)if(U=ia[h++],(W=U.getAttribute("src"))&&(ka=W.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(V=ka[3]||"",a.baseUrl=a.baseUrl||V,S=U),W=U.getAttribute("data-dojo-config")||
U.getAttribute("djConfig"))m=t.eval("({ "+W+" })","data-dojo-config"),S=U}t.rawConfig={};ca(a,1);q("dojo-cdn")&&((H.dojo.location=V)&&(V+="/"),H.dijit.location=V+"../dijit/",H.dojox.location=V+"../dojox/");ca(k,1);ca(m,1);if(!q("foreign-loader"))var ja=function(b){Da(function(){c(b.deps,Ja)})},na=function(c,a,e,f,g){var q;if(d(c)){if((q=pa(c,f,!0))&&q.executed)return q.result;throw u("undefinedModule",c);}b(c)||(ca(c,0,f),c=a,a=e);if(b(c))if(c.length){e="require*"+w();for(var v,y=[],h=0;h<c.length;)v=
c[h++],y.push(pa(v,f));q=n(qa("",e,0,""),{injected:2,deps:y,def:a||l,require:f?f.require:t,gc:1});R[q.mid]=q;ja(q);var B=ya&&!0;Da(function(){Ea(q,B)});q.executed||ba.push(q);Fa()}else a&&a();return g},oa=function(b){if(!b)return t;var c=b.require;c||(c=function(d,a,e){return na(d,a,e,b,c)},b.require=n(c,t),c.module=b,c.toUrl=function(c){return sa(c,b)},c.toAbsMid=function(c){return ra(c,b)});return c},ba=[],la=[],fa={},ga=function(b){b.injected=1;fa[b.mid]=1;b.url&&(fa[b.url]=b.pack||1);Oa()},O=
function(b){b.injected=2;delete fa[b.mid];b.url&&delete fa[b.url];g(fa)&&Pa()},da=t.idle=function(){return!la.length&&g(fa)&&!ba.length&&!ya};var p=function(b,c){if(c)for(var d=0;d<c.length;d++)if(c[d][2].test(b))return c[d];return 0},ma=function(b){var c=[],d,a;for(b=b.replace(/\\/g,"/").split("/");b.length;)d=b.shift(),".."==d&&c.length&&".."!=a?(c.pop(),a=c[c.length-1]):"."!=d&&c.push(a=d);return c.join("/")},qa=function(b,c,d,a){return{pid:b,mid:c,pack:d,url:a,executed:0,def:0}},r=function(b,
d,a,n,f,t,q,w,g,v){var y,l,h,B;B=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||B&&!d)return qa(0,b,0,b);b=ma(B?d.mid+"/../"+b:b);if(/^\./.test(b))throw u("irrationalPath",b);v||B||!t.star||(h=p(b,t.star[1]));!h&&d&&(h=(h=p(d.mid,t))&&p(b,h[1]));h&&(b=h[1]+b.substring(h[3]));d=(ka=b.match(/^([^\/]+)(\/(.+))?$/))?ka[1]:"";(y=a[d])?b=d+"/"+(l=ka[3]||y.main):d="";var m=0;c(w,function(c){var d=b.match(c[0]);d&&0<d.length&&(m=e(c[1])?b.replace(c[0],c[1]):c[1])});if(m)return r(m,0,a,n,f,t,q,w,g);if(a=n[b])return g?
qa(a.pid,a.mid,a.pack,a.url):n[b];n=(h=p(b,q))?h[1]+b.substring(h[3]):d?("/"===y.location.slice(-1)?y.location.slice(0,-1):y.location)+"/"+l:b;/(^\/)|(\:)/.test(n)||(n=f+n);return qa(d,b,y,ma(n+".js"))},Y=function(b,c,d){return r(b,c,H,R,t.baseUrl,G,F,J,void 0,d)};if(!q("foreign-loader"))var N=function(b,c,d){return b.normalize?b.normalize(c,function(b){return ra(b,d)}):ra(c,d)},x=0,pa=function(b,c,d){var a,e;(a=b.match(/^(.+?)\!(.*)$/))?(e=pa(a[1],c,d),5!==e.executed||e.load||ta(e),e.load?(a=N(e,
a[2],c),b=e.mid+"!"+(e.dynamic?++x+"!":"")+a):(a=a[2],b=e.mid+"!"+ ++x+"!waitingForPlugin"),b={plugin:e,mid:b,req:oa(c),prid:a}):b=Y(b,c);return R[b.mid]||!d&&(R[b.mid]=b)};var ra=t.toAbsMid=function(b,c){return Y(b,c).mid},sa=t.toUrl=function(b,c){c=Y(b+"/x",c);var d=c.url;return Ka(0===c.pid?b:d.substring(0,d.length-5))};if(!q("foreign-loader")){var ua={injected:2,executed:5,def:3,result:3};V=function(b){return R[b]=n({mid:b},ua)};var za=V("require"),wa=V("exports"),Aa=V("module"),va={},xa=0,ta=
function(b){var c=b.result;b.dynamic=c.dynamic;b.normalize=c.normalize;b.load=c.load;return b},Ba=function(b){var d={};c(b.loadQ,function(c){var a=N(b,c.prid,c.req.module),e=b.dynamic?c.mid.replace(/waitingForPlugin$/,a):b.mid+"!"+a,a=n(n({},c),{mid:e,prid:a,injected:0});R[e]&&R[e].injected||La(R[e]=a);d[c.mid]=R[e];O(c);delete R[c.mid]});b.loadQ=0;var a=function(b){for(var c=b.deps||[],a=0;a<c.length;a++)(b=d[c[a].mid])&&(c[a]=b)},e;for(e in R)a(R[e]);c(ba,a)},Ga=function(b){t.trace("loader-finish-exec",
[b.mid]);b.executed=5;b.defOrder=xa++;b.loadQ&&(ta(b),Ba(b));for(h=0;h<ba.length;)ba[h]===b?ba.splice(h,1):h++;/^require\*/.test(b.mid)&&delete R[b.mid]},Qa=[],Ea=function(b,c){if(4===b.executed)return t.trace("loader-circular-dependency",[Qa.concat(b.mid).join("-\x3e")]),!b.def||c?va:b.cjs&&b.cjs.exports;if(!b.executed){if(!b.def)return va;var d=b.mid,a=b.deps||[],n,f=[],u=0;for(b.executed=4;n=a[u++];){n=n===za?oa(b):n===wa?b.cjs.exports:n===Aa?b.cjs:Ea(n,c);if(n===va)return b.executed=0,t.trace("loader-exec-module",
["abort",d]),va;f.push(n)}t.trace("loader-run-factory",[b.mid]);c=b.def;f=e(c)?c.apply(null,f):c;b.result=void 0===f&&b.cjs?b.cjs.exports:f;Ga(b)}return b.result},ya=0,Da=function(b){try{ya++,b()}catch(Na){throw Na;}finally{ya--}da()&&I("idle",[])},Fa=function(){ya||Da(function(){for(var b,c,d=0;d<ba.length;)b=xa,c=ba[d],Ea(c),b!=xa?d=0:d++})}}var Ka="function"==typeof k.fixupUrl?k.fixupUrl:function(b){b+="";return b+(P?(/\?/.test(b)?"\x26":"?")+P:"")};void 0===q("dojo-loader-eval-hint-url")&&q.add("dojo-loader-eval-hint-url",
1);var La=function(b){var c=b.plugin;5!==c.executed||c.load||ta(c);var d=function(c){b.result=c;O(b);Ga(b);Fa()};c.load?c.load(b.prid,b.req,d):c.loadQ?c.loadQ.push(b):(c.loadQ=[b],ba.unshift(c),Ja(c))},Ca=0,Ra=function(b,c){q("config-stripStrict")&&(b=b.replace(/(["'])use strict\1/g,""));b===Ca?Ca.call(null):t.eval(b,q("dojo-loader-eval-hint-url")?c.url:c.mid)},Ja=function(b){var c=b.mid,d=b.url;if(!(b.executed||b.injected||fa[c]||b.url&&(b.pack&&fa[b.url]===b.pack||1==fa[b.url])))if(ga(b),b.plugin)La(b);
else{var a=function(){Sa(b);if(2!==b.injected){if(q("dojo-enforceDefine")){I("error",u("noDefine",b));return}O(b);n(b,ua);t.trace("loader-define-nonmodule",[b.url])}Fa()};(Ca=Q[c]||Q["url:"+b.url])?(t.trace("loader-inject",["cache",b.mid,d]),Ra(Ca,b),a()):(t.trace("loader-inject",["script",b.mid,d]),t.injectUrl(Ka(d),a,b))}},Ma=function(b,c,d){t.trace("loader-define-module",[b.mid,c]);if(2===b.injected)return I("error",u("multipleDefine",b)),b;n(b,{deps:c,def:d,cjs:{id:b.mid,uri:b.url,exports:b.result=
{},setExports:function(c){b.cjs.exports=c},config:function(){return b.config}}});for(var a=0;c[a];a++)c[a]=pa(c[a],b);O(b);e(d)||c.length||(b.result=d,Ga(b));return b},Sa=function(b,d){for(var a=[],e,n;la.length;)n=la.shift(),d&&(n[0]=d.shift()),e=n[0]&&pa(n[0])||b,a.push([e,n[1],n[2]]);T(b);c(a,function(b){ja(Ma.apply(null,b))})},Pa=l,Oa=l;q("dom");if(q("dom")){var Ha=function(b,c,d,a){b.addEventListener(c,a,!1);return function(){b.removeEventListener(c,a,!1)}},Ta=Ha(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=C.readyState&&(C.readyState="complete")}catch(Ua){}Ta()}),ia=C.getElementsByTagName("script");for(h=0;!S;)/^dojo/.test((U=ia[h++])&&U.type)||(S=U);t.injectUrl=function(b,c,d){d=d.node=C.createElement("script");var a=Ha(d,"load","onreadystatechange",function(b){b=b||window.event;var d=b.target||b.srcElement;if("load"===b.type||/complete|loaded/.test(d.readyState))a(),e(),c&&c()}),e=Ha(d,"error","onerror",function(c){a();e();I("error",u("scriptError: "+b,[b,c]))});d.type="text/javascript";
d.charset="utf-8";d.src=b;S.parentNode.insertBefore(d,S);return d}}t.log=l;t.trace=l;q("foreign-loader")?U=l:(U=function(b,c,a){var n=arguments.length,f=["require","exports","module"],u=[0,b,c];1==n?u=[0,e(b)?f:[],b]:2==n&&d(b)?u=[b,e(c)?f:[],c]:3==n&&(u=[b,c,a]);t.trace("loader-define",u.slice(0,2));(n=u[0]&&pa(u[0]))&&!fa[n.mid]?ja(Ma(n,u[1],u[2])):la.push(u)},U.amd={vendor:"dojotoolkit.org"});n(n(t,a.loaderPatch),k.loaderPatch);y("error",function(b){try{if(console.error(b),b instanceof Error){for(var c in b)console.log(c+
":",b[c]);console.log(".")}}catch(Ia){}});n(t,{uid:w,cache:Q,packs:H});B.define||(B.define=U,B.require=t,q("foreign-loader")||(c(aa,function(b){ca(b)}),U=m.deps||k.deps||a.deps,k=m.callback||k.callback||a.callback,t.boot=U||k?[U||[],k]:0))})(function(k){return k.dojoConfig||k.djConfig||k.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"esri-console-log-version":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",
name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(k){return k})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(k,a,h,m,l){var g=0,f=[],e=0;a=function(){g=1;k._postLoad=k.config.afterOnLoad=!0;d()};var d=function(){if(!e){for(e=1;g&&(!m||0==m._Q.length)&&
(h.idle?h.idle():1)&&f.length;){var b=f.shift();try{b()}catch(u){if(u.info=u.message,h.signal)h.signal("error",u);else throw u;}}e=0}};h.on&&h.on("idle",d);m&&(m._onQEmpty=d);var b=k.ready=k.addOnLoad=function(b,c,a){var e=l._toArray(arguments);"number"!=typeof b?(a=c,c=b,b=1E3):e.shift();a=a?l.hitch.apply(k,e):function(){c()};a.priority=b;for(e=0;e<f.length&&b>=f[e].priority;e++);f.splice(e,0,a);d()},c=k.config.addOnLoad;if(c)b[l.isArray(c)?"apply":"call"](k,c);m?m(a):a();return b})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(k,a,h,m,l){var g,f={},e={},d={config:h,global:k,dijit:f,dojox:e},f={dojo:["dojo",d],dijit:["dijit",f],dojox:["dojox",e]};l=m.map&&m.map[l.id.match(/[^\/]+/)[0]];for(g in l)f[g]?f[g][0]=l[g]:f[g]=[l[g],{}];for(g in f)l=f[g],l[1]._scopeName=l[0],h.noGlobals||(k[l[0]]=l[1]);d.scopeMap=f;d.baseUrl=d.config.baseUrl=m.baseUrl;d.isAsync=m.async;d.locale=h.locale;k="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);d.version={major:1,minor:14,patch:2,flag:"",revision:k?
k[0]:NaN,toString:function(){var b=d.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};a("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);d.exit=function(){};a("host-webworker");"undefined"!=typeof console||(console={});k="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var b;for(a=0;b=k[a++];)console[b]?console[b]=Function.prototype.bind.call(console[b],
console):function(){var c=b+"";console[c]="log"in console?function(){var b=Array.prototype.slice.call(arguments);b.unshift(c+":");console.log(b.join(" "))}:function(){};console[c]._fake=!0}();d.deprecated=d.experimental=function(){};d._hasResource={};return d})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(k,a,h){var m=a.has||function(){};if(!m("dojo-has-api")){var l=(a="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,g=l&&l.createElement("DiV"),f=h.config&&h.config()||{},m=function(a){return"function"==typeof f[a]?f[a]=f[a](k,l,g):f[a]};m.cache=f;m.add=function(a,d,b,c){("undefined"==typeof f[a]||c)&&(f[a]=d);return b&&m(a)};m.add("host-browser",a);m.add("dom",a)}m("host-browser")&&(m.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),m.add("touch-events","ontouchstart"in document),m.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),m.add("device-width",screen.availWidth||innerWidth),h=document.createElement("form"),m.add("dom-attributes-specified-flag",0<h.attributes.length&&40>h.attributes.length));m.clearElement=function(a){a.innerHTML="";return a};
m.normalize=function(a,d){var b=a.match(/[\?:]|[^:\?]*/g),c=0,e=function(d){var a=b[c++];if(":"==a)return 0;if("?"==b[c++]){if(!d&&m(a))return e();e(!0);return e(d)}return a||0};return(a=e())&&d(a)};m.load=function(a,d,b){a?d([a],b):b()};return m})},"dojo/_base/config":function(){define(["../global","../has","require"],function(k,a,h){k={};h=h.rawConfig;for(var m in h)k[m]=h[m];!k.locale&&"undefined"!=typeof navigator&&(m=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(k.locale=m.toLowerCase());return k})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(k,a){var h=function(a,d,b){b||(b=a[0]&&k.scopeMap[a[0]]?k.scopeMap[a.shift()][1]:k.global);try{for(var c=0;c<a.length;c++){var e=a[c];if(!(e in b))if(d)b[e]={};else return;b=b[e]}return b}catch(u){}},m=Object.prototype.toString,l=function(a,d,b){return(b||[]).concat(Array.prototype.slice.call(a,d||0))},g=/\{([^\}]+)\}/g,f={_extraNames:[],_mixin:function(a,d,
b){var c,e,f={};for(c in d)e=d[c],c in a&&(a[c]===e||c in f&&f[c]===e)||(a[c]=b?b(e):e);return a},mixin:function(a,d){a||(a={});for(var b=1,c=arguments.length;b<c;b++)f._mixin(a,arguments[b]);return a},setObject:function(a,d,b){var c=a.split(".");a=c.pop();return(b=h(c,!0,b))&&a?b[a]=d:void 0},getObject:function(a,d,b){return a?h(a.split("."),d,b):b},exists:function(a,d){return void 0!==f.getObject(a,!1,d)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||
function(a){return"[object Array]"==m.call(a)},isFunction:function(a){return"[object Function]"===m.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return!!a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,d){for(var b=1,c=arguments.length;b<
c;b++)f._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,d){var b=f._toArray(arguments,2),c=f.isString(d);return function(){var e=f._toArray(arguments),u=c?(a||k.global)[d]:d;return u&&u.apply(a||this,b.concat(e))}},hitch:function(a,d){if(2<arguments.length)return f._hitchArgs.apply(k,arguments);d||(d=a,a=null);if(f.isString(d)){a=a||k.global;if(!a[d])throw['lang.hitch: scope["',d,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[d].apply(a,arguments||[])}}return a?
function(){return d.apply(a,arguments||[])}:d},delegate:function(){function a(){}return function(d,b){a.prototype=d;d=new a;a.prototype=null;b&&f._mixin(d,b);return d}}(),_toArray:a("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(d){return(d.item?a:l).apply(this,arguments)}}():l,partial:function(a){return f.hitch.apply(k,[null].concat(f._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&
"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var d,b,c;if(f.isArray(a))for(d=[],b=0,c=a.length;b<c;++b)b in a&&(d[b]=f.clone(a[b]));else d=a.constructor?new a.constructor:{};return f._mixin(d,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,b){return a.replace(b||g,f.isFunction(d)?d:function(b,a){return f.getObject(a,
!1,d)})}};f.mixin(k,f);return f})},"dojo/sniff":function(){define(["./has"],function(k){if(k("host-browser")){var a=navigator,h=a.userAgent,a=a.appVersion,m=parseFloat(a);k.add("edge",parseFloat(h.split("Edge/")[1])||void 0);k.add("webkit",!k("edge")&&parseFloat(h.split("WebKit/")[1])||void 0);k.add("chrome",!k("edge")&&!0&&parseFloat(h.split("Chrome/")[1])||void 0);k.add("safari",0<=a.indexOf("Safari")&&!k("chrome")&&!k("edge")?parseFloat(a.split("Version/")[1]):void 0);k.add("mac",0<=a.indexOf("Macintosh"));
if(h.match(/(iPhone|iPod|iPad)/)){var l=RegExp.$1.replace(/P/,"p"),g=h.match(/OS ([\d_]+)/)?RegExp.$1:"1",g=parseFloat(g.replace(/_/,".").replace(/_/g,""));k.add(l,g);k.add("ios",g)}k.add("trident",parseFloat(a.split("Trident/")[1])||void 0);k("webkit")||(0<=h.indexOf("Opera")&&k.add("opera",9.8<=m?parseFloat(h.split("Version/")[1])||m:m),0<=h.indexOf("Gecko")&&!k("trident")&&!k("edge")&&k.add("mozilla",m),k("mozilla")&&k.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0),
document.all&&!k("opera")&&(h=parseFloat(a.split("MSIE ")[1])||void 0,(a=document.documentMode)&&5!=a&&Math.floor(h)!=a&&(h=a),k.add("ie",h)))}return k})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(k,a,h,m,l,g,f,e){function d(b,c,d,f,n){f=e.hitch(d,f);if(!b||!b.addEventListener&&!b.attachEvent)return m.after(b||k.global,c,f,!0);"string"==typeof c&&"on"==c.substring(0,2)&&(c=c.substring(2));b||(b=k.global);
if(!n)switch(c){case "keypress":c=v;break;case "mouseenter":c=g.enter;break;case "mouseleave":c=g.leave}return a(b,c,f,n)}function b(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}f.add("events-keypress-typed",function(){var b={charCode:0};try{b=document.createEvent("KeyboardEvent"),(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(B){}return 0==b.charCode&&!f("opera")});var c={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},n=f("mac")?"metaKey":"ctrlKey",u=function(c,a){a=e.mixin({},c,a);b(a);a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()};return a},v;v=f("events-keypress-typed")?function(b,d){var e=a(b,"keydown",function(b){var a=b.keyCode,e=13!=a&&32!=a&&(27!=a||!f("ie"))&&(48>a||90<a)&&(96>a||111<a)&&(186>a||192<a)&&(219>a||222<a)&&229!=a;if(e||b.ctrlKey){e=e?0:a;if(b.ctrlKey){if(3==a||13==a)return d.call(b.currentTarget,
b);e=95<e&&106>e?e-48:!b.shiftKey&&65<=e&&90>=e?e+32:c[e]||e}a=u(b,{type:"keypress",faux:!0,charCode:e});d.call(b.currentTarget,a);if(f("ie"))try{b.keyCode=a.keyCode}catch(z){}}}),n=a(b,"keypress",function(b){var c=b.charCode;b=u(b,{charCode:32<=c?c:0,faux:!0});return d.call(this,b)});return{remove:function(){e.remove();n.remove()}}}:f("opera")?function(b,c){return a(b,"keypress",function(b){var a=b.which;3==a&&(a=99);a=32>a&&!b.shiftKey?0:a;b.ctrlKey&&!b.shiftKey&&65<=a&&90>=a&&(a+=32);return c.call(this,
u(b,{charCode:a}))})}:function(c,d){return a(c,"keypress",function(c){b(c);return d.call(this,c)})};var w={_keypress:v,connect:function(b,c,a,e,f){var n=arguments,t=[],u=0;t.push("string"==typeof n[0]?null:n[u++],n[u++]);var g=n[u+1];t.push("string"==typeof g||"function"==typeof g?n[u++]:null,n[u++]);for(g=n.length;u<g;u++)t.push(n[u]);return d.apply(this,t)},disconnect:function(b){b&&b.remove()},subscribe:function(b,c,a){return h.subscribe(b,e.hitch(c,a))},publish:function(b,c){return h.publish.apply(h,
[b].concat(c))},connectPublisher:function(b,c,a){var d=function(){w.publish(b,arguments)};return a?w.connect(c,a,d):w.connect(c,d)},isCopyKey:function(b){return b[n]}};w.unsubscribe=w.disconnect;e.mixin(k,w);return w})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(k,a,h){function m(b,a,d,n,g){if(n=a.match(/(.*):(.*)/))return a=n[2],n=n[1],f.selector(n,a).call(g,b,d);h("touch")&&e.test(a)&&(d=u(d));if(b.addEventListener){var t=a in c,w=t?c[a]:a;b.addEventListener(w,d,
t);return{remove:function(){b.removeEventListener(w,d,t)}}}throw Error("Target must be an event emitter");}function l(){this.cancelable=!1;this.defaultPrevented=!0}function g(){this.bubbles=!1}h("dom")&&h("touch");var f=function(b,c,a,d){return"function"!=typeof b.on||"function"==typeof c||b.nodeType?f.parse(b,c,a,m,d,this):b.on(c,a)};f.pausable=function(b,c,a,d){var e;b=f(b,c,function(){if(!e)return a.apply(this,arguments)},d);b.pause=function(){e=!0};b.resume=function(){e=!1};return b};f.once=function(b,
c,a,d){var e=f(b,c,function(){e.remove();return a.apply(this,arguments)});return e};f.parse=function(b,c,a,d,e,n){var t;if(c.call)return c.call(n,b,a);c instanceof Array?t=c:-1<c.indexOf(",")&&(t=c.split(/\s*,\s*/));if(t){var u=[];c=0;for(var g;g=t[c++];)u.push(f.parse(b,g,a,d,e,n));u.remove=function(){for(var b=0;b<u.length;b++)u[b].remove()};return u}return d(b,c,a,e,n)};var e=/^touch/;f.matches=function(b,c,d,e,n){n=n&&"function"==typeof n.matches?n:a.query;e=!1!==e;1!=b.nodeType&&(b=b.parentNode);
for(;!n.matches(b,c,d);)if(b==d||!1===e||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};f.selector=function(b,c,a){return function(d,e){function n(c){return f.matches(c,b,d,a,t)}var t="function"==typeof b?{matches:b}:this,u=c.bubble;return u?f(d,u(n),e):f(d,c,function(b){var c=n(b.target);if(c)return b.selectorTarget=c,e.call(c,b)})}};var d=[].slice,b=f.emit=function(b,c,a){var e=d.call(arguments,2),n="on"+c;if("parentNode"in b){var f=e[0]={},t;for(t in a)f[t]=a[t];f.preventDefault=l;f.stopPropagation=
g;f.target=b;f.type=c;a=f}do b[n]&&b[n].apply(b,e);while(a&&a.bubbles&&(b=b.parentNode));return a&&a.cancelable&&a},c={};f.emit=function(c,a,d){if(c.dispatchEvent&&document.createEvent){var e=(c.ownerDocument||document).createEvent("HTMLEvents");e.initEvent(a,!!d.bubbles,!!d.cancelable);for(var n in d)n in e||(e[n]=d[n]);return c.dispatchEvent(e)&&e}return b.apply(f,arguments)};if(h("touch"))var n=window.orientation,u=function(b){return function(c){var a=c.corrected;if(!a){var d=c.type;try{delete c.type}catch(q){}if(c.type){var a=
{},e;for(e in c)a[e]=c[e];a.preventDefault=function(){c.preventDefault()};a.stopPropagation=function(){c.stopPropagation()}}else a=c,a.type=d;c.corrected=a;if("resize"==d){if(n==window.orientation)return null;n=window.orientation;a.type="orientationchange";return b.call(this,a)}"rotation"in a||(a.rotation=0,a.scale=1);if(window.TouchEvent&&c instanceof TouchEvent){var d=a.changedTouches[0],f;for(f in d)delete a[f],a[f]=d[f]}}return b.call(this,a)}};return f})},"dojo/topic":function(){define(["./Evented"],
function(k){var a=new k;return{publish:function(h,m){return a.emit.apply(a,arguments)},subscribe:function(h,m){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(k,a){function h(){}var m=k.after;h.prototype={on:function(l,g){return a.parse(this,l,g,function(a,e){return m(a,"on"+e,g,!0)})},emit:function(l,g){var f=[this];f.push.apply(f,arguments);return a.emit.apply(a,f)}};return h})},"dojo/aspect":function(){define([],function(){function k(a,e,d,b){var c=
a[e],n="around"==e,f;if(n){var g=d(function(){return c.advice(this,arguments)});f={remove:function(){g&&(g=a=d=null)},advice:function(b,a){return g?g.apply(b,a):c.advice(b,a)}}}else f={remove:function(){if(f.advice){var b=f.previous,c=f.next;c||b?(b?b.next=c:a[e]=c,c&&(c.previous=b)):delete a[e];a=d=f.advice=null}},id:a.nextId++,advice:d,receiveArguments:b};if(c&&!n)if("after"==e){for(;c.next&&(c=c.next););c.next=f;f.previous=c}else"before"==e&&(a[e]=f,f.next=c,c.previous=f);else a[e]=f;return f}
function a(a){return function(e,d,b,c){var n=e[d],f;n&&n.target==e||(e[d]=f=function(){for(var b=f.nextId,c=arguments,a=f.before;a;)a.advice&&(c=a.advice.apply(this,c)||c),a=a.next;if(f.around)var d=f.around.advice(this,c);for(a=f.after;a&&a.id<b;){if(a.advice)if(a.receiveArguments)var e=a.advice.apply(this,c),d=e===h?d:e;else d=a.advice.call(this,d,c);a=a.next}return d},n&&(f.around={advice:function(b,c){return n.apply(b,c)}}),f.target=e,f.nextId=f.nextId||0);e=k(f||n,a,b,c);b=null;return e}}var h,
m=a("after"),l=a("before"),g=a("around");return{before:l,around:g,after:m}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(k,a,h,m){if(a._fixEvent){var l=a._fixEvent;a._fixEvent=function(a,f){(a=l(a,f))&&m.normalizeEvent(a);return a}}h={fix:function(g,f){return a._fixEvent?a._fixEvent(g,f):g},stop:function(a){a.preventDefault();a.stopPropagation()}};k.fixEvent=h.fix;k.stopEvent=h.stop;return h})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(k,a,h,m){function l(b,c,a,d,e,f){f=f||"px";b=b.style;isNaN(c)||(b.left=c+f);isNaN(a)||(b.top=a+f);0<=d&&(b.width=d+f);0<=e&&(b.height=e+f)}function g(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function f(b){return"border-box"==e.boxModel||"table"==b.tagName.toLowerCase()||g(b)}var e={boxModel:"content-box"};k("ie")&&(e.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
e.getPadExtents=function(b,c){b=h.byId(b);var a=c||m.getComputedStyle(b),d=m.toPixelValue;c=d(b,a.paddingLeft);var e=d(b,a.paddingTop),f=d(b,a.paddingRight);b=d(b,a.paddingBottom);return{l:c,t:e,r:f,b:b,w:c+f,h:e+b}};e.getBorderExtents=function(b,c){b=h.byId(b);var a=m.toPixelValue,d=c||m.getComputedStyle(b);c="none"!=d.borderLeftStyle?a(b,d.borderLeftWidth):0;var e="none"!=d.borderTopStyle?a(b,d.borderTopWidth):0,f="none"!=d.borderRightStyle?a(b,d.borderRightWidth):0;b="none"!=d.borderBottomStyle?
a(b,d.borderBottomWidth):0;return{l:c,t:e,r:f,b:b,w:c+f,h:e+b}};e.getPadBorderExtents=function(b,c){b=h.byId(b);var a=c||m.getComputedStyle(b);c=e.getPadExtents(b,a);b=e.getBorderExtents(b,a);return{l:c.l+b.l,t:c.t+b.t,r:c.r+b.r,b:c.b+b.b,w:c.w+b.w,h:c.h+b.h}};e.getMarginExtents=function(b,c){b=h.byId(b);var a=c||m.getComputedStyle(b),d=m.toPixelValue;c=d(b,a.marginLeft);var e=d(b,a.marginTop),f=d(b,a.marginRight);b=d(b,a.marginBottom);return{l:c,t:e,r:f,b:b,w:c+f,h:e+b}};e.getMarginBox=function(b,
c){b=h.byId(b);c=c||m.getComputedStyle(b);c=e.getMarginExtents(b,c);var a=b.offsetLeft-c.l,d=b.offsetTop-c.t,f=b.parentNode,g=m.toPixelValue;8==k("ie")&&f&&(f=m.getComputedStyle(f),a-="none"!=f.borderLeftStyle?g(b,f.borderLeftWidth):0,d-="none"!=f.borderTopStyle?g(b,f.borderTopWidth):0);return{l:a,t:d,w:b.offsetWidth+c.w,h:b.offsetHeight+c.h}};e.getContentBox=function(b,a){b=h.byId(b);var c=a||m.getComputedStyle(b);a=b.clientWidth;var d,f=e.getPadExtents(b,c);d=e.getBorderExtents(b,c);var c=b.offsetLeft+
f.l+d.l,g=b.offsetTop+f.t+d.t;a?d=b.clientHeight:(a=b.offsetWidth-d.w,d=b.offsetHeight-d.h);if(8==k("ie")){var t=b.parentNode,l=m.toPixelValue;t&&(t=m.getComputedStyle(t),c-="none"!=t.borderLeftStyle?l(b,t.borderLeftWidth):0,g-="none"!=t.borderTopStyle?l(b,t.borderTopWidth):0)}return{l:c,t:g,w:a-f.w,h:d-f.h}};e.setContentSize=function(b,a,d){b=h.byId(b);var c=a.w;a=a.h;f(b)&&(d=e.getPadBorderExtents(b,d),0<=c&&(c+=d.w),0<=a&&(a+=d.h));l(b,NaN,NaN,c,a)};var d={l:0,t:0,w:0,h:0};e.setMarginBox=function(b,
a,n){b=h.byId(b);var c=n||m.getComputedStyle(b);n=a.w;var v=a.h,w=f(b)?d:e.getPadBorderExtents(b,c),c=e.getMarginExtents(b,c);if(k("webkit")&&g(b)){var t=b.style;0<=n&&!t.width&&(t.width="4px");0<=v&&!t.height&&(t.height="4px")}0<=n&&(n=Math.max(n-w.w-c.w,0));0<=v&&(v=Math.max(v-w.h-c.h,0));l(b,a.l,a.t,n,v)};e.isBodyLtr=function(b){b=b||a.doc;return"ltr"==(a.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};e.docScroll=function(b){b=b||a.doc;var c=a.doc.parentWindow||a.doc.defaultView;return"pageXOffset"in
c?{x:c.pageXOffset,y:c.pageYOffset}:(c=b.documentElement)&&{x:e.fixIeBiDiScrollLeft(c.scrollLeft||0,b),y:c.scrollTop||0}};e.getIeDocumentElementOffset=function(b){return{x:0,y:0}};e.fixIeBiDiScrollLeft=function(b,c){c=c||a.doc;var d=k("ie");if(d&&!e.isBodyLtr(c)){c=c.documentElement;var f=a.global;6==d&&f.frameElement&&c.scrollHeight>c.clientHeight&&(b+=c.clientLeft);return 8>d?b+c.clientWidth-c.scrollWidth:-b}return b};e.position=function(b,c){b=h.byId(b);a.body(b.ownerDocument);var d=b.getBoundingClientRect(),
d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};9>k("ie")&&(d.x-=0,d.y-=0);c&&(b=e.docScroll(b.ownerDocument),d.x+=b.x,d.y+=b.y);return d};e.getMarginSize=function(b,a){b=h.byId(b);a=e.getMarginExtents(b,a||m.getComputedStyle(b));b=b.getBoundingClientRect();return{w:b.right-b.left+a.w,h:b.bottom-b.top+a.h}};e.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!("pageX"in b)){var a=b.target,a=a&&a.ownerDocument||document,d=a.documentElement;b.pageX=b.clientX+
e.fixIeBiDiScrollLeft(d.scrollLeft||0,a);b.pageY=b.clientY+(d.scrollTop||0)}};return e})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(k,a,h){var m={global:k.global,doc:k.global.document||null,body:function(a){a=a||k.doc;return a.body||a.getElementsByTagName("body")[0]},setContext:function(a,g){k.global=m.global=a;k.doc=m.doc=g},withGlobal:function(a,g,f,e){var d=k.global;try{return k.global=m.global=a,m.withDoc.call(null,a.document,g,f,e)}finally{k.global=m.global=
d}},withDoc:function(a,g,f,e){var d=m.doc,b=h("ie"),c,n,u;try{return k.doc=m.doc=a,k.isQuirks=0,h("ie")&&(u=a.parentWindow)&&u.navigator&&(c=parseFloat(u.navigator.appVersion.split("MSIE ")[1])||void 0,(n=a.documentMode)&&5!=n&&Math.floor(c)!=n&&(c=n),k.isIE=h.add("ie",c,!0,!0)),f&&"string"==typeof g&&(g=f[g]),g.apply(f,e||[])}finally{k.doc=m.doc=d,k.isQuirks=0,k.isIE=h.add("ie",b,!0,!0)}}};a.mixin(k,m);return m})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(k,
a,h){if(7>=k("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(g){}var m={};k("ie")?m.byId=function(g,f){if("string"!=typeof g)return g;var e=f||a.doc;f=g&&e.getElementById(g);if(!f||f.attributes.id.value!=g&&f.id!=g){e=e.all[g];if(!e||e.nodeName)e=[e];for(var d=0;f=e[d++];)if(f.attributes&&f.attributes.id&&f.attributes.id.value==g||f.id==g)return f}else return f}:m.byId=function(g,f){return("string"==typeof g?(f||a.doc).getElementById(g):g)||null};h=h.global.document||null;k.add("dom-contains",
!(!h||!h.contains));m.isDescendant=k("dom-contains")?function(a,f){return!(!(f=m.byId(f))||!f.contains(m.byId(a)))}:function(a,f){try{for(a=m.byId(a),f=m.byId(f);a;){if(a==f)return!0;a=a.parentNode}}catch(e){}return!1};k.add("css-user-select",function(a,f,e){if(!e)return!1;a=e.style;f=["Khtml","O","Moz","Webkit"];e=f.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(e--&&(d=f[e]+"UserSelect"));return!1});var l=k("css-user-select");m.setSelectable=l?function(a,f){m.byId(a).style[l]=
f?"":"none"}:function(a,f){a=m.byId(a);var e=a.getElementsByTagName("*"),d=e.length;if(f)for(a.removeAttribute("unselectable");d--;)e[d].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");d--;)e[d].setAttribute("unselectable","on")};return m})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(k,a,h){function m(b,a,d){a=a.toLowerCase();if("auto"==d){if("height"==a)return b.offsetHeight;if("width"==a)return b.offsetWidth}if("fontweight"==a)switch(d){case 700:return"bold";
default:return"normal"}a in c||(c[a]=n.test(a));return c[a]?f(b,d):d}var l,g={};l=k("webkit")?function(b){var a;if(1==b.nodeType){var c=b.ownerDocument.defaultView;a=c.getComputedStyle(b,null);!a&&b.style&&(b.style.display="",a=c.getComputedStyle(b,null))}return a||{}}:k("ie")&&9>k("ie")?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){if(1===b.nodeType){var a=b.ownerDocument.defaultView;return(a.opener?a:h.global.window).getComputedStyle(b,null)}return{}};g.getComputedStyle=
l;var f;f=k("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var c=b.style,d=b.runtimeStyle,e=c.left,f=d.left;d.left=b.currentStyle.left;try{c.left=a,a=c.pixelLeft}catch(q){a=0}c.left=e;d.left=f;return a}:function(b,a){return parseFloat(a)||0};g.toPixelValue=f;var e=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(t){return a?{}:null}},d=9>k("ie")||(k("ie"),0)?function(b){try{return e(b).Opacity/100}catch(w){return 1}}:
function(b){return l(b).opacity},b=9>k("ie")||(k("ie"),0)?function(a,c){""===c&&(c=1);var d=100*c;1===c?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&b(a,c);return c}:function(b,a){return b.style.opacity=
a},c={left:!0,top:!0},n=/margin|padding|width|height|max|min|offset/,u={cssFloat:1,styleFloat:1,"float":1};g.get=function(b,c){var e=a.byId(b),f=arguments.length;if(2==f&&"opacity"==c)return d(e);c=u[c]?"cssFloat"in e.style?"cssFloat":"styleFloat":c;var n=g.getComputedStyle(e);return 1==f?n:m(e,c,n[c]||e.style[c])};g.set=function(c,d,e){var f=a.byId(c),n=arguments.length,t="opacity"==d;d=u[d]?"cssFloat"in f.style?"cssFloat":"styleFloat":d;if(3==n)return t?b(f,e):f.style[d]=e;for(var q in d)g.set(c,
q,d[q]);return g.getComputedStyle(f)};return g})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(k,a,h,m,l){function g(f,e){var d=function(b,c){return a(b,f,function(a){if(e)return e(a,c);if(!m.isDescendant(a.relatedTarget,b))return c.call(this,a)})};d.bubble=function(b){return g(f,function(a,d){var c=b(a.target),e=a.relatedTarget;if(c&&c!=(e&&1==e.nodeType&&b(e)))return d.call(c,a)})};return d}h={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,e){return a.button==
e},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};k.mouseButtons=h;return{_eventHandler:g,enter:g("mouseover"),leave:g("mouseout"),wheel:"mousewheel",isLeft:h.isLeft,isMiddle:h.isMiddle,isRight:h.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(k,a,h){if(!h("host-browser"))return h;k._name="browser";a.mixin(k,{isBrowser:!0,isFF:h("ff"),isIE:h("ie"),isKhtml:0,isWebKit:h("webkit"),isMozilla:h("mozilla"),
isMoz:h("mozilla"),isOpera:h("opera"),isSafari:h("safari"),isChrome:h("chrome"),isMac:h("mac"),isIos:h("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return h})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(k,a){return k.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:a("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:a("mac")?a("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(k,a,h){var m=window,l={addOnWindowUnload:function(g,f){k.windowUnloaded||h(m,"unload",k.windowUnloaded=function(){});h(m,"unload",a.hitch(g,f))},addOnUnload:function(g,f){h(m,"beforeunload",a.hitch(g,f))}};k.addOnWindowUnload=l.addOnWindowUnload;k.addOnUnload=l.addOnUnload;return l})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(k,a,h,m,l,g,f,e){k.byId=a.byId;
k.isDescendant=a.isDescendant;k.setSelectable=a.setSelectable;k.getAttr=m.get;k.setAttr=m.set;k.hasAttr=m.has;k.removeAttr=m.remove;k.getNodeProp=m.getNodeProp;k.attr=function(a,b,c){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,c)};k.hasClass=g.contains;k.addClass=g.add;k.removeClass=g.remove;k.toggleClass=g.toggle;k.replaceClass=g.replace;k._toDom=k.toDom=f.toDom;k.place=f.place;k.create=f.create;k.empty=function(a){f.empty(a)};k._destroyElement=k.destroy=function(a){f.destroy(a)};
k._getPadExtents=k.getPadExtents=e.getPadExtents;k._getBorderExtents=k.getBorderExtents=e.getBorderExtents;k._getPadBorderExtents=k.getPadBorderExtents=e.getPadBorderExtents;k._getMarginExtents=k.getMarginExtents=e.getMarginExtents;k._getMarginSize=k.getMarginSize=e.getMarginSize;k._getMarginBox=k.getMarginBox=e.getMarginBox;k.setMarginBox=e.setMarginBox;k._getContentBox=k.getContentBox=e.getContentBox;k.setContentSize=e.setContentSize;k._isBodyLtr=k.isBodyLtr=e.isBodyLtr;k._docScroll=k.docScroll=
e.docScroll;k._getIeDocumentElementOffset=k.getIeDocumentElementOffset=e.getIeDocumentElementOffset;k._fixIeBiDiScrollLeft=k.fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft;k.position=e.position;k.marginBox=function(a,b){return b?e.setMarginBox(a,b):e.getMarginBox(a)};k.contentBox=function(a,b){return b?e.setContentSize(a,b):e.getContentBox(a)};k.coords=function(d,b){k.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");d=a.byId(d);var c=h.getComputedStyle(d),c=e.getMarginBox(d,c);d=
e.position(d,b);c.x=d.x;c.y=d.y;return c};k.getProp=l.get;k.setProp=l.set;k.prop=function(a,b,c){return 2==arguments.length?l["string"==typeof b?"get":"set"](a,b):l.set(a,b,c)};k.getStyle=h.get;k.setStyle=h.set;k.getComputedStyle=h.getComputedStyle;k.__toPixelValue=k.toPixelValue=h.toPixelValue;k.style=function(a,b,c){switch(arguments.length){case 1:return h.get(a);case 2:return h["string"==typeof b?"get":"set"](a,b)}return h.set(a,b,c)};return k})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(k,a,h,m,l,g){function f(b,a){b=b.getAttributeNode&&b.getAttributeNode(a);return!!b&&b.specified}var e={innerHTML:1,textContent:1,className:1,htmlFor:a("ie"),value:1},d={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};k.has=function(b,a){var c=a.toLowerCase();return e[g.names[c]||a]||f(m.byId(b),d[c]||a)};k.get=function(b,a){b=m.byId(b);var c=a.toLowerCase(),u=g.names[c]||a,l=b[u];if(e[u]&&"undefined"!=typeof l)return l;if("textContent"==u)return g.get(b,u);if("href"!=
u&&("boolean"==typeof l||h.isFunction(l)))return l;a=d[c]||a;return f(b,a)?b.getAttribute(a):null};k.set=function(b,a,f){b=m.byId(b);if(2==arguments.length){for(var c in a)k.set(b,c,a[c]);return b}c=a.toLowerCase();var n=g.names[c]||a,w=e[n];if("style"==n&&"string"!=typeof f)return l.set(b,f),b;if(w||"boolean"==typeof f||h.isFunction(f))return g.set(b,a,f);b.setAttribute(d[c]||a,f);return b};k.remove=function(b,a){m.byId(b).removeAttribute(d[a.toLowerCase()]||a)};k.getNodeProp=function(b,a){b=m.byId(b);
var c=a.toLowerCase(),e=g.names[c]||a;if(e in b&&"href"!=e)return b[e];a=d[c]||a;return f(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(k,a,h,m,l,g,f,e){var d={},b=1,c=a._scopeName+"attrid";k.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
k.get=function(b,a){b=l.byId(b);var c=a.toLowerCase();return b[k.names[c]||a]};k.set=function(a,u,v){a=l.byId(a);if(2==arguments.length&&"string"!=typeof u){for(var n in u)k.set(a,n,u[n]);return a}n=u.toLowerCase();n=k.names[n]||u;if("style"==n&&"string"!=typeof v)return g.set(a,v),a;if("innerHTML"==n)return h("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(f.empty(a),a.appendChild(f.toDom(v,a.ownerDocument))):a[n]=v,a;if(m.isFunction(v)){var t=a[c];
t||(t=b++,a[c]=t);d[t]||(d[t]={});var B=d[t][n];if(B)e.disconnect(B);else try{delete a[n]}catch(C){}v?d[t][n]=e.connect(a,n,v):a[n]=null;return a}a[n]=v;return a}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(k,a,h,m,l,g){function f(b,a){var c=a.parentNode;c&&c.insertBefore(b,a)}function e(b){if("innerHTML"in b)try{b.innerHTML="";return}catch(q){}for(var a;a=b.lastChild;)b.removeChild(a)}var d={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,c={},n=0,u="__"+a._scopeName+"ToDomId",v;for(v in d)d.hasOwnProperty(v)&&(a=d[v],a.pre="option"==v?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+a.join("\x3e\x3c")+"\x3e",a.post="\x3c/"+a.reverse().join("\x3e\x3c/")+"\x3e");var w;8>=h("ie")&&(w=function(b){b.__dojo_html5_tested="yes";
var a=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},b.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){b.createElement(a)});B(a)});k.toDom=function(a,e){e=e||m.doc;var f=e[u];f||(e[u]=f=++n+"",c[f]=e.createElement("div"));8>=h("ie")&&!e.__dojo_html5_tested&&e.body&&w(e);a+="";var t=a.match(b),g=t?t[1].toLowerCase():"",
f=c[f];if(t&&d[g])for(t=d[g],f.innerHTML=t.pre+a+t.post,a=t.length;a;--a)f=f.firstChild;else f.innerHTML=a;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(a=e.createDocumentFragment();e=f.firstChild;)a.appendChild(e);return a};k.place=function(b,a,c){a=l.byId(a);"string"==typeof b&&(b=/^\s*</.test(b)?k.toDom(b,a.ownerDocument):l.byId(b));if("number"==typeof c){var d=a.childNodes;!d.length||d.length<=c?a.appendChild(b):f(b,d[0>c?0:c])}else switch(c){case "before":f(b,a);break;case "after":c=
b;(d=a.parentNode)&&(d.lastChild==a?d.appendChild(c):d.insertBefore(c,a.nextSibling));break;case "replace":a.parentNode.replaceChild(b,a);break;case "only":k.empty(a);a.appendChild(b);break;case "first":if(a.firstChild){f(b,a.firstChild);break}default:a.appendChild(b)}return b};var t=k.create=function(b,a,c,d){var e=m.doc;c&&(c=l.byId(c),e=c.ownerDocument);"string"==typeof b&&(b=e.createElement(b));a&&g.set(b,a);c&&k.place(b,c,d);return b};k.empty=function(b){e(l.byId(b))};var B=k.destroy=function(b){if(b=
l.byId(b)){var a=b;b=b.parentNode;a.firstChild&&e(a);b&&(h("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(k,a,h){function m(d){if("string"==typeof d||d instanceof String){if(d&&!g.test(d))return f[0]=d,f;d=d.split(g);d.length&&!d[0]&&d.shift();d.length&&!d[d.length-1]&&d.pop();return d}return d?a.filter(d,function(b){return b}):[]}var l,g=/\s+/,f=[""],e={};return l={contains:function(a,
b){return 0<=(" "+h.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=h.byId(a);b=m(b);var c=a.className,d,c=c?" "+c+" ":" ";d=c.length;for(var e=0,f=b.length,g;e<f;++e)(g=b[e])&&0>c.indexOf(" "+g+" ")&&(c+=g+" ");d<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(a,b){a=h.byId(a);var c;if(void 0!==b){b=m(b);c=" "+a.className+" ";for(var d=0,e=b.length;d<e;++d)c=c.replace(" "+b[d]+" "," ");c=k.trim(c)}else c="";a.className!=c&&(a.className=c)},replace:function(a,b,c){a=
h.byId(a);e.className=a.className;l.remove(e,c);l.add(e,b);a.className!==e.className&&(a.className=e.className)},toggle:function(a,b,c){a=h.byId(a);if(void 0===c){b=m(b);for(var d=0,e=b.length,f;d<e;++d)f=b[d],l[l.contains(a,f)?"remove":"add"](a,f)}else l[c?"add":"remove"](a,b);return c}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(k,a,h){function m(b){return f[b]=new Function("item","index","array",b)}function l(b){var a=!b;return function(c,d,e){var n=0,t=c&&
c.length||0,g;t&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=f[d]||m(d));if(e)for(;n<t;++n){if(g=!d.call(e,c[n],n,c),b^g)return!g}else for(;n<t;++n)if(g=!d(c[n],n,c),b^g)return!g;return a}}function g(b){var a=1,f=0,g=0;b||(a=f=g=-1);return function(c,n,t,u){if(u&&0<a)return d.lastIndexOf(c,n,t);u=c&&c.length||0;var l=b?u+g:f;t===e?t=b?f:u+g:0>t?(t=u+t,0>t&&(t=f)):t=t>=u?u+g:t;for(u&&"string"==typeof c&&(c=c.split(""));t!=l;t+=a)if(c[t]==n)return t;return-1}}var f={},e,d={every:l(!1),
some:l(!0),indexOf:g(!0),lastIndexOf:g(!1),forEach:function(b,a,d){var c=0,e=b&&b.length||0;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<e;++c)a.call(d,b[c],c,b);else for(;c<e;++c)a(b[c],c,b)},map:function(b,a,d,e){var c=0,n=b&&b.length||0;e=new (e||Array)(n);n&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<n;++c)e[c]=a.call(d,b[c],c,b);else for(;c<n;++c)e[c]=a(b[c],c,b);return e},filter:function(b,a,d){var c=0,e=b&&b.length||
0,n=[],t;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||m(a));if(d)for(;c<e;++c)t=b[c],a.call(d,t,c,b)&&n.push(t);else for(;c<e;++c)t=b[c],a(t,c,b)&&n.push(t);return n},clearCache:function(){f={}}};h.mixin(k,d);return d})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(k,a,h){a=a.NodeList;var m=a.prototype;m.connect=a._adaptAsForEach(function(){return k.connect.apply(this,arguments)});m.coords=a._adaptAsMap(k.coords);
a.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");h.forEach(a.events,function(a){var g="on"+a;m[g]=function(a,e){return this.connect(g,a,e)}});return k.NodeList=a})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(k,a,h,m,l,g,f,e){function d(b,a){var c=function(c,d){if("string"==typeof d&&
(d=h.byId(d),!d))return new a([]);c="string"==typeof c?b(c,d):c?c.end&&c.on?c:[c]:[];return c.end&&c.on?c:new a(c)};c.matches=b.match||function(b,a,d){return 0<c.filter([b],a,d).length};c.filter=b.filter||function(b,a,d){return c(a,d).filter(function(a){return-1<l.indexOf(b,a)})};if("function"!=typeof b){var d=b.search;b=function(b,a){return d(a||document,b)}}return c}var b=Array.prototype,c=b.slice,n=b.concat,u=l.forEach,v=function(b,a,d){a=[0].concat(c.call(a,0));d=d||k.global;return function(c){a[0]=
c;return b.apply(d,a)}},w=function(b){var a=this instanceof t&&1;"number"==typeof b&&(b=Array(b));var c=b&&"length"in b?b:arguments;if(a||!c.sort){for(var d=a?this:[],e=d.length=c.length,f=0;f<e;f++)d[f]=c[f];if(a)return d;c=d}g._mixin(c,B);c._NodeListCtor=function(b){return t(b)};return c},t=w,B=t.prototype=[];t._wrap=B._wrap=function(b,a,c){b=new (c||this._NodeListCtor||t)(b);return a?b._stash(a):b};t._adaptAsMap=function(b,a){return function(){return this.map(v(b,arguments,a))}};t._adaptAsForEach=
function(b,a){return function(){this.forEach(v(b,arguments,a));return this}};t._adaptAsFilter=function(b,a){return function(){return this.filter(v(b,arguments,a))}};t._adaptWithCondition=function(b,a,c){return function(){var d=arguments,e=v(b,d,c);if(a.call(c||k.global,d))return this.map(e);this.forEach(e);return this}};u(["slice","splice"],function(a){var c=b[a];B[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});u(["indexOf","lastIndexOf","every","some"],function(b){var a=
l[b];B[b]=function(){return a.apply(k,[this].concat(c.call(arguments,0)))}});g.extend(w,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(b){this._parent=b;return this},on:function(b,a){var c=this.map(function(c){return m(c,b,a)});c.remove=function(){for(var b=0;b<c.length;b++)c[b].remove()};return c},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var a=c.call(this,0),d=l.map(arguments,function(b){return c.call(b,
0)});return this._wrap(n.apply(a,d),this)},map:function(b,a){return this._wrap(l.map(this,b,a),this)},forEach:function(b,a){u(this,b,a);return this},filter:function(b){var a=arguments,c=this,d=0;if("string"==typeof b){c=C._filterResult(this,a[0]);if(1==a.length)return c._stash(this);d=1}return this._wrap(l.filter(c,a[d],a[d+1]),this)},instantiate:function(b,a){var c=g.isFunction(b)?b:g.getObject(b);a=a||{};return this.forEach(function(b){new c(a,b)})},at:function(){var b=new this._NodeListCtor(0);
u(arguments,function(a){0>a&&(a=this.length+a);this[a]&&b.push(this[a])},this);return b._stash(this)}});var C=d(e,w);k.query=d(e,function(b){return w(b)});C.load=function(b,a,c){f.load(b,a,function(b){c(d(b,w))})};k._filterQueryResult=C._filterResult=function(b,a,c){return new w(C.filter(b,a,c))};k.NodeList=C.NodeList=w;return C})},"dojo/selector/_loader":function(){define(["../has","require"],function(k,a){"undefined"!==typeof document&&document.createElement("div");var h;return{load:function(m,
l,g,f){if(f&&f.isBuild)g();else{f=a;m="default"==m?k("config-selectorEngine")||"css3":m;m="css2"==m||"lite"==m?"./lite":"css2.1"==m?"./lite":"css3"==m?"./lite":"acme"==m?"./acme":(f=l)&&m;if("?"==m.charAt(m.length-1)){m=m.substring(0,m.length-1);var e=!0}if(e&&(k("dom-compliant-qsa")||h))return g(h);f([m],function(a){"./lite"!=m&&(h=a);g(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(k,a){var h=document.createElement("div"),m=h.matches||h.webkitMatchesSelector||
h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector,l=h.querySelectorAll,g=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,f=function(d,b){var c=b?b.ownerDocument||b:a.doc||document,n=(l?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(d);b=b||c;if(n){var g=(k("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===c);if(n[2]&&g){var h=a.byId?a.byId(n[2],c):c.getElementById(n[2]);if(!h||n[1]&&n[1]!=h.tagName.toLowerCase())return[];
if(b!=c)for(d=h;d!=b;)if(d=d.parentNode,!d)return[];return n[3]?f(n[3],h):[h]}if(n[3]&&b.getElementsByClassName)return b.getElementsByClassName(n[4]);if(n[5])if(h=b.getElementsByTagName(n[5]),n[4]||n[6])d=(n[4]||"")+n[6];else return h}if(l)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?e(b,d,b.querySelectorAll):b.querySelectorAll(d);h||(h=b.getElementsByTagName("*"));n=[];c=0;for(g=h.length;c<g;c++){var w=h[c];1==w.nodeType&&(void 0)(w,d,b)&&n.push(w)}return n},e=function(a,b,c){var d=
a,e=a.getAttribute("id"),f=e||"__dojo__",l=a.parentNode,t=/^\s*[+~]/.test(b);if(t&&!l)return[];e?f=f.replace(/'/g,"\\$\x26"):a.setAttribute("id",f);t&&l&&(a=a.parentNode);b=b.match(g);for(l=0;l<b.length;l++)b[l]="[id\x3d'"+f+"'] "+b[l];b=b.join(",");try{return c.call(a,b)}finally{e||d.removeAttribute("id")}};f.match=m?function(a,b,c){return c&&9!=c.nodeType?e(c,b,function(b){return m.call(a,b)}):m.call(a,b)}:void 0;return f})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(k,a,h,m,l,g,f,e,d){function b(b){return function(a,c,d){return 2==arguments.length?b["string"==typeof c?"get":"set"](a,c):b.set(a,c,d)}}var c=function(b){return 1==b.length&&"string"==typeof b[0]},n=function(b){var a=b.parentNode;a&&a.removeChild(b)},u=a.NodeList,v=u._adaptWithCondition,w=u._adaptAsForEach,t=u._adaptAsMap;m.extend(u,{_normalize:function(b,a){var c=!0===b.parse;if("string"==typeof b.template){var d=b.templateFunc||k.string&&k.string.substitute;b=d?d(b.template,b):b}d=typeof b;
"string"==d||"number"==d?(b=g.toDom(b,a&&a.ownerDocument),b=11==b.nodeType?m._toArray(b.childNodes):[b]):m.isArrayLike(b)?m.isArray(b)||(b=m._toArray(b)):b=[b];c&&(b._runParse=!0);return b},_cloneNode:function(b){return b.cloneNode(!0)},_place:function(b,a,c,d){if(1==a.nodeType||"only"!=c)for(var e,f=b.length,n=f-1;0<=n;n--){var t=d?this._cloneNode(b[n]):b[n];if(b._runParse&&k.parser&&k.parser.parse)for(e||(e=a.ownerDocument.createElement("div")),e.appendChild(t),k.parser.parse(e),t=e.firstChild;e.firstChild;)e.removeChild(e.firstChild);
n==f-1?g.place(t,a,c):a.parentNode.insertBefore(t,a);a=t}},position:t(f.position),attr:v(b(e),c),style:v(b(d),c),addClass:w(l.add),removeClass:w(l.remove),toggleClass:w(l.toggle),replaceClass:w(l.replace),empty:w(g.empty),removeAttr:w(e.remove),marginBox:t(f.getMarginBox),place:function(b,c){var d=a(b)[0];return this.forEach(function(b){g.place(b,d,c)})},orphan:function(b){return(b?a._filterResult(this,b):this).forEach(n)},adopt:function(b,c){return a(b).place(this[0],c)._stash(this)},query:function(b){if(!b)return this;
var c=new u;this.map(function(d){a(b,d).forEach(function(b){void 0!==b&&c.push(b)})});return c._stash(this)},filter:function(b){var c=arguments,d=this,e=0;if("string"==typeof b){d=a._filterResult(this,c[0]);if(1==c.length)return d._stash(this);e=1}return this._wrap(h.filter(d,c[e],c[e+1]),this)},addContent:function(b,a){b=this._normalize(b,this[0]);for(var c=0,d;d=this[c];c++)b.length?this._place(b,d,a,0<c):g.empty(d);return this}});return u})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(k,a,h,m,l,g,f,e,d,b,c,n,u,v,w,t){k._xhrObj=w._create;var B=k.config;k.objectToQuery=m.objectToQuery;k.queryToObject=m.queryToObject;k.fieldToObject=g.fieldToObject;k.formToObject=g.toObject;k.formToQuery=g.toQuery;k.formToJson=g.toJson;k._blockAsync=!1;var C=k._contentHandlers=k.contentHandlers={text:function(b){return b.responseText},json:function(b){return d.fromJson(b.responseText||null)},"json-comment-filtered":function(b){e.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
b=b.responseText;var a=b.indexOf("/*"),c=b.lastIndexOf("*/");if(-1==a||-1==c)throw Error("JSON was not comment filtered");return d.fromJson(b.substring(a+2,c))},javascript:function(b){return k.eval(b.responseText)},xml:function(b){var d=b.responseXML;d&&!d.querySelectorAll&&(d=(new DOMParser).parseFromString(b.responseText,"application/xml"));if(a("ie")&&(!d||!d.documentElement)){var e=function(b){return"MSXML"+b+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),e(3),e(2)];c.some(e,function(a){try{var c=
new ActiveXObject(a);c.async=!1;c.loadXML(b.responseText);d=c}catch(F){return!1}return!0})}return d},"json-comment-optional":function(b){return b.responseText&&/^[^{\[]*\/\*/.test(b.responseText)?C["json-comment-filtered"](b):C.json(b)}};C.arraybuffer=C.blob=C.document=function(b,a){return b.response};k._ioSetArgs=function(a,c,d,e){var n={args:a,url:a.url},t=null;if(a.form){var t=l.byId(a.form),u=t.getAttributeNode("action");n.url=n.url||(u?u.value:k.doc?k.doc.URL:null);t=g.toObject(t)}u={};t&&b.mixin(u,
t);a.content&&b.mixin(u,a.content);a.preventCache&&(u["dojo.preventCache"]=(new Date).valueOf());n.query=m.objectToQuery(u);n.handleAs=a.handleAs||"text";var q=new f(function(b){b.canceled=!0;c&&c(b);var a=b.ioArgs.error;a||(a=Error("request cancelled"),a.dojoType="cancel",b.ioArgs.error=a);return a});q.addCallback(d);var y=a.load;y&&b.isFunction(y)&&q.addCallback(function(b){return y.call(a,b,n)});var h=a.error;h&&b.isFunction(h)&&q.addErrback(function(b){return h.call(a,b,n)});var w=a.handle;w&&
b.isFunction(w)&&q.addBoth(function(b){return w.call(a,b,n)});q.addErrback(function(b){return e(b,q)});B.ioPublish&&k.publish&&!1!==n.args.ioPublish&&(q.addCallbacks(function(b){k.publish("/dojo/io/load",[q,b]);return b},function(b){k.publish("/dojo/io/error",[q,b]);return b}),q.addBoth(function(b){k.publish("/dojo/io/done",[q,b]);return b}));q.ioArgs=n;return q};var A=function(b){b=C[b.ioArgs.handleAs](b.ioArgs.xhr,b.ioArgs);return void 0===b?null:b},q=function(b,a){a.ioArgs.args.failOk||console.error(b);
return b},D=function(b){0>=y&&(y=0,B.ioPublish&&k.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&k.publish("/dojo/io/stop"))},y=0;u.after(v,"_onAction",function(){--y});u.after(v,"_onInFlight",D);k._ioCancelAll=v.cancelAll;k._ioNotifyStart=function(b){B.ioPublish&&k.publish&&!1!==b.ioArgs.args.ioPublish&&(y||k.publish("/dojo/io/start"),y+=1,k.publish("/dojo/io/send",[b]))};k._ioWatch=function(a,c,d,e){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(b){return c(a)},isReady:function(b){return d(a)},
handleResponse:function(b){return e(a)}});v(a);D(a)};k._ioAddQueryToUrl=function(b){b.query.length&&(b.url+=(-1==b.url.indexOf("?")?"?":"\x26")+b.query,b.query=null)};k.xhr=function(b,a,c){var d,e=k._ioSetArgs(a,function(b){d&&d.cancel()},A,q),f=e.ioArgs;"postData"in a?f.query=a.postData:"putData"in a?f.query=a.putData:"rawBody"in a?f.query=a.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(b.toUpperCase()))&&k._ioAddQueryToUrl(f);var n={method:b,handleAs:{arraybuffer:1,blob:1,document:1}[a.handleAs]?
a.handleAs:"text",responseType:a.responseType,timeout:a.timeout,withCredentials:a.withCredentials,ioArgs:f};"undefined"!==typeof a.headers&&(n.headers=a.headers);"undefined"!==typeof a.contentType&&(n.headers||(n.headers={}),n.headers["Content-Type"]=a.contentType);"undefined"!==typeof f.query&&(n.data=f.query);"undefined"!==typeof a.sync&&(n.sync=a.sync);k._ioNotifyStart(e);try{d=w(f.url,n,!0)}catch(K){return e.cancel(),e}e.ioArgs.xhr=d.response.xhr;d.then(function(){e.resolve(e)}).otherwise(function(b){f.error=
b;b.response&&(b.status=b.response.status,b.responseText=b.response.text,b.xhr=b.response.xhr);e.reject(b)});return e};k.xhrGet=function(b){return k.xhr("GET",b)};k.rawXhrPost=k.xhrPost=function(b){return k.xhr("POST",b,!0)};k.rawXhrPut=k.xhrPut=function(b){return k.xhr("PUT",b,!0)};k.xhrDelete=function(b){return k.xhr("DELETE",b)};k._isDocumentOk=function(b){return t.checkStatus(b.status)};k._getText=function(b){var a;k.xhrGet({url:b,sync:!0,load:function(b){a=b}});return a};b.mixin(k.xhr,{_xhrObj:k._xhrObj,
fieldToObject:g.fieldToObject,formToObject:g.toObject,objectToQuery:m.objectToQuery,formToQuery:g.toQuery,formToJson:g.toJson,queryToObject:m.queryToObject,contentHandlers:C,_ioSetArgs:k._ioSetArgs,_ioCancelAll:k._ioCancelAll,_ioNotifyStart:k._ioNotifyStart,_ioWatch:k._ioWatch,_ioAddQueryToUrl:k._ioAddQueryToUrl,_isDocumentOk:k._isDocumentOk,_getText:k._getText,get:k.xhrGet,post:k.xhrPost,put:k.xhrPut,del:k.xhrDelete});return k.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(k){var a=
{};return{objectToQuery:function(h){var m=encodeURIComponent,l=[],g;for(g in h){var f=h[g];if(f!=a[g]){var e=m(g)+"\x3d";if(k.isArray(f))for(var d=0,b=f.length;d<b;++d)l.push(e+m(f[d]));else l.push(e+m(f))}}return l.join("\x26")},queryToObject:function(a){var h=decodeURIComponent;a=a.split("\x26");for(var l={},g,f,e=0,d=a.length;e<d;++e)if(f=a[e],f.length){var b=f.indexOf("\x3d");0>b?(g=h(f),f=""):(g=h(f.slice(0,b)),f=h(f.slice(b+1)));"string"==typeof l[g]&&(l[g]=[l[g]]);k.isArray(l[g])?l[g].push(f):
l[g]=f}return l}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(k,a,h,m){var l={fieldToObject:function(g){var f=null;if(g=a.byId(g)){var e=g.name,d=(g.type||"").toLowerCase();if(e&&d&&!g.disabled)if("radio"==d||"checkbox"==d)g.checked&&(f=g.value);else if(g.multiple)for(f=[],g=[g.firstChild];g.length;)for(e=g.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&f.push(e.value);else{e.nextSibling&&g.push(e.nextSibling);
e.firstChild&&g.push(e.firstChild);break}else f=g.value}return f},toObject:function(g){var f={};g=a.byId(g).elements;for(var e=0,d=g.length;e<d;++e){var b=g[e],c=b.name,n=(b.type||"").toLowerCase();if(c&&n&&0>"file|submit|image|reset|button".indexOf(n)&&!b.disabled){var u=f,h=c,b=l.fieldToObject(b);if(null!==b){var w=u[h];"string"==typeof w?u[h]=[w,b]:k.isArray(w)?w.push(b):u[h]=b}"image"==n&&(f[c+".x"]=f[c+".y"]=f[c].x=f[c].y=0)}}return f},toQuery:function(a){return h.objectToQuery(l.toObject(a))},
toJson:function(a,f){return m.stringify(l.toObject(a),null,f?4:0)}};return l})},"dojo/json":function(){define(["./has"],function(k){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(k,a,h,m,l,g,f){var e=function(){},d=Object.freeze||function(){},b=k.Deferred=function(c){function f(b){if(w)throw Error("This deferred has already been resolved");v=b;w=!0;u()}function u(){for(var b;!b&&q;){var c=
q;q=q.next;if(b=c.progress==e)w=!1;var d=C?c.error:c.resolved;l("config-useDeferredInstrumentation")&&C&&a.instrumentRejected&&a.instrumentRejected(v,!!d);if(d)try{var f=d(v);f&&"function"===typeof f.then?f.then(g.hitch(c.deferred,"resolve"),g.hitch(c.deferred,"reject"),g.hitch(c.deferred,"progress")):(d=b&&void 0===f,b&&!d&&(C=f instanceof Error),c.deferred[d&&C?"reject":"resolve"](d?v:f))}catch(L){c.deferred.reject(L)}else C?c.deferred.reject(v):c.deferred.resolve(v)}}var v,w,t,k,C,A,q,D=this.promise=
new h;this.isResolved=D.isResolved=function(){return 0==k};this.isRejected=D.isRejected=function(){return 1==k};this.isFulfilled=D.isFulfilled=function(){return 0<=k};this.isCanceled=D.isCanceled=function(){return t};this.resolve=this.callback=function(b){this.fired=k=0;this.results=[b,null];f(b)};this.reject=this.errback=function(b){C=!0;this.fired=k=1;l("config-useDeferredInstrumentation")&&a.instrumentRejected&&a.instrumentRejected(b,!!q);f(b);this.results=[null,b]};this.progress=function(b){for(var a=
q;a;){var c=a.progress;c&&c(b);a=a.next}};this.addCallbacks=function(b,a){this.then(b,a,e);return this};D.then=this.then=function(a,c,d){var f=d==e?this:new b(D.cancel);a={resolved:a,error:c,progress:d,deferred:f};q?A=A.next=a:q=A=a;w&&u();return f.promise};var y=this;D.cancel=this.cancel=function(){if(!w){var b=c&&c(y);w||(b instanceof Error||(b=new m(b)),b.log=!1,y.reject(b))}t=!0};d(D)};g.extend(b,{addCallback:function(b){return this.addCallbacks(g.hitch.apply(k,arguments))},addErrback:function(b){return this.addCallbacks(null,
g.hitch.apply(k,arguments))},addBoth:function(b){var a=g.hitch.apply(k,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=k.when=f;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(k,a,h,m,l){var g=Object.freeze||function(){},f=function(b,a,d,f,t){k("config-deferredInstrumentation")&&2===a&&c.instrumentRejected&&0===b.length&&c.instrumentRejected(d,!1,
f,t);for(t=0;t<b.length;t++)e(b[t],a,d,f)},e=function(a,e,f,g){var n=a[e],u=a.deferred;if(n)try{var l=n(f);if(0===e)"undefined"!==typeof l&&b(u,e,l);else{if(l&&"function"===typeof l.then){a.cancel=l.cancel;l.then(d(u,1),d(u,2),d(u,0));return}b(u,1,l)}}catch(A){b(u,2,A)}else b(u,e,f);k("config-deferredInstrumentation")&&2===e&&c.instrumentRejected&&c.instrumentRejected(f,!!n,g,u.promise)},d=function(a,c){return function(d){b(a,c,d)}},b=function(b,a,c){if(!b.isCanceled())switch(a){case 0:b.progress(c);
break;case 1:b.resolve(c);break;case 2:b.reject(c)}},c=function(b){var a=this.promise=new m,d=this,n,t,l,C=!1,A=[];k("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(d,c),Error.captureStackTrace(a,c));this.isResolved=a.isResolved=function(){return 1===n};this.isRejected=a.isRejected=function(){return 2===n};this.isFulfilled=a.isFulfilled=function(){return!!n};this.isCanceled=a.isCanceled=function(){return C};this.progress=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");
return a}f(A,0,b,null,d);return a};this.resolve=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");return a}f(A,n=1,t=b,null,d);A=null;return a};var q=this.reject=function(b,c){if(n){if(!0===c)throw Error("This deferred has already been fulfilled.");return a}k("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(l={},q);f(A,n=2,t=b,l,d);A=null;return a};this.then=a.then=function(b,d,f){var g=[f,b,d];g.cancel=a.cancel;g.deferred=new c(function(b){return g.cancel&&
g.cancel(b)});n&&!A?e(g,n,t,l):A.push(g);return g.deferred.promise};this.cancel=a.cancel=function(a,c){if(!n){b&&(c=b(a),a="undefined"===typeof c?a:c);C=!0;if(!n)return"undefined"===typeof a&&(a=new h),q(a),a;if(2===n&&t===a)return a}else if(!0===c)throw Error("This deferred has already been fulfilled.");};g(a)};c.prototype.toString=function(){return"[object Deferred]"};l&&l(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(k){return k("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(k){return function(a,h,m,l){m=m||Error;var g=function(a){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,g);var e=Error.call(this,a),d;for(d in e)e.hasOwnProperty(d)&&(this[d]=e[d]);this.message=a;this.stack=e.stack}else m.apply(this,arguments);h&&h.apply(this,arguments)};g.prototype=k.delegate(m.prototype,l);g.prototype.name=a;return g.prototype.constructor=g}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(k){function a(){throw new TypeError("abstract");}return k.extend(function(){},{then:function(h,m,l){a()},cancel:function(h,m){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},"finally":function(a){return this.then(function(h){var l=a();return l&&"function"===typeof l.then?l.then(function(){return h}):h},function(h){var l=a();if(l&&"function"===typeof l.then)return l.then(function(){throw h;});throw h;})},always:function(a){return this.then(a,
a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(k,a){return function(h,m,l,g){var f=h&&"function"===typeof h.then,e=f&&h instanceof a;if(!f)return 1<arguments.length?m?m(h):h:(new k).resolve(h);e||(f=new k(h.cancel),h.then(f.resolve,f.reject,f.progress),h=f.promise);
return m||l||g?h.then(m,l,g):h}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(k,a){k.fromJson=function(a){return eval("("+a+")")};k._escapeString=a.stringify;k.toJsonIndentStr="\t";k.toJson=function(h,m){return a.stringify(h,function(a,g){return g&&(a=g.__json__||g.json,"function"==typeof a)?a.call(g):g},m&&k.toJsonIndentStr)};return k})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(k,a,h,m,l,g){function f(){for(var c=+new Date,f=0,g;f<b.length&&(g=b[f]);f++){var l=g.response,h=l.options;g.isCanceled&&g.isCanceled()||g.isValid&&!g.isValid(l)?(b.splice(f--,1),e._onAction&&e._onAction()):g.isReady&&g.isReady(l)?(b.splice(f--,1),g.handleResponse(l),e._onAction&&e._onAction()):g.startTime&&g.startTime+(h.timeout||0)<c&&(b.splice(f--,1),g.cancel(new a("Timeout exceeded",l)),e._onAction&&e._onAction())}e._onInFlight&&e._onInFlight(g);b.length||(clearInterval(d),d=null)}function e(a){a.response.options.timeout&&
(a.startTime=+new Date);a.isFulfilled()||(b.push(a),d||(d=setInterval(f,50)),a.response.options.sync&&f())}var d=null,b=[];e.cancelAll=function(){try{m.forEach(b,function(b){try{b.cancel(new h("All requests canceled."))}catch(n){}})}catch(c){}};l&&g&&l.doc.attachEvent&&g(l.global,"unload",function(){e.cancelAll()});return e})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),
function(k,a,h,m,l,g,f,e,d){function b(b){return n(b)}function c(b){return void 0!==b.data?b.data:b.text}k.deepCopy=function(b,a){for(var c in a){var d=b[c],e=a[c];d!==e&&(d&&"object"===typeof d&&e&&"object"===typeof e?e instanceof Date?b[c]=new Date(e):k.deepCopy(d,e):b[c]=e)}return b};k.deepCreate=function(b,a){a=a||{};var c=f.delegate(b),d,e;for(d in b)(e=b[d])&&"object"===typeof e&&(c[d]=k.deepCreate(e,a[d]));return k.deepCopy(c,a)};var n=Object.freeze||function(b){return b};k.deferred=function(d,
g,l,t,B,C){var u=new m(function(b){g&&g(u,d);return b&&(b instanceof a||b instanceof h)?b:new h("Request canceled",d)});u.response=d;u.isValid=l;u.isReady=t;u.handleResponse=B;l=u.then(b).otherwise(function(b){b.response=d;throw b;});k.notify&&l.then(f.hitch(k.notify,"emit","load"),f.hitch(k.notify,"emit","error"));t=l.then(c);B=new e;for(var q in t)t.hasOwnProperty(q)&&(B[q]=t[q]);B.response=l;n(B);C&&u.then(function(b){C.call(u,b)},function(b){C.call(u,d,b)});u.promise=B;u.then=B.then;return u};
k.addCommonMethods=function(b,a){g.forEach(a||["GET","POST","PUT","DELETE"],function(a){b[("DELETE"===a?"DEL":a).toLowerCase()]=function(c,d){d=f.delegate(d||{});d.method=a;return b(c,d)}})};k.parseArgs=function(b,a,c){var d=a.data,e=a.query;!d||c||"object"!==typeof d||d instanceof ArrayBuffer||d instanceof Blob||(a.data=l.objectToQuery(d));e?("object"===typeof e&&(e=l.objectToQuery(e)),a.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):a.preventCache&&(e="request.preventCache\x3d"+
+new Date);b&&e&&(b+=(~b.indexOf("?")?"\x26":"?")+e);return{url:b,options:a,getHeader:function(b){return null}}};k.checkStatus=function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||!b}})},"dojo/errors/RequestError":function(){define(["./create"],function(k){return k("RequestError",function(a,h){this.response=h})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(k,a){return k("RequestTimeoutError",null,a,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(k,a,h,m,l){function g(b,a){var c=b.xhr;b.status=b.xhr.status;try{b.text=c.responseText}catch(q){}"xml"===b.options.handleAs&&(b.data=c.responseXML);var d;if(a)this.reject(a);else{try{h(b)}catch(q){d=q}m.checkStatus(c.status)?d?this.reject(d):this.resolve(b):(a=d?new k("Unable to load "+b.url+" status: "+c.status+" and an error in handleAs: transformation of response",b):new k("Unable to load "+b.url+" status: "+c.status,b),this.reject(a))}}function f(b){return this.xhr.getResponseHeader(b)}
function e(t,h,C){var B=h&&h.data&&h.data instanceof FormData,q=m.parseArgs(t,m.deepCreate(w,h),B);t=q.url;h=q.options;var D=!h.data&&"POST"!==h.method&&"PUT"!==h.method;10>=l("ie")&&(t=t.split("#")[0]);var y,z=m.deferred(q,u,b,c,g,function(){y&&y()}),E=q.xhr=e._create();if(!E)return z.cancel(new k("XHR was not created")),C?z:z.promise;q.getHeader=f;n&&(y=n(E,z,q,h.uploadProgress));var I="undefined"===typeof h.data?null:h.data,J=!h.sync,L=h.method;try{E.open(L,t,J,h.user||v,h.password||v);h.withCredentials&&
(E.withCredentials=h.withCredentials);h.handleAs in d&&(E.responseType=d[h.handleAs]);var F=h.headers;t=B||D?!1:"application/x-www-form-urlencoded";if(F)for(var H in F)"content-type"===H.toLowerCase()?t=F[H]:F[H]&&E.setRequestHeader(H,F[H]);t&&!1!==t&&E.setRequestHeader("Content-Type",t);F&&"X-Requested-With"in F||E.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",q,z.promise.cancel);E.send(I)}catch(K){z.reject(K)}a(z);E=null;return C?z:z.promise}l.add("dojo-force-activex-xhr",
function(){return 0});var d={blob:"blob",document:"document",arraybuffer:"arraybuffer"},b,c,n,u;b=function(b){return!this.isFulfilled()};u=function(b,a){a.xhr.abort()};n=function(b,a,c,d){function e(b){a.handleResponse(c)}function f(b){b=new k("Unable to load "+c.url+" status: "+b.target.status,c);a.handleResponse(c,b)}function n(b,d){c.transferType=b;d.lengthComputable?(c.loaded=d.loaded,c.total=d.total,a.progress(c)):3===c.xhr.readyState&&(c.loaded="loaded"in d?d.loaded:d.position,a.progress(c))}
function g(b){return n("download",b)}function t(b){return n("upload",b)}b.addEventListener("load",e,!1);b.addEventListener("error",f,!1);b.addEventListener("progress",g,!1);d&&b.upload&&b.upload.addEventListener("progress",t,!1);return function(){b.removeEventListener("load",e,!1);b.removeEventListener("error",f,!1);b.removeEventListener("progress",g,!1);b.upload.removeEventListener("progress",t,!1);b=null}};var v,w={data:null,query:null,sync:!1,method:"GET"};e._create=function(){throw Error("XMLHTTP not available");
};l("dojo-force-activex-xhr")||(e._create=function(){return new XMLHttpRequest});m.addCommonMethods(e);return e})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(k,a,h,m){function l(a){var e=g[a.options.handleAs];a.data=e?e(a):a.data||a.text;return a}h=function(a){return a.xhr.response};var g={javascript:function(f){return a.eval(f.text||"")},json:function(a){return k.parse(a.text||null)},xml:void 0,blob:h,
arraybuffer:h,document:h};l.register=function(a,e){g[a]=e};return l})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(k,a,h,m,l,g,f,e,d){var b=h.mixin,c={},n=c._Line=function(b,a){this.start=b;this.end=a};n.prototype.getValue=function(b){return(this.end-this.start)*b+this.start};var u=c.Animation=function(a){b(this,a);h.isArray(this.curve)&&(this.curve=new n(this.curve[0],this.curve[1]))};u.prototype=new m;
h.extend(u,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var b=this._percent,a=this.easing;return a?a(b):b},_fire:function(b,c){c=c||[];if(this[b])if(a.debugAtAllCosts)this[b].apply(this,c);else try{this[b].apply(this,c)}catch(D){console.error("exception in animation handler for:",b),console.error(D)}return this},play:function(b,a){this._delayTimer&&this._clearTimer();if(a)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
this._fire("beforeBegin",[this.node]);b=b||this.delay;a=h.hitch(this,"_play",a);if(0<b)return this._delayTimer=setTimeout(a,b),this;a();return this},_play:function(b){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;b=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[b]));this._fire("onPlay",[b]);
this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(b,a){this._stopTimer();this._active=this._paused=!0;this._percent=b;a&&this.play();return this},stop:function(b){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();b&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var b=(new Date).valueOf(),b=0===this.duration?1:(b-this._startTime)/this.duration;1<=b&&(b=1);this._percent=b;this.easing&&(b=this.easing(b));this._fire("onAnimate",[this.curve.getValue(b)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,
!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var v=0,w=null,t={run:function(){}};h.extend(u,{_startTimer:function(){this._timer||(this._timer=g.after(t,"run",h.hitch(this,"_cycle"),!0),v++);w||(w=setInterval(h.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
this._timer=null,v--);0>=v&&(clearInterval(w),w=null,v=0)}});var B=f("ie")?function(b){var a=b.style;a.width.length||"auto"!=d.get(b,"width")||(a.width="auto")}:function(){};c._fade=function(a){a.node=e.byId(a.node);var f=b({properties:{}},a);a=f.properties.opacity={};a.start="start"in f?f.start:function(){return+d.get(f.node,"opacity")||0};a.end=f.end;a=c.animateProperty(f);g.after(a,"beforeBegin",h.partial(B,f.node),!0);return a};c.fadeIn=function(a){return c._fade(b({end:1},a))};c.fadeOut=function(a){return c._fade(b({end:0},
a))};c._defaultEasing=function(b){return.5+Math.sin((b+1.5)*Math.PI)/2};var C=function(b){this._properties=b;for(var a in b){var c=b[a];c.start instanceof l&&(c.tempColor=new l)}};C.prototype.getValue=function(b){var a={},c;for(c in this._properties){var d=this._properties[c],e=d.start;e instanceof l?a[c]=l.blendColors(e,d.end,b,d.tempColor).toCss():h.isArray(e)||(a[c]=(d.end-e)*b+e+("opacity"!=c?d.units||"px":0))}return a};c.animateProperty=function(a){var c=a.node=e.byId(a.node);a.easing||(a.easing=
k._defaultEasing);a=new u(a);g.after(a,"beforeBegin",h.hitch(a,function(){var a={},e;for(e in this.properties){var f=function(b,a){var c={height:b.offsetHeight,width:b.offsetWidth}[a];if(void 0!==c)return c;c=d.get(b,a);return"opacity"==a?+c:g?c:parseFloat(c)};if("width"==e||"height"==e)this.node.display="block";var n=this.properties[e];h.isFunction(n)&&(n=n(c));n=a[e]=b({},h.isObject(n)?n:{end:n});h.isFunction(n.start)&&(n.start=n.start(c));h.isFunction(n.end)&&(n.end=n.end(c));var g=0<=e.toLowerCase().indexOf("color");
"end"in n?"start"in n||(n.start=f(c,e)):n.end=f(c,e);g?(n.start=new l(n.start),n.end=new l(n.end)):n.start="opacity"==e?+n.start:parseFloat(n.start)}this.curve=new C(a)}),!0);g.after(a,"onAnimate",h.hitch(d,"set",a.node),!0);return a};c.anim=function(b,a,d,e,f,n){return c.animateProperty({node:b,duration:d||u.prototype.duration,properties:a,easing:e,onEnd:f}).play(n||0)};b(k,c);k._Animation=u;return c})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(k,a,
h,m){var l=k.Color=function(a){a&&this.setColor(a)};l.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};a.extend(l,{r:255,g:255,b:255,a:1,_set:function(a,f,e,d){this.r=a;this.g=f;this.b=e;this.a=d},setColor:function(g){a.isString(g)?
l.fromString(g,this):a.isArray(g)?l.fromArray(g,this):(this._set(g.r,g.g,g.b,g.a),g instanceof l||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+h.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var f=this.r+", "+this.g+", "+this.b;return(a?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});
l.blendColors=k.blendColors=function(a,f,e,d){d=d||new l;d.r=Math.round(a.r+(f.r-a.r)*e);d.g=Math.round(a.g+(f.g-a.g)*e);d.b=Math.round(a.b+(f.b-a.b)*e);d.a=a.a+(f.a-a.a)*e;return d.sanitize()};l.fromRgb=k.colorFromRgb=function(a,f){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&l.fromArray(a[1].split(/\s*,\s*/),f)};l.fromHex=k.colorFromHex=function(a,f){var e=f||new l,d=4==a.length?4:8,b=(1<<d)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;h.forEach(["b","g","r"],function(c){var f=
a&b;a>>=d;e[c]=4==d?17*f:f});e.a=1;return e};l.fromArray=k.colorFromArray=function(a,f){f=f||new l;f._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};l.fromString=k.colorFromString=function(a,f){var e=l.named[a];return e&&l.fromArray(e,f)||l.fromRgb(a,f)||l.fromHex(a,f)};return l})},"esri/config":function(){define(["require","exports","./core/global"],function(k,a,h){k={applicationUrl:h.location&&h.location.href,fontsUrl:"https://static.arcgis.com/fonts",
geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};k.request.corsEnabledServers=[];k.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return k})},"esri/core/global":function(){define(["require","exports"],function(k,a){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==
typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/kernel":function(){define("require exports dojo/_base/kernel ./core/has ./core/promiseUtils ./support/revision".split(" "),function(k,a,h,m,l,g){Object.defineProperty(a,"__esModule",{value:!0});a.revision=g.commitHash;(function(){var a=h.config,e=a.has&&void 0!==a.has["config-deferredInstrumentation"],d=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||
e||d||(m.add("config-deferredInstrumentation",!1,!0,!0),m.add("config-useDeferredInstrumentation",!1,!0,!0))})();a.version="4.14";a.workerMessages={request:function(a){return l.create(function(a){k(["./request"],a)}).then(function(e){var d=a.options||{};d.responseType="array-buffer";return e(a.url,d)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}};!m("host-webworker")&&m("esri-console-log-version")&&console.debug("Using ArcGIS API for JavaScript "+a.version+" [Date: "+
g.buildDate+", Revision: "+g.commitHash.slice(0,8)+"]")})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(k,a,h,m,l){function g(){if(e)return e;e={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,version:0};var b=document.createElement("canvas");if(!b)return e;
var a=l.createContext(b,{failIfMajorPerformanceCaveat:!0},"webgl");!a&&(a=l.createContext(b,{},"webgl"))&&(e.majorPerformanceCaveat=!0);if(!a)return e;b=a.getParameter(a.VERSION);if(!b)return e;if(b=b.match(/^WebGL\s+([\d.]*)/)){e.version=parseFloat(b[1]);e.available=.94<=e.version;if(b=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT))e.supportsHighPrecisionFragment=0<b.precision;e.supportsVertexShaderSamplers=0<a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);e.supportsElementIndexUint=
null!==a.getExtension("OES_element_index_uint");e.supportsStandardDerivatives=null!==a.getExtension("OES_standard_derivatives");e.supportsInstancedArrays=null!==a.getExtension("ANGLE_instanced_arrays");e.supportsTextureFloat=null!==a.getExtension("OES_texture_float")}e.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);return e}function f(){if(d)return d;d={available:!1,version:0};var b=document.createElement("canvas");if(!b)return d;b=l.createContext(b,{},"webgl2");if(!b)return d;d.available=!0;b=
b.getParameter(b.VERSION);if(!b)return d;if(b=b.match(/^WebGL\s+([\d.]*)/))d.version=parseFloat(b[1]);return d}(function(){var b=navigator.userAgent,a=b.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),b=b.match(/iPhone/i);a&&h.add("esri-mobile",a);b&&h.add("esri-iPhone",b);h.add("esri-geolocation",function(){return!!navigator.geolocation});h.add("esri-canvas-svg-support",function(){return!(h("trident")||h("ie"))});h.add("esri-secure-context",function(){if("isSecureContext"in
m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});h.add("esri-wasm","WebAssembly"in m);h.add("esri-shared-array-buffer","SharedArrayBuffer"in m);h.add("esri-atomics","Atomics"in m);h.add("esri-workers","Worker"in m);h.add("esri-text-decoder","TextDecoder"in m);h.add("esri-deprecation-warnings",!0);h("host-webworker")||(h.add("esri-abortable-fetch","fetch"in m&&"signal"in new Request("https://www.arcgis.com")),h.add("esri-image-decode",function(){if("decode"in
new Image){var b=new Image;b.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';b.decode().then(function(){h.add("esri-image-decode",!0,!0,!0)}).catch(function(){h.add("esri-image-decode",!1,!0,!0)})}else return!1}),h.add("esri-url-encodes-apostrophe",function(){var b=m.document.createElement("a");b.href="?'";return-1<b.href.indexOf("?%27")}),h.add("esri-webgl",function(){return g().available}),h.add("esri-webgl-high-precision-fragment",
function(){return g().supportsHighPrecisionFragment}),h.add("esri-webgl-vertex-shader-samplers",function(){return g().supportsVertexShaderSamplers}),h.add("esri-webgl-element-index-uint",function(){return g().supportsElementIndexUint}),h.add("esri-webgl-standard-derivatives",function(){return g().supportsStandardDerivatives}),h.add("esri-webgl-texture-float",function(){return g().supportsTextureFloat}),h.add("esri-webgl-instanced-arrays",function(){return g().supportsInstancedArrays}),h.add("esri-webgl-major-performance-caveat",
function(){return g().majorPerformanceCaveat}),h.add("esri-featurelayer-webgl",!0),h.add("esri-featurelayer-webgl-labeling",!0),h.add("esri-webgl2",function(){return f().available}),h.add("esri-webgl-max-texture-size",function(){return g().maxTextureSize}))})();var e=null,d=null;return h})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(k,a){function h(a,e,d){void 0===e&&(e={});var b;switch(d){case "webgl":b=["webgl","experimental-webgl","webkit-3d","moz-webgl"];
break;case "webgl2":b=["webgl2"];break;default:b=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}d=null;for(var c=0;c<b.length;c++){var f=b[c];try{d=a.getContext(f,e)}catch(u){}if(d)break}return d}function m(a,e){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+e+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
Object.defineProperty(a,"__esModule",{value:!0});a.createContextOrErrorHTML=function(a,e,d){void 0===e&&(e={});if(!window.WebGLRenderingContext)return m(a,l),null;e=h(a,e,d);return e?e:(m(a,g),null)};a.createContext=h;var l='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',g='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./Error ./events ./maybe ./has ./clock @dojo/framework/shim/Promise".split(" "),function(k,a,h,m,l,g,f,e,d,b){function c(b){return d("esri-native-promise")?Promise.all(b):l(b)}function n(b,a){if(d("esri-native-promise"))return new Promise(b);var c=new m(a);try{b(function(b){return I(b).then(c.resolve)},c.reject)}catch(H){c.reject(H)}return c.promise}function u(b){void 0===
b&&(b="Aborted");b=new g("AbortError",b);b.dojoType="cancel";return b}function v(){return new h.default}function w(b){if(B(b))throw u();}function t(b){return e.isSome(b)?"aborted"in b?b:b.signal:b}function B(b){b=t(b);return e.isSome(b)&&b.aborted}function C(b,a){b=t(b);if(!e.isNone(b))if(b.aborted)a(u());else return f.once(b,"abort",function(){return a(u())})}function A(b){return b&&("AbortError"===b.name||"cancel"===b.dojoType)}function q(b){var a=null;b=n(function(b,c){a={resolve:b,reject:c}},
b);a.promise=b;a.cancel=function(){a.reject(u())};return a}function D(b){if(b){if("function"!==typeof b.forEach){var a=Object.keys(b),c=a.map(function(a){return b[a]});return D(c).then(function(b){var c={};a.forEach(function(a,d){return c[a]=b[d]});return c})}var d=null,e=z;return n(function(a,c){var f=[],n=b.length;0===n&&a(f);b.forEach(function(b){var g={promise:b||e(b)};f.push(g);g.promise.then(function(b){g.value=b}).catch(function(b){g.error=b}).then(function(){--n;0===n&&(d?c(u()):a(f))})})},
function(a){d=a||"Invocation cancellation";b.forEach(function(b){"cancel"in b&&b.cancel(a)})})}}function y(b){if(d("esri-native-promise"))return Promise.reject(b);var a=new m;a.reject(b);return a.promise}function z(b){void 0===b&&(b=void 0);if(d("esri-native-promise"))return Promise.resolve(b);var a=new m;a.resolve(b);return a.promise}function E(b,a,c){void 0===a&&(a=void 0);var d=v();C(c,function(){return d.abort()});return n(function(c){var e=setTimeout(function(){e=0;c(a)},b);C(d,function(){e&&
(clearTimeout(e),y(u()))})},function(){return d.abort()})}function I(b){return b&&"object"===typeof b&&"then"in b&&"function"===typeof b.then?b:z(b)}Object.defineProperty(a,"__esModule",{value:!0});d.add("esri-native-promise",!1);a.all=c;a.filter=function(b,a){var d=b.slice();return c(b.map(function(b,c){return a(b,c)})).then(function(b){return d.filter(function(a,c){return b[c]})})};a.create=n;a.createAbortError=u;a.createAbortController=v;a.throwIfAborted=w;a.isAborted=B;a.throwIfAbortError=function(b){if(A(b))throw b;
};a.onAbort=C;a.onAbortOrThrow=function(b,a){b=t(b);if(!e.isNone(b))return w(b),f.once(b,"abort",function(){return a(u())})};a.isAbortError=A;a.createDeferred=q;a.eachAlways=D;a.eachAlwaysValues=function(b){return D(b).then(function(b){return b.filter(function(b){return!!b.value}).map(function(b){return b.value})})};a.first=function(b){return b&&b.length?n(function(a,c){for(var d=0;d<b.length;d++)b[d].then(a,c)}):z()};a.reject=y;a.resolve=z;a.after=E;a.timeout=function(b,a,c,d){var e=c&&"abort"in
c?c:null;null!=d||e||(d=c);var f=setTimeout(function(){f=0;e&&e.abort()},a),n=function(){throw d||new g("promiseUtils:timeout","The wrapped promise did not resolve within "+a+" ms");};return b.then(function(b){if(0===f)throw n();clearTimeout(f);return b},function(b){clearTimeout(f);throw 0===f?n():b;})};a.wrapCallback=function(b){var a=!1;return n(function(){b(function(b){a||z(b)})},function(){return a=!0})};a.isPromiseLike=function(b){return b&&"function"===typeof b.then};a.when=I;a.debounce=function(b,
a){void 0===a&&(a=-1);var c,d,e,f,n=null,g=function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];if(c)return d=t,f&&f.reject(u()),f=q(),t=f.promise,n&&(l=n,n=null,l.abort()),t;e=f||q();f=null;if(0<a){var h=v(),y=c=I(b.apply(void 0,t.concat([h.signal])));E(a).then(function(){c===y&&(f?h.abort():n=h)})}else c=1,c=I(b.apply(void 0,t));var t=function(){var b=d;d=e=c=n=null;null!=b&&g.apply(void 0,b)},l=c,w=e;l.then(t,t);l.then(w.resolve,w.reject);return w.promise};return g};a.createResolver=
function(a){var c,d;a=n(function(b,a){c=b;d=a},a);var e=function(b){c(b)};e.resolve=function(b){return c(b)};e.reject=function(b){return d(b)};e.timeout=function(a,c){return b.default.setTimeout(function(){return e.reject(c)},a)};e.promise=a;return e};a.always=function(b,a){return b.then(a,a)}})},"@dojo/framework/shim/AbortController":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&
define.amd&&define(["require","exports","./global","../has/has","./array"],k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});var h=k("./global"),m=k("../has/has"),l=k("./array");a.ShimAbortSignal=h.default.AbortSignal;m.default("abort-signal")||(h.default.AbortSignal=a.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=
function(a,e){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(e)};a.prototype.removeEventListener=function(a,e){if(a in this.listeners){var d=l.findIndex(this.listeners[a],function(b){return b===e});0<=d&&this.listeners[a].splice(d,1)}};a.prototype.dispatchEvent=function(a){var e=this,d=a.type;"abort"===d&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,a));if(!(d in this.listeners))return!1;this.listeners[d].forEach(function(b){setTimeout(function(){return b.call(e,
a)},0)});return!a.preventDefault};return a}());a.ShimAbortController=h.default.AbortController;m.default("abort-controller")||(h.default.AbortController=a.ShimAbortController=function(){function g(){this.signal=new a.ShimAbortSignal}g.prototype.abort=function(){var a;try{a=new Event("abort")}catch(e){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,!1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return g}());a.default=a.ShimAbortController})},
"@dojo/framework/shim/global":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define(["require","exports"],k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});k=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=k})},"@dojo/framework/has/has":function(){(function(k){"object"===
typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],k)})(function(k,a){function h(b){b=b.toLowerCase();return!!(b in e||b in a.testCache||a.testFunctions[b])}function m(b,c,d){void 0===d&&(d=!1);var f=b.toLowerCase();if(h(f)&&!d&&!(f in e))throw new TypeError('Feature "'+b+'" exists and overwrite not true.');"function"===typeof c?a.testFunctions[f]=c:(a.testCache[f]=
c,delete a.testFunctions[f])}function l(b){var c=b.toLowerCase();if(c in e)b=e[c];else if(a.testFunctions[c])b=a.testCache[c]=a.testFunctions[c].call(null),delete a.testFunctions[c];else if(c in a.testCache)b=a.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+b+'"');return b}Object.defineProperty(a,"__esModule",{value:!0});var g=k("tslib"),f=k("../shim/global");a.testCache={};a.testFunctions={};k=(f.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in
f.default&&delete f.default.DojoHasEnvironment;var e=k?"function"===typeof k?k.apply(f.default):k:{};a.load=function(b,a,d,e){b?a([b],d):d()};a.normalize=function(b,a){function c(b){var a=d[e++];if(":"===a)return null;if("?"===d[e++]){if(!b&&l(a))return c();c(!0);return c(b)}return a}var d=b.match(/[\?:]|[^:\?]*/g)||[],e=0;return(b=c())&&a(b)};a.exists=h;a.add=m;a.default=l;m("public-path",void 0);m("dojo-debug",!1);m("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);m("host-node",
function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});m("fetch","fetch"in f.default&&"function"===typeof f.default.fetch,!0);m("es6-array",function(){return["from","of"].every(function(b){return b in f.default.Array})&&["findIndex","find","copyWithin"].every(function(b){return b in f.default.Array.prototype})},!0);m("es6-array-fill",function(){return"fill"in f.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);m("es7-array",
function(){return"includes"in f.default.Array.prototype},!0);m("es6-map",function(){if("function"===typeof f.default.Map)try{var b=new f.default.Map([[0,1]]);return b.has(0)&&"function"===typeof b.keys&&l("es6-symbol")&&"function"===typeof b.values&&"function"===typeof b.entries}catch(c){}return!1},!0);m("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(b){return"function"===typeof f.default.Math[b]})},
!0);m("es6-math-imul",function(){return"imul"in f.default.Math?-5===Math.imul(4294967295,5):!1},!0);m("es6-object",function(){return l("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);m("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);m("es-observable",function(){return"undefined"!==typeof f.default.Observable},
!0);m("es6-promise",function(){return"undefined"!==typeof f.default.Promise&&l("es6-symbol")},!0);m("es2018-promise-finally",function(){return l("es6-promise")&&"undefined"!==typeof f.default.Promise.prototype.finally},!0);m("es6-set",function(){if("function"===typeof f.default.Set){var b=new f.default.Set([1]);return b.has(1)&&"keys"in b&&"function"===typeof b.keys&&l("es6-symbol")}return!1},!0);m("es6-string",function(){return["fromCodePoint"].every(function(b){return"function"===typeof f.default.String[b]})&&
"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(b){return"function"===typeof f.default.String.prototype[b]})},!0);m("es6-string-raw",function(){function b(b){for(var a=1;a<arguments.length;a++);a=g.__spread(b);a.raw=b.raw;return a}if("raw"in f.default.String){var a=b(d||(d=g.__makeTemplateObject(["a\n",""],["a\\n",""])),1);a.raw=["a\\n"];return"a\\n"===f.default.String.raw(a,42)}return!1},!0);m("es2017-string",function(){return["padStart","padEnd"].every(function(b){return"function"===
typeof f.default.String.prototype[b]})},!0);m("es6-symbol",function(){return"undefined"!==typeof f.default.Symbol&&"symbol"===typeof Symbol()},!0);m("es6-weakmap",function(){if("undefined"!==typeof f.default.WeakMap){var b={},a={},d=new f.default.WeakMap([[b,1]]);Object.freeze(b);return 1===d.get(b)&&d.set(a,2)===d&&l("es6-symbol")}return!1},!0);m("microtasks",function(){return l("es6-promise")||0||l("dom-mutationobserver")},!0);m("postmessage",function(){return"undefined"!==typeof f.default.window&&
"function"===typeof f.default.postMessage},!0);m("raf",function(){return"function"===typeof f.default.requestAnimationFrame},!0);m("setimmediate",function(){return"undefined"!==typeof f.default.setImmediate},!0);m("dom-mutationobserver",function(){if(l("host-browser")&&(f.default.MutationObserver||f.default.WebKitMutationObserver)){var b=document.createElement("div"),a=new (f.default.MutationObserver||f.default.WebKitMutationObserver)(function(){});a.observe(b,{attributes:!0});b.style.setProperty("display",
"block");return!!a.takeRecords().length}return!1},!0);m("dom-webanimation",function(){return l("host-browser")&&void 0!==f.default.Animation&&void 0!==f.default.KeyframeEffect},!0);m("abort-controller",function(){return"undefined"!==typeof f.default.AbortController});m("abort-signal",function(){return"undefined"!==typeof f.default.AbortSignal});m("dom-intersection-observer",function(){return l("host-browser")&&void 0!==f.default.IntersectionObserver},!0);m("dom-resize-observer",function(){return l("host-browser")&&
void 0!==f.default.ResizeObserver},!0);m("dom-pointer-events",function(){return l("host-browser")&&void 0!==f.default.onpointerdown},!0);m("build-elide",!1);var d})},"tslib/tslib":function(){var k,a,h,m,l,g,f,e,d,b,c,n,u,v,w,t,B,C,A;(function(b){function a(b,a){b!==c&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(c,d){return b[c]=a?a(c,d):d}}var c="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?
this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(d){b(a(c,a(d)))}):"object"===typeof module&&"object"===typeof module.exports?b(a(c,a(module.exports))):b(a(c))})(function(q){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])};k=function(b,a){function c(){this.constructor=b}D(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};a=Object.assign||
function(b){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e])}return b};h=function(b,a){var c={},d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&0>a.indexOf(d)&&(c[d]=b[d]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var e=0;for(d=Object.getOwnPropertySymbols(b);e<d.length;e++)0>a.indexOf(d[e])&&(c[d[e]]=b[d[e]])}return c};m=function(b,a,c,d){var e=arguments.length,f=3>e?a:null===d?d=Object.getOwnPropertyDescriptor(a,
c):d,n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(b,a,c,d);else for(var g=b.length-1;0<=g;g--)if(n=b[g])f=(3>e?n(f):3<e?n(a,c,f):n(a,c))||f;return 3<e&&f&&Object.defineProperty(a,c,f),f};l=function(b,a){return function(c,d){a(c,d,b)}};g=function(b,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,a)};f=function(b,a,c,d){return new (c||(c=Promise))(function(e,f){function n(b){try{t(d.next(b))}catch(R){f(R)}}function g(b){try{t(d["throw"](b))}catch(R){f(R)}}
function t(b){b.done?e(b.value):(new c(function(a){a(b.value)})).then(n,g)}t((d=d.apply(b,a||[])).next())})};e=function(b,a){function c(b){return function(a){return d([b,a])}}function d(c){if(f)throw new TypeError("Generator is already executing.");for(;e;)try{if(f=1,n&&(g=c[0]&2?n["return"]:c[0]?n["throw"]||((g=n["return"])&&g.call(n),0):n.next)&&!(g=g.call(n,c[1])).done)return g;if(n=0,g)c=[c[0]&2,g.value];switch(c[0]){case 0:case 1:g=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++;
n=c[1];c=[0];continue;case 7:c=e.ops.pop();e.trys.pop();continue;default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3]))e.label=c[1];else if(6===c[0]&&e.label<g[1])e.label=g[1],g=c;else if(g&&e.label<g[2])e.label=g[2],e.ops.push(c);else{g[2]&&e.ops.pop();e.trys.pop();continue}}c=a.call(b,e)}catch(R){c=[6,R],n=0}finally{f=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];
return g[1]},trys:[],ops:[]},f,n,g,t;return t={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t};d=function(b,a){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])};b=function(b){var a="function"===typeof Symbol&&b[Symbol.iterator],c=0;return a?a.call(b):{next:function(){b&&c>=b.length&&(b=void 0);return{value:b&&b[c++],done:!b}}}};c=function(b,a){var c="function"===typeof Symbol&&b[Symbol.iterator];if(!c)return b;b=c.call(b);var d,e=[],
f;try{for(;(void 0===a||0<a--)&&!(d=b.next()).done;)e.push(d.value)}catch(F){f={error:F}}finally{try{d&&!d.done&&(c=b["return"])&&c.call(b)}finally{if(f)throw f.error;}}return e};n=function(){for(var b=[],a=0;a<arguments.length;a++)b=b.concat(c(arguments[a]));return b};u=function(b){return this instanceof u?(this.v=b,this):new u(b)};v=function(b,a,c){function d(b){t[b]&&(l[b]=function(a){return new Promise(function(c,d){1<h.push([b,a,c,d])||e(b,a)})})}function e(b,a){try{var c=t[b](a);c.value instanceof
u?Promise.resolve(c.value.v).then(f,n):g(h[0][2],c)}catch(S){g(h[0][3],S)}}function f(b){e("next",b)}function n(b){e("throw",b)}function g(b,a){(b(a),h.shift(),h.length)&&e(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=c.apply(b,a||[]),l,h=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l};w=function(b){function a(a,e){c[a]=b[a]?function(c){return(d=!d)?{value:u(b[a](c)),done:"return"===a}:
e?e(c):c}:e}var c,d;return c={},a("next"),a("throw",function(b){throw b;}),a("return"),c[Symbol.iterator]=function(){return this},c};t=function(a){function c(b){f[b]=a[b]&&function(c){return new Promise(function(e,f){c=a[b](c);d(e,f,c.done,c.value)})}}function d(b,a,c,d){Promise.resolve(d).then(function(a){b({value:a,done:c})},a)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=a[Symbol.asyncIterator],f;return e?e.call(a):(a="function"===typeof b?b(a):a[Symbol.iterator](),
f={},c("next"),c("throw"),c("return"),f[Symbol.asyncIterator]=function(){return this},f)};B=function(b,a){Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};C=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a};A=function(b){return b&&b.__esModule?b:{"default":b}};q("__extends",k);q("__assign",a);q("__rest",h);q("__decorate",m);q("__param",l);q("__metadata",g);q("__awaiter",f);
q("__generator",e);q("__exportStar",d);q("__values",b);q("__read",c);q("__spread",n);q("__await",u);q("__asyncGenerator",v);q("__asyncDelegator",w);q("__asyncValues",t);q("__makeTemplateObject",B);q("__importStar",C);q("__importDefault",A)})},"@dojo/framework/shim/array":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),
k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});var h=k("tslib"),m=k("./global"),l=k("./iterator"),g=k("./number"),f=k("../has/has");k=k("./support/util");if(f.default("es6-array")&&f.default("es6-array-fill"))a.from=m.default.Array.from,a.of=m.default.Array.of,a.copyWithin=k.wrapNative(m.default.Array.prototype.copyWithin),a.fill=k.wrapNative(m.default.Array.prototype.fill),a.find=k.wrapNative(m.default.Array.prototype.find),a.findIndex=k.wrapNative(m.default.Array.prototype.findIndex);
else{var e=function(b){if(isNaN(b))return 0;b=Number(b);isFinite(b)&&(b=Math.floor(b));return Math.min(Math.max(b,0),g.MAX_SAFE_INTEGER)},d=function(b){b=Number(b);return isNaN(b)?0:0!==b&&isFinite(b)?(0<b?1:-1)*Math.floor(Math.abs(b)):b},b=function(b,a){return 0>b?Math.max(a+b,0):Math.min(b,a)};a.from=function(b,a,d){if(null==b)throw new TypeError("from: requires an array-like object");a&&d&&(a=a.bind(d));d=e(b.length);var c="function"===typeof this?Object(new this(d)):Array(d);if(!l.isArrayLike(b)&&
!l.isIterable(b))return c;if(l.isArrayLike(b)){if(0===d)return[];for(var f=0;f<b.length;f++)c[f]=a?a(b[f],f):b[f]}else{f=0;try{for(var n=h.__values(b),g=n.next();!g.done;g=n.next()){var u=g.value;c[f]=a?a(u,f):u;f++}}catch(D){m={error:D}}finally{try{g&&!g.done&&(q=n.return)&&q.call(n)}finally{if(m)throw m.error;}}}void 0!==b.length&&(c.length=d);return c;var m,q};a.of=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return Array.prototype.slice.call(b)};a.copyWithin=function(a,
f,g,l){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");var c=e(a.length);f=b(d(f),c);g=b(d(g),c);l=b(void 0===l?c:d(l),c);l=Math.min(l-g,c-f);c=1;f>g&&f<g+l&&(c=-1,g+=l-1,f+=l-1);for(;0<l;)g in a?a[f]=a[g]:delete a[f],f+=c,g+=c,l--;return a};a.fill=function(a,f,g,l){var c=e(a.length);g=b(d(g),c);for(l=b(void 0===l?c:d(l),c);g<l;)a[g++]=f;return a};a.find=function(b,d,e){d=a.findIndex(b,d,e);return-1!==d?b[d]:void 0};a.findIndex=function(b,a,d){var c=e(b.length);if(!a)throw new TypeError("find: second argument must be a function");
d&&(a=a.bind(d));for(d=0;d<c;d++)if(a(b[d],d,b))return d;return-1}}f.default("es7-array")?a.includes=k.wrapNative(m.default.Array.prototype.includes):a.includes=function(b,a,d){void 0===d&&(d=0);var c;c=b.length;c=Number(c);isNaN(c)?c=0:(isFinite(c)&&(c=Math.floor(c)),c=Math.min(Math.max(c,0),g.MAX_SAFE_INTEGER));for(;d<c;++d){var e=b[d];if(a===e||a!==a&&e!==e)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=
k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],k)})(function(k,a){function h(a){return a&&"function"===typeof a[Symbol.iterator]}function m(a){return a&&"number"===typeof a.length}function l(a){if(h(a))return a[Symbol.iterator]();if(m(a))return new e(a)}Object.defineProperty(a,"__esModule",{value:!0});k("./Symbol");var g=k("./string"),f={done:!0,value:void 0},e=function(){function a(b){this._nextIndex=-1;
h(b)?this._nativeIterator=b[Symbol.iterator]():this._list=b}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:f:f};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=e;a.isIterable=h;a.isArrayLike=m;a.get=l;a.forOf=function(a,b,c){function d(){e=!0}var e=!1;if(m(a)&&"string"===typeof a)for(var f=a.length,h=0;h<f;++h){var t=a[h];if(h+1<f){var k=t.charCodeAt(0);
k>=g.HIGH_SURROGATE_MIN&&k<=g.HIGH_SURROGATE_MAX&&(t+=a[++h])}b.call(c,t,a,d);if(e)break}else if(f=l(a))for(h=f.next();!h.done;){b.call(c,h.value,a,d);if(e)break;h=f.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],k)})(function(k,a){function h(b){return b&&("symbol"===
typeof b||"Symbol"===b["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var m=k("../has/has"),l=k("./global"),g=k("./support/util");a.Symbol=l.default.Symbol;if(!m.default("es6-symbol")){var f=function(b){if(!h(b))throw new TypeError(b+" is not a symbol");return b},e=Object.defineProperties,d=Object.defineProperty,b=Object.create,c=Object.prototype,n={},u=function(){var a=b(null);return function(b){for(var e=0,f;a[String(b)+(e||"")];)++e;b+=String(e||"");a[b]=!0;f="@@"+b;Object.getOwnPropertyDescriptor(c,
f)||d(c,f,{set:function(b){d(this,f,g.getValueDescriptor(b))}});return f}}(),v=function t(b){if(this instanceof v)throw new TypeError("TypeError: Symbol is not a constructor");return t(b)};a.Symbol=l.default.Symbol=function B(b){if(this instanceof B)throw new TypeError("TypeError: Symbol is not a constructor");var a=Object.create(v.prototype);b=void 0===b?"":String(b);return e(a,{__description__:g.getValueDescriptor(b),__name__:g.getValueDescriptor(u(b))})};d(a.Symbol,"for",g.getValueDescriptor(function(b){return n[b]?
n[b]:n[b]=a.Symbol(String(b))}));e(a.Symbol,{keyFor:g.getValueDescriptor(function(b){var a;f(b);for(a in n)if(n[a]===b)return a}),hasInstance:g.getValueDescriptor(a.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:g.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:g.getValueDescriptor(a.Symbol.for("iterator"),!1,!1),match:g.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:g.getValueDescriptor(a.Symbol.for("observable"),!1,!1),replace:g.getValueDescriptor(a.Symbol.for("replace"),
!1,!1),search:g.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:g.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:g.getValueDescriptor(a.Symbol.for("split"),!1,!1),toPrimitive:g.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:g.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:g.getValueDescriptor(a.Symbol.for("unscopables"),!1,!1)});e(v.prototype,{constructor:g.getValueDescriptor(a.Symbol),toString:g.getValueDescriptor(function(){return this.__name__},
!1,!1)});e(a.Symbol.prototype,{toString:g.getValueDescriptor(function(){return"Symbol ("+f(this).__description__+")"}),valueOf:g.getValueDescriptor(function(){return f(this)})});d(a.Symbol.prototype,a.Symbol.toPrimitive,g.getValueDescriptor(function(){return f(this)}));d(a.Symbol.prototype,a.Symbol.toStringTag,g.getValueDescriptor("Symbol",!1,!1,!0));d(v.prototype,a.Symbol.toPrimitive,g.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],!1,!1,!0));d(v.prototype,a.Symbol.toStringTag,g.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],
!1,!1,!0))}a.isSymbol=h;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||Object.defineProperty(a.Symbol,b,g.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"@dojo/framework/shim/support/util":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&
define(["require","exports"],k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,m,l,g){void 0===m&&(m=!1);void 0===l&&(l=!0);void 0===g&&(g=!0);return{value:a,enumerable:m,writable:l,configurable:g}};a.wrapNative=function(a){return function(h){for(var l=[],g=1;g<arguments.length;g++)l[g-1]=arguments[g];return a.apply(h,l)}}})},"@dojo/framework/shim/string":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,
exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});var h=k("tslib"),m=k("./global"),l=k("../has/has");k=k("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=56320;a.LOW_SURROGATE_MAX=57343;if(l.default("es6-string")&&l.default("es6-string-raw"))a.fromCodePoint=m.default.String.fromCodePoint,
a.raw=m.default.String.raw,a.codePointAt=k.wrapNative(m.default.String.prototype.codePointAt),a.endsWith=k.wrapNative(m.default.String.prototype.endsWith),a.includes=k.wrapNative(m.default.String.prototype.includes),a.normalize=k.wrapNative(m.default.String.prototype.normalize),a.repeat=k.wrapNative(m.default.String.prototype.repeat),a.startsWith=k.wrapNative(m.default.String.prototype.startsWith);else{var g=function(a,e,d,b,c){void 0===c&&(c=!1);if(null==e)throw new TypeError("string."+a+" requires a valid string to search against.");
a=e.length;return[e,String(d),Math.min(Math.max(b!==b?c?a:0:b,0),a)]};a.fromCodePoint=function(){for(var f=0;f<arguments.length;f++);f=arguments.length;if(!f)return"";for(var e=String.fromCharCode,d=[],b=-1,c="";++b<f;){var n=Number(arguments[b]);if(!(isFinite(n)&&Math.floor(n)===n&&0<=n&&1114111>=n))throw RangeError("string.fromCodePoint: Invalid code point "+n);65535>=n?d.push(n):(n-=65536,d.push((n>>10)+a.HIGH_SURROGATE_MIN,n%1024+a.LOW_SURROGATE_MIN));if(b+1===f||16384<d.length)c+=e.apply(null,
d),d.length=0}return c};a.raw=function(a){for(var e=[],d=1;d<arguments.length;d++)e[d-1]=arguments[d];var d=a.raw,b="",c=e.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var f=0,g=d.length;f<g;f++)b+=d[f]+(f<c&&f<g-1?e[f]:"");return b};a.codePointAt=function(f,e){void 0===e&&(e=0);if(null==f)throw new TypeError("string.codePointAt requries a valid string.");var d=f.length;e!==e&&(e=0);if(!(0>e||e>=d)){var b=f.charCodeAt(e);return b>=
a.HIGH_SURROGATE_MIN&&b<=a.HIGH_SURROGATE_MAX&&d>e+1&&(f=f.charCodeAt(e+1),f>=a.LOW_SURROGATE_MIN&&f<=a.LOW_SURROGATE_MAX)?1024*(b-a.HIGH_SURROGATE_MIN)+f-a.LOW_SURROGATE_MIN+65536:b}};a.endsWith=function(a,e,d){if(""===e)return!0;if("undefined"===typeof d)d=a.length;else if(null===d||isNaN(d))return!1;d=h.__read(g("endsWith",a,e,d,!0),3);a=d[0];e=d[1];d=d[2];var b=d-e.length;return 0>b?!1:a.slice(b,d)===e};a.includes=function(a,e,d){void 0===d&&(d=0);d=h.__read(g("includes",a,e,d),3);a=d[0];e=d[1];
d=d[2];return-1!==a.indexOf(e,d)};a.repeat=function(a,e){void 0===e&&(e=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");e!==e&&(e=0);if(0>e||Infinity===e)throw new RangeError("string.repeat requires a non-negative finite count.");for(var d="";e;)e%2&&(d+=a),1<e&&(a+=a),e>>=1;return d};a.startsWith=function(a,e,d){void 0===d&&(d=0);e=String(e);d=h.__read(g("startsWith",a,e,d),3);a=d[0];e=d[1];d=d[2];var b=d+e.length;return b>a.length?!1:a.slice(d,b)===e}}l.default("es2017-string")?
(a.padEnd=k.wrapNative(m.default.String.prototype.padEnd),a.padStart=k.wrapNative(m.default.String.prototype.padStart)):(a.padEnd=function(f,e,d){void 0===d&&(d=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f+=a.repeat(d,Math.floor(e/d.length))+d.slice(0,e%d.length));return f},a.padStart=function(f,e,
d){void 0===d&&(d=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f=a.repeat(d,Math.floor(e/d.length))+d.slice(0,e%d.length)+f);return f})})},"@dojo/framework/shim/number":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=
k)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],k)})(function(k,a){function h(a){return"number"===typeof a&&l.default.isFinite(a)}function m(a){return h(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var l=k("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===typeof a&&l.default.isNaN(a)};a.isFinite=h;a.isInteger=m;a.isSafeInteger=function(g){return m(g)&&
Math.abs(g)<=a.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(k,a,h,m){var l=k.some;return function(g){var f,e;a.isArray(g)?e=g:g&&"object"===typeof g&&(f=g);var d,b=[];if(f){e=[];for(var c in f)Object.hasOwnProperty.call(f,c)&&(b.push(c),e.push(f[c]));d={}}else e&&(d=[]);if(!e||!e.length)return(new h).resolve(d);var n=new h;n.promise.always(function(){d=b=null});var u=e.length;l(e,function(a,c){f||b.push(c);m(a,function(a){n.isFulfilled()||
(d[b[c]]=a,0===--u&&n.resolve(d))},n.reject);return n.isFulfilled()});return n.promise}})},"esri/core/Error":function(){define("require exports ./tsSupport/extendsHelper ./lang ./Logger ./Message".split(" "),function(k,a,h,m,l,g){k=function(a){function e(d,b,c){var f=a.call(this,d,b,c)||this;return f instanceof e?f:new e(d,b,c)}h(e,a);e.prototype.toJSON=function(){if(null!=this.details)try{var a=m.clone(this.details);return{name:this.name,message:this.message,details:a,dojoType:this.dojoType}}catch(b){throw l.getLogger("esri.core.Error").error(b),
b;}return{name:this.name,message:this.message,details:this.details,dojoType:this.dojoType}};e.fromJSON=function(a){var b=new e(a.name,a.message,a.details);null!=a.dojoType&&(b.dojoType=a.dojoType);return b};return e}(g);k.prototype.type="error";return k})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var m in h)h.hasOwnProperty(m)&&(a[m]=h[m])};return function(a,
h){function m(){this.constructor=a}k(a,h);a.prototype=null===h?Object.create(h):(m.prototype=h.prototype,new m)}}()})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(k,a,h){function m(a,e){var d;if(e)for(d in a)a.hasOwnProperty(d)&&(void 0===a[d]?delete a[d]:a[d]instanceof Object&&m(a[d],!0));else for(d in a)a.hasOwnProperty(d)&&void 0===a[d]&&delete a[d];return a}function l(a){return a&&"object"===typeof a&&"function"!==typeof a?h.isInt8Array(a)||h.isUint8Array(a)||
h.isUint8ClampedArray(a)||h.isInt16Array(a)||h.isUint16Array(a)||h.isInt32Array(a)||h.isUint32Array(a)||h.isFloat32Array(a)||h.isFloat64Array(a)?h.slice(a):a instanceof Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(l):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():g({},a,l):a}function g(a,e,d){var b,c,f={};for(b in e){c=e[b];var g=!(b in f)||
f[b]!==c;if(!(b in a)||a[b]!==c&&g)a[b]=d?d(c):c}return a}Object.defineProperty(a,"__esModule",{value:!0});a.fixJson=m;a.clone=l;a.equals=function(a,e){return a===e||"number"===typeof a&&isNaN(a)&&"number"===typeof e&&isNaN(e)||"function"===typeof(a||{}).getTime&&"function"===typeof(e||{}).getTime&&a.getTime()===e.getTime()||!1};a.mixin=function(a){void 0===a&&(a={});for(var e=[],d=1;d<arguments.length;d++)e[d-1]=arguments[d];for(d=0;d<e.length;d++)g(a,e[d]);return a}})},"esri/core/typedArrayUtil":function(){define(["require",
"exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,m){if(a.forEach)a.forEach(m);else for(var l=0;l<a.length;l++)m(a[l],l,a)};a.slice=function(a,m,l){if(a.slice)return a.slice(m,l);void 0===m?m=0:(0>m&&(m+=a.length),m=Math.min(a.length,Math.max(0,m)));void 0===l?l=a.length:(0>l&&(l+=a.length),l=Math.min(a.length,Math.max(0,l)));l=Math.max(0,l-m);for(var g=new a.constructor(l),f=0;f<l;f++)g[f]=a[m+f];return g};a.isArrayBuffer=function(a){return a instanceof
ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};a.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};a.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};a.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};a.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===
a.constructor.name};a.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};a.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};a.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};a.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};a.isFloat64Array=function(a){return a instanceof
Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};a.toArray=function(a){for(var h=Array(a.length),l=0;l<a.length;l++)h[l]=a[l];return h};a.estimateSize=function(a){return a?128+a.buffer.byteLength+64:0}})},"esri/core/Logger":function(){define(["require","exports","./has","./string","@dojo/framework/shim/Promise"],function(k,a,h,m){var l={info:0,warn:1,error:2};k=function(){function a(f){void 0===f&&(f={});this._loggedMessages={error:new Map,warn:new Map,info:new Map};this.module=
f.module||"";this.writer=f.writer||null;this.level=f.level||null;null!=f.enabled&&(this.enabled=!!f.enabled);a._loggers[this.module]=this;f=this.module.lastIndexOf(".");-1!==f&&(this.parent=a.getLogger(this.module.slice(0,f)))}a.prototype.log=function(f,e){for(var d=[],b=2;b<arguments.length;b++)d[b-2]=arguments[b];if(this._isEnabled()&&this._matchLevel(f)){if("always"!==e&&!a._throttlingDisabled){var b=this._argsToKey(d),c=this._loggedMessages[f].get(b);if("once"===e&&null!=c||"oncePerTick"===e&&
c>=a._tickCounter)return;this._loggedMessages[f].set(b,a._tickCounter);a._scheduleTickCounterIncrement()}(b=this._inheritedWriter())&&b.apply(void 0,[f,this.module].concat(d))}};a.prototype.error=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["error","always"].concat(a))};a.prototype.warn=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["warn","always"].concat(a))};a.prototype.info=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=
arguments[e];this.log.apply(this,["info","always"].concat(a))};a.prototype.errorOnce=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["error","once"].concat(a))};a.prototype.warnOnce=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["warn","once"].concat(a))};a.prototype.infoOnce=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["info","once"].concat(a))};a.prototype.errorOncePerTick=
function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["error","oncePerTick"].concat(a))};a.prototype.warnOncePerTick=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["warn","oncePerTick"].concat(a))};a.prototype.infoOncePerTick=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];this.log.apply(this,["info","oncePerTick"].concat(a))};a.prototype.getLogger=function(f){return a.getLogger(this.module+"."+f)};
Object.defineProperty(a,"test",{get:function(){return{resetLoggers:function(f){void 0===f&&(f={});var e=a._loggers;a._loggers=f;return e},set throttlingDisabled(f){a._throttlingDisabled=f}}},enumerable:!0,configurable:!0});a.getLogger=function(f){var e=a._loggers[f];e||(e=new a({module:f}));return e};a.prototype._parentWithMember=function(a,e){for(var d=this;d&&null==d[a];)d=d.parent;return d?d[a]:e};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};
a.prototype._consoleWriter=function(a,e){for(var d=[],b=2;b<arguments.length;b++)d[b-2]=arguments[b];console[a].apply(console,["["+e+"]"].concat(d))};a.prototype._matchLevel=function(a){return l[this._parentWithMember("level","error")]<=l[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a.prototype._argsToKey=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return m.numericHash(JSON.stringify(a,function(a,b){return"object"!==typeof b||Array.isArray(b)?
b:"[Object]"}))};a._scheduleTickCounterIncrement=function(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then(function(){a._tickCounter++;a._tickCounterScheduled=!1}))};a._loggers={};a._tickCounter=0;a._tickCounterScheduled=!1;a._throttlingDisabled=!1;return a}();k.getLogger("esri").level="warn";return k})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(k,a,h,m){Object.defineProperty(a,"__esModule",{value:!0});
var l=/\{([^\}]+)\}/g;a.endsWith=m.endsWith;a.startsWith=m.startsWith;a.replace=function(a,f){return a.replace(l,"object"===typeof f?function(a,d){return h.getDeepValue(d,f)}:function(a,d){return f(d)})};a.escapeRegExpString=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return"\\"+a})};a.numericHash=function(a){for(var f=0,e=0;e<a.length;e++)f=(f<<5)-f+a.charCodeAt(e),f|=0;return f}})},"esri/core/object":function(){define(["require","exports"],function(k,a){function h(a,
l,g){for(var f=0;f<a.length;f++){var e=a[f];if(null==g)return;if(!(e in g))if(l)g[e]={};else return;g=g[e]}return g}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,l){if(null!=l)return l[a]||h(a.split("."),!1,l)};a.setDeepValue=function(a,l,g){var f=a.split(".");a=f.pop();(g=h(f,!0,g))&&a&&(g[a]=l)}})},"@dojo/framework/shim/Promise":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===
typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),k)})(function(k,a){Object.defineProperty(a,"__esModule",{value:!0});var h=k("tslib"),m=k("./global"),l=k("./support/queue");k("./Symbol");k=k("../has/has");a.ShimPromise=m.default.Promise;a.isThenable=function(a){return a&&"function"===typeof a.then};k.default("es6-promise")||(m.default.Promise=a.ShimPromise=(g=function(){function f(e){var d=this;this.state=1;this[Symbol.toStringTag]=
"Promise";var b=!1,c=[],n=function(a){c&&c.push(a)},g=function(a,b){1===d.state&&(d.state=a,d.resolvedValue=b,n=l.queueMicroTask,c&&0<c.length&&l.queueMicroTask(function(){if(c){for(var a=c.length,b=0;b<a;++b)c[b].call(null);c=null}}))},h=function(c,e){1!==d.state||b||(a.isThenable(e)?(e.then(g.bind(null,0),g.bind(null,2)),b=!0):g(c,e))};this.then=function(a,b){return new f(function(c,e){n(function(){var f=2===d.state?b:a;if("function"===typeof f)try{c(f(d.resolvedValue))}catch(q){e(q)}else 2===d.state?
e(d.resolvedValue):c(d.resolvedValue)})})};try{e(h.bind(null,0),h.bind(null,2))}catch(w){g(2,w)}}f.all=function(e){return new this(function(d,b){function c(a,b){g[a]=b;++l;t||l<w||d(g)}function n(d,e){++w;a.isThenable(e)?e.then(c.bind(null,d),b):f.resolve(e).then(c.bind(null,d))}var g=[],l=0,w=0,t=!0,m=0;try{for(var k=h.__values(e),A=k.next();!A.done;A=k.next())n(m,A.value),m++}catch(y){q={error:y}}finally{try{A&&!A.done&&(D=k.return)&&D.call(k)}finally{if(q)throw q.error;}}(t=!1,l<w)||d(g);var q,
D})};f.race=function(a){return new this(function(d,b){try{for(var c=h.__values(a),e=c.next();!e.done;e=c.next()){var g=e.value;g instanceof f?g.then(d,b):f.resolve(g).then(d)}}catch(t){l={error:t}}finally{try{e&&!e.done&&(w=c.return)&&w.call(c)}finally{if(l)throw l.error;}}var l,w})};f.reject=function(a){return new this(function(d,b){b(a)})};f.resolve=function(a){return new this(function(d){d(a)})};f.prototype.catch=function(a){return this.then(void 0,a)};return f}(),g[Symbol.species]=a.ShimPromise,
g));k.default("es2018-promise-finally")||(m.default.Promise.prototype.finally=function(a){return this.then(a&&function(e){return Promise.resolve(a()).then(function(){return e})},a&&function(e){return Promise.resolve(a()).then(function(){throw e;})})});a.default=a.ShimPromise;var g})},"@dojo/framework/shim/support/queue":function(){(function(k){"object"===typeof module&&"object"===typeof module.exports?(k=k(require,exports),void 0!==k&&(module.exports=k)):"function"===typeof define&&define.amd&&define(["require",
"exports","../global","../../has/has"],k)})(function(k,a){function h(a){a&&a.isActive&&a.callback&&a.callback()}function m(a,c){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;c&&c()}}}Object.defineProperty(a,"__esModule",{value:!0});var l=k("../global"),g=k("../../has/has"),f,e;a.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=d(a);return m(a,c&&function(){c(b)})}var c,d;if(g.default("postmessage")){var e=[];l.default.addEventListener("message",
function(a){a.source===l.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),e.length&&h(e.shift()))});d=function(a){e.push(a);l.default.postMessage("dojo-queue-message","*")}}else g.default("setimmediate")?(c=l.default.clearImmediate,d=function(a){return setImmediate(h.bind(null,a))}):(c=l.default.clearTimeout,d=function(a){return setTimeout(h.bind(null,a),0)});return g.default("microtasks")?a:function(b){f();return a(b)}}();if(!g.default("microtasks")){var d=!1;e=[];f=function(){d||(d=
!0,a.queueTask(function(){d=!1;if(e.length)for(var a=void 0;a=e.shift();)h(a)}))}}a.queueAnimationTask=function(){function b(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(h.bind(null,a));return m(a,function(){cancelAnimationFrame(b)})}return g.default("raf")?g.default("microtasks")?b:function(a){f();return b(a)}:a.queueTask}();a.queueMicroTask=function(){var a;if(g.default("host-node"))a=function(a){l.default.process.nextTick(h.bind(null,a))};else if(g.default("es6-promise"))a=function(a){l.default.Promise.resolve(a).then(h)};
else if(g.default("dom-mutationobserver")){var c=l.default.MutationObserver||l.default.WebKitMutationObserver,d=document.createElement("div"),u=[];(new c(function(){for(;0<u.length;){var a=u.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(d,{attributes:!0});a=function(a){u.push(a);d.setAttribute("queueStatus","1")}}else a=function(a){f();e.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return m(b)}}()})},"esri/core/Message":function(){define(["require","exports","./object"],
function(k,a,h){function m(a,g){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,e){if(""===e)return"$";a=h.getDeepValue(e,g);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+e+'" in template');return a.toString()})}return function(){function a(g,f,e){this instanceof a&&(this.name=g,this.message=f&&m(f,e)||"",this.details=e)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/events":function(){define(["require",
"exports"],function(k,a){function h(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function m(a,g,f){if(!h(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(g,f);if(Array.isArray(g)){for(var e=g.slice(),d=0;d<e.length;d++)a.addEventListener(e[d],f);return{remove:function(){for(var b=0;b<e.length;b++)a.removeEventListener(e[b],f)}}}a.addEventListener(g,f);return{remove:function(){a.removeEventListener(g,f)}}}Object.defineProperty(a,
"__esModule",{value:!0});a.isEventTarget=h;a.on=m;a.once=function(a,g,f){if(!h(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(g,f);var e=m(a,g,function(d){e.remove();f.call(a,d)});return{remove:function(){e.remove()}}};a.pausable=function(a,g,f){var e=!1,d=m(a,g,function(b){e||f.call(a,b)});return{resume:function(){e=!1},pause:function(){e=!0},remove:function(){d.remove()}}};a.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function(l){l=l.key;return a.ieKeyNormalizationMap[l]||l}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(k,a,h){function m(a,g,f){return null!=a?f(a):g}Object.defineProperty(a,"__esModule",{value:!0});a.isSome=function(a){return null!=a};a.isNone=function(a){return null==a};a.applySome=function(a,g){return null!=
a?g(a):null};a.unwrap=function(a){return a};a.unwrapOr=function(a,g){return null!=a?a:"function"===typeof g?g():g};a.expect=function(a){return a};a.mapSome=function(a,g){var f=[];a.forEach(function(a){a=g(a);null!=a&&f.push(a)});return f};a.mapMany=function(a,g){for(var f=[],e=0;e<a.length;e++)f.push(m(a[e],null,g));return f};a.forEachSome=function(a,g){for(var f=0;f<a.length;f++)m(a[f],null,g)};a.mapOr=m;a.andThen=function(a,g){return null!=a?g(a):null};a.mapSomeFirst=function(a,g){for(var f=0;f<
a.length;f++){var e=g(a[f]);if(null!=e)return e}return null};a.get=function(a){for(var g=[],f=1;f<arguments.length;f++)g[f-1]=arguments[f];for(var f=a,e=0;e<g.length&&f;)f=f[g[e++]];return f}})},"esri/core/clock":function(){define(["require","exports","./global"],function(k,a,h){function m(a){return{setTimeout:function(g,f){var e=a.setTimeout(g,f);return{remove:function(){return a.clearTimeout(e)}}}}}Object.defineProperty(a,"__esModule",{value:!0});a.wrap=m;a.default=m(h)})},"esri/support/revision":function(){define(["require",
"exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.buildDate="20191223";a.commitHash="2e21d5ca73053a5f34cf5503960a84aed8b3aa46"})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./utils ../../views/support/Scheduler".split(" "),function(k,a,h,m,l,g,f){var e=g.MessageType.CLOSE,d=g.MessageType.ABORT,b=g.MessageType.INVOKE,c=g.MessageType.RESPONSE,n=g.MessageType.OPEN_PORT,u=g.MessageType.ON,v=function(){function a(a){this._timer=
null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===g.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<
b.length;a++){var c=b[a];this._cancelledJobIds.has(c.jobId)||this._invoke(c)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b,c){var d=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new v(function(a){return d._onInvokeMessage(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._channel=c.channel;c.scheduler&&(this._frameTask=c.scheduler.registerTask(f.Task.REMOTE_CLIENT,
function(a){return d._update(a)},function(){return 0<d._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}a.connect=function(b){var c=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(c.port1,b,{channel:c});return c.port2};a.prototype.close=function(){this._post({type:e});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,
c,e){var f=this,n=e&&e.signal,t=e&&e.transferList;if(!this._port)return l.reject(new h("remote-client:port-closed","Can't invoke(), port is closed"));var u=g.newJobId(),m=function(){var a=f._outJobs.get(u);a&&(f._outJobs["delete"](u),f._post({type:d,jobId:u}),a.reject(l.createAbortError()))};return l.create(function(d,e){l.onAbortOrThrow(n,function(){m();e(l.createAbortError())});f._outJobs.set(u,{resolve:d,reject:e});f._post({type:b,jobId:u,methodName:a,abortable:!0},c,t)},m)};a.prototype.on=function(a,
b){function c(a){b(a.data)}var d=new MessageChannel;this._port.postMessage({type:g.MessageType.ON,eventType:a,port:d.port2},[d.port2]);d.port1.addEventListener("message",c);d.port1.start();return{remove:function(){d.port1.postMessage({type:g.MessageType.CLOSE});d.port1.close();d.port1.removeEventListener("message",c)}}};a.prototype.openPort=function(){var a=new MessageChannel;this._post({type:n,port:a.port2});return a.port1};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",
this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(l.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=g.receiveMessage(a))switch(a.type){case c:this._onResponseMessage(a);break;case b:this._invokeQueue.push(a);break;case d:this._onAbortMessage(a);
break;case e:this._onCloseMessage();break;case n:this._onOpenPortMessage(a);break;case u:this._onOnMessage(a)}};a.prototype._onAbortMessage=function(a){var b=this._inJobs,c=a.jobId,d=b.get(c);this._invokeQueue.push(a);d&&(d.controller&&d.controller.abort(),b["delete"](c))};a.prototype._onCloseMessage=function(){var a=this._client;this._close();a&&a.remoteClient===this&&"destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvokeMessage=function(a){var b=this,d=a.methodName,e=a.jobId,f=a.data;
a=a.abortable?l.createAbortController():null;var n=this._inJobs,t=this._client,u=t[d],h;try{if(!u&&d&&-1!==d.indexOf("."))for(var m=d.split("."),w=0;w<m.length-1;w++)t=t[m[w]],u=t[m[w+1]];if("function"!==typeof u)throw new TypeError(d+" is not a function");h=u.call(t,f,{client:this,signal:a?a.signal:null})}catch(L){this._post({type:c,jobId:e,error:g.toInvokeError(L)});return}if(l.isPromiseLike(h)){n.set(e,{controller:a,promise:h});if(a&&"cancel"in h)l.onAbort(a.signal,function(){return h.cancel()});
h.then(function(a){n.has(e)&&(n["delete"](e),b._post({type:c,jobId:e},a))},function(a){n.has(e)&&(n["delete"](e),l.isAbortError(a)||b._post({type:c,jobId:e,error:g.toInvokeError(a||{message:"Error encountered at method "+d})}))})}else this._post({type:c,jobId:e},h)};a.prototype._onOpenPortMessage=function(b){new a(b.port,this._client,{})};a.prototype._onOnMessage=function(a){var b=a.port,c=this._client.on(a.eventType,function(a){delete a.target;b.postMessage(a)}),d=m.on(a.port,"message",function(a){g.receiveMessage(a).type===
g.MessageType.CLOSE&&(d.remove(),c.remove(),b.close())})};a.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b=a.jobId,c=a.error;a=a.data;var d=this._outJobs;if(d.has(b)){var e=d.get(b);d["delete"](b);c?e.reject(h.fromJSON(JSON.parse(c))):e.resolve(a)}};
a.prototype._post=function(a,b,c){return g.postMessage(this._port,a,b,c)};return a}()})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(k,a,h){function m(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function l(a){if(!a||!a.length)return null;if(h("esri-workers-arraybuffer-transfer"))return a;a=a.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return a.length?a:null}Object.defineProperty(a,
"__esModule",{value:!0});var g;(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";a[a.OPEN_PORT=9]="OPEN_PORT";a[a.ON=10]="ON"})(g=a.MessageType||(a.MessageType={}));var f=0;a.newJobId=function(){return f++};a.isTranferableResult=m;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,
message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,d,b,c){d.type===g.OPEN_PORT?a.postMessage(d,[d.port]):d.type!==g.INVOKE&&d.type!==g.RESPONSE?a.postMessage(d):(m(b)?(c=l(b.transferList),d.data=b.result):(c=l(c),d.data=b),c?a.postMessage(d,c):a.postMessage(d))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/maybe ../../core/now ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),
function(k,a,h,m,l,g,f,e){function d(b){return b in a.taskPriorities?a.taskPriorities[b]:"number"===typeof b?b:1}Object.defineProperty(a,"__esModule",{value:!0});var b;a.newScheduler=function(a){return new c.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3s controller";a.POINT_CLOUD_LAYER="point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";
a.DECONFLICTOR_IMMEDIATE="fast deconflictor";a.DECONFLICTOR_DELAYED="delayed deconflictor";a.GRAPHICS_CORE="Graphics3D";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.LABELER="labeler";a.FEATURE_TILE_TREE="feature tile tree";a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";
a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.OVERLAY_MANAGER="overlay manager";a.INTERACTIVE_TOOL="interactive tool";a[a.TEST_PRIO=1]="TEST_PRIO"})(k=a.Task||(a.Task={}));a.taskPriorities=(b={},b[k.REMOTE_CLIENT]=1,b[k.STREAM_DATA_LOADER]=1,b[k.TERRAIN_SURFACE]=1,b[k.SURFACE_GEOMETRY_UPDATES]=1,b[k.I3S_CONTROLLER]=2,b[k.POINT_CLOUD_LAYER]=2,b[k.FEATURE_TILE_FETCHER]=2,b[k.DECONFLICTOR_IMMEDIATE]=2,b[k.DECONFLICTOR_DELAYED]=12,b[k.GRAPHICS_CORE]=3,b[k.FILTER_VISIBILITY]=
4,b[k.FEATURE_QUERY_ENGINE]=4,b[k.SCALE_VISIBILITY]=6,b[k.FRUSTUM_VISIBILITY]=6,b[k.POINT_OF_INTEREST_FREQUENT]=6,b[k.POINT_OF_INTEREST_INFREQUENT]=30,b[k.LABELER]=8,b[k.FEATURE_TILE_TREE]=12,b[k.FEATURE_TILE_TREE_ACTIVE]=1,b[k.ELEVATION_ALIGNMENT]=12,b[k.TEXT_TEXTURE_ATLAS]=12,b[k.OVERLAY_MANAGER]=12,b[k.INTERACTIVE_TOOL]=16,b);a.getTaskPriority=d;var c;(function(a){var b=function(){function b(b){var c=this;this._now=b;this._budget=null;this._state=1;this._tasks=new g;this._runQueue=new g;this._load=
0;this._idleStateCallbacks=new g;this._idleUpdatesStartFired=!1;this._maxReschedule=u;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=f.init(e,"SCHEDULER_LOG_SLOW_TASKS",function(a){return c._debug=a});this._budget=new a.Budget(b);var d=this;this._test={state:void 0,FRAME_SAFETY_BUDGET:1,idleBudget:100,get budget(){return d._budget.budget},usedBudget:0,startTime:0,updateTask:function(a){return c._updateTask(a)},getState:function(a){return c._getState(a)},getRuntime:function(a){return c._getRuntime(a)}}}
b.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};b.prototype.registerTask=function(a,b,e){var f=this,n=d(a),g=new c(a,b,e,n);this._tasks.push(g);return{remove:function(){return f._removeTask(g)},set task(a){g.setPriority(a)}}};b.prototype.registerIdleStateCallbacks=function(a,b){var c=this,d={idleBegin:a,idleEnd:b};this._idleStateCallbacks.push(d);2===this.state&&this._idleUpdatesStartFired&&d.idleBegin();var e=this;return{remove:function(){return c._removeIdleStateCallbacks(d)},
set idleBegin(a){e._idleUpdatesStartFired&&(d.idleEnd(),2===e._state&&a());d.idleBegin=a},set idleEnd(a){d.idleEnd=a}}};Object.defineProperty(b.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"load",{get:function(){return this._load},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){return m.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=
a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});b.prototype.updateBudget=function(a){var b=2===this.state,c=a.frameDuration;switch(this.state){case 2:c=100;break;case 1:c=Math.max(33,a.frameDuration);break;case 0:c=a.frameDuration}this._safetyBudget=b?0:1;c-=a.elapsedFrameTime+this._safetyBudget;this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;if(!b&&0>
c&&!this._forceTask)return this._forceTask=!0,!1;c=Math.max(c,5);this._budget.reset(c,b);this._maxReschedule=u;this._updateLoad();return this._schedule()};b.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));this._runIdle();break;case 1:this._runMoving();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};b.prototype._removeIdleStateCallbacks=
function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};b.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};b.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};b.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===a}))return n.SCHEDULED;var b=n.IDLE;this._tasks.forEach(function(c){c.name===a&&c.needsUpdate()&&(1>=c.schedule?b=n.READY:
b!==n.READY&&(b=n.WAITING))});return b};b.prototype._getRuntime=function(a){var b=0;this._tasks.forEach(function(c){c.name===a&&(b+=c.runtime)});return b};b.prototype._runIdle=function(){this._run()};b.prototype._runMoving=function(){this._run()};b.prototype._runAnimating=function(){this._run()};b.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?++a:a});this._load=.9*this._load+a*(1-.9)};b.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;
this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,d=0;c._tasks.forEach(function(c){if(c.needsUpdate())switch(b=!0,d=Math.max(d,c.priority),c.schedule){case 0:break;case 1:c.schedule=0;a._runQueue.push(c);break;default:--c.schedule}});if(!b)return{value:!1};c._maxReschedule===u&&(c._maxReschedule=d);--c._maxReschedule},c=this;0===this._runQueue.length;){var d=b();if("object"===typeof d)return d.value}return!0};b.prototype._run=
function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();a.update(this._budget);a.schedule=a.priority;a.runtime+=this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(b.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});
return b}();a.Scheduler=b;var c=function(){function a(a,b,c,d){this.name=a;this.update=b;this.needsUpdate=c;this._priority=d;this.runtime=0;this.schedule=this._priority}Object.defineProperty(a.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});a.prototype.setPriority=function(a){var b=d(a);this.name=a;this._priority=b;0!==this.schedule&&(this.schedule=b)};return a}(),b=function(){function a(a){this.now=a;this._budget=this._begin=0;this._didWork=this._idle=
!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",{get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"idleFrame",{get:function(){return this._idle},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._idle=b;this._didWork=!1};Object.defineProperty(a.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},
enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();a.Budget=b})(c||(c={}));var n;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";a.IDLE="i"})(n=a.TaskState||(a.TaskState={}));a.noBudget=function(){var a=new c.Budget(l);a.enabled=!1;return a}();var u=h.MAX_SAFE_INTEGER})},"esri/core/now":function(){define(["require","exports",
"./global"],function(k,a,h){return function(){var a=h.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var l;l=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-l}}()})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper",
"./arrayUtils","./HeapSort"],function(k,a,h,m,l){return function(){function a(a){var e=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=function(){};this._shrink=function(){};this._hint=new m.PositionHint;a&&(a.initialSize&&(this.data=Array(a.initialSize)),a.allocator?(this._allocator=a.allocator,this._deallocator=a.deallocator):"deallocator"in a&&(this._deallocator=a.deallocator),a.shrink&&(this._shrink=function(){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}))}
a.prototype.toArray=function(){return this.data.slice(0,this.length)};a.prototype.getItemAt=function(a){if(!(0>a||a>=this._length))return this.data[a]};Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){if(a>this._length)if(this._allocator)for(;this._length<a;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=a;else{if(this._deallocator)for(var e=a;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=
a;this._shrink()}},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.length=0};a.prototype.prune=function(){this.clear();this.data=[]};a.prototype.equal=function(a){return m.equals(this.data,a.data)};a.prototype.push=function(a){return this.data[this._length++]=a};a.prototype.pushArray=function(a,e){void 0===e&&(e=a.length);for(var d=0;d<e;d++)this.data[this._length++]=a[d];return this.back()};a.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));
++this._length;return this.back()};a.prototype.pop=function(){if(0!==this.length){var a=this.data[this.length-1];--this.length;this._shrink();return a}};a.prototype.iterableRemoveMany=function(a){var e,d;return h(this,function(b){switch(b.label){case 0:e=[],d=0,b.label=1;case 1:if(!(d<this.length)||d>=this.length)return[3,4];0>m.indexOf(a.data,this.data[d],a.length,a._hint)&&e.push(this.data[d]);return[4];case 2:b.sent(),b.label=3;case 3:return++d,[3,1];case 4:return this.data=e,this._length=this.data.length,
[2]}})};a.prototype.remove=function(a){var e=m.indexOf(this.data,a,this.length,this._hint);if(-1!==e)return this.data.splice(e,1),--this.length,a};a.prototype.removeUnordered=function(a){a=m.removeUnordered(this.data,a,this.length,this._hint);void 0!==a&&--this.length;return a};a.prototype.removeUnorderedIndex=function(a){if(!(a>=this.length||0>a))return this.swapElements(a,this.length-1),this.pop()};a.prototype.removeUnorderedMany=function(a,e,d){void 0===e&&(e=a.length);this.length=m.removeUnorderedMany(this.data,
a,this.length,e,this._hint,d)};a.prototype.front=function(){if(0!==this.length)return this.data[0]};a.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};a.prototype.swapElements=function(a,e){var d;a>=this.length||e>=this.length||a===e||(d=[this.data[e],this.data[a]],this.data[a]=d[0],this.data[e]=d[1])};a.prototype.sort=function(a){l.sort(this.data,0,this.length,a)};a.prototype.iterableSort=function(a){return l.iterableSort(this.data,0,this.length,a)};a.prototype.some=
function(a,e){for(var d=0;d<this.length;++d)if(a.call(e,this.data[d],d,this.data))return!0;return!1};a.prototype.filterInPlace=function(a,e){for(var d=0,b=0;b<this._length;++b){var c=this.data[b];a.call(e,c,b,this.data)&&(this.data[b]=this.data[d],this.data[d]=c,d++)}if(this._deallocator)for(b=d;b<this._length;b++)this.data[b]=this._deallocator(this.data[b]);this._length=d;return this};a.prototype.forEach=function(a,e){for(var d=this.length,b=0;b<Math.min(this.length,d);++b)a.call(e,this.data[b],
b,this.data)};a.prototype.iterableForEach=function(){var a;return h(this,function(e){switch(e.label){case 0:a=0,e.label=1;case 1:return a<this.length?[4,this.data[a]]:[3,4];case 2:e.sent(),e.label=3;case 3:return++a,[3,1];case 4:return[2]}})};a.prototype.map=function(a,e){for(var d=Array(this.length),b=0;b<this.length;++b)d[b]=a.call(e,this.data[b],b,this.data);return d};return a}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(k,a){function h(a){return function(b){return m([a,
b])}}function m(b){if(g)throw new TypeError("Generator is already executing.");for(;l;)try{if(g=1,f&&(e=b[0]&2?f["return"]:b[0]?f["throw"]||((e=f["return"])&&e.call(f),0):f.next)&&!(e=e.call(f,b[1])).done)return e;if(f=0,e)b=[b[0]&2,e.value];switch(b[0]){case 0:case 1:e=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++;f=b[1];b=[0];continue;case 7:b=l.ops.pop();l.trys.pop();continue;default:if(!(e=l.trys,e=0<e.length&&e[e.length-1])&&(6===b[0]||2===b[0])){l=0;continue}if(3===b[0]&&
(!e||b[1]>e[0]&&b[1]<e[3]))l.label=b[1];else if(6===b[0]&&l.label<e[1])l.label=e[1],e=b;else if(e&&l.label<e[2])l.label=e[2],l.ops.push(b);else{e[2]&&l.ops.pop();l.trys.pop();continue}}b=a.call(k,l)}catch(c){b=[6,c],f=0}finally{g=e=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var l={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},g,f,e,d;return d={next:h(0),"throw":h(1),"return":h(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),
d}})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(k,a,h,m){function l(a,c,d,e){e=e||b;for(var f=Math.max(0,e.last-10),n=f;n<d;++n)if(a[n]===c)return e.last=n;d=Math.min(f,d);for(n=0;n<d;++n)if(a[n]===c)return e.last=n;return-1}function g(a,b){return-1===a.indexOf(b)}function f(a,b,c){return!a.some(b.bind(null,c))}function e(a){return a}Object.defineProperty(a,"__esModule",{value:!0});a.find=h.find;a.findIndex=h.findIndex;a.includes=
h.includes;a.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};a.equals=function(a,b,c){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};a.difference=function(a,b,c){var d;c?(d=b.filter(f.bind(null,a,c)),a=a.filter(f.bind(null,b,c))):(d=b.filter(g.bind(null,a)),a=a.filter(g.bind(null,b)));return{added:d,removed:a}};a.intersect=function(a,b,
c){return a&&b?c?a.filter(function(a){return-1<h.findIndex(b,function(b){return c(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};var d=!!Array.prototype.fill;a.constant=function(a,b){if(d)return Array(a).fill(b);for(var c=Array(a),e=0;e<a;e++)c[e]=b;return c};a.range=function(a,b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};a.binaryIndexOf=function(a,b,c){for(var d=a.length,e=0,f=d-1;e<f;){var n=e+Math.floor((f-e)/2);b>a[n]?e=n+1:f=n}f=a[e];return c?b>=a[d-
1]?-1:f===b?e:e-1:f===b?e:-1};a.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};k=function(){return function(){this.last=0}}();a.PositionHint=k;var b=new k;a.indexOf=l;a.removeUnordered=function(a,b,c,d){var e=null==c?a.length:c;d=l(a,b,e,d);if(-1!==d)return a[d]=a[e-1],null==c&&a.pop(),b};var c=new Set;a.removeUnorderedMany=function(a,d,e,f,n,g){void 0===e&&(e=a.length);void 0===f&&(f=d.length);if(0===f||0===e)return e;c.clear();for(var t=0;t<f;++t)c.add(d[t]);n=n||
b;for(t=d=Math.max(0,n.last-10);t<e;++t)if(c.has(a[t])&&(g&&g.push(a[t]),c.delete(a[t]),a[t]=a[e-1],--e,--t,0===c.size||0===e))return c.clear(),e;for(t=0;t<d;++t)if(c.has(a[t])&&(g&&g.push(a[t]),c.delete(a[t]),a[t]=a[e-1],--e,--t,0===c.size||0===e))return c.clear(),e;c.clear();return e};a.pickRandom=function(a,b,c){var d=a.length;if(b>=d)return a.slice(0);c=(n.seed=c)?function(){return n.getFloat()}:Math.random;for(var e=new Set,f=[];f.length<b;){var g=Math.floor(c()*d);e.has(g)||(e.add(g),f.push(a[g]))}return f};
a.shuffle=function(a,b){b=(n.seed=b)?function(){return n.getFloat()}:Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}return a};var n=new m;a.keysOfMap=function(a){var b=Array(a.size),c=0;a.forEach(function(a,d){return b[c++]=d});return b};a.keysOfSet=function(a,b){void 0===b&&(b=e);var c=Array(a.size),d=0;a.forEach(function(a){return c[d++]=b(a)});return c};a.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;
a.forEach(function(a){return b[c++]=a});return b};a.remove=function(a,b){var c=a.indexOf(b);return-1!==c?(a.splice(c,1),b):null}})},"esri/core/RandomLCG":function(){define(["require","exports"],function(k,a){return function(){function a(a){void 0===a&&(a=1);this._seed=a}Object.defineProperty(a.prototype,"seed",{set:function(h){this._seed=null==h?Math.random()*a._m:h},enumerable:!0,configurable:!0});a.prototype.getInt=function(){return this._seed=(a._a*this._seed+a._c)%a._m};a.prototype.getFloat=function(){return this.getInt()/
(a._m-1)};a.prototype.getIntRange=function(a,l){return Math.round(this.getFloatRange(a,l))};a.prototype.getFloatRange=function(h,l){l-=h;var g=this.getInt()/a._m;return h+Math.floor(g*l)};a._m=2147483647;a._a=48271;a._c=0;return a}()})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],function(k,a,h){var m;(function(a){function g(a,d,b,c){for(var e=d,f=b>>>1,g=a[e-1];d<=f;){d=e<<1;d<b&&0>c(a[d-1],a[d])&&++d;var l=a[d-1];if(0>=c(l,g))break;a[e-1]=l;e=d}a[e-
1]=g}function f(a,d){return a<d?-1:a>d?1:0}a.sort=function(a,d,b,c){void 0===d&&(d=0);void 0===b&&(b=a.length);void 0===c&&(c=f);for(var e=b>>>1;e>d;e--)g(a,e,b,c);for(var l=d+1,e=b-1;e>d;e--)b=a[d],a[d]=a[e],a[e]=b,g(a,l,e,c)};a.iterableSort=function(a,d,b,c){var e,l,m;return h(this,function(n){switch(n.label){case 0:void 0===d&&(d=0),void 0===b&&(b=a.length),void 0===c&&(c=f),e=b>>>1,n.label=1;case 1:if(!(e>d))return[3,4];g(a,e,b,c);return[4];case 2:n.sent(),n.label=3;case 3:return e--,[3,1];case 4:l=
d+1,e=b-1,n.label=5;case 5:if(!(e>d))return[3,8];m=a[d];a[d]=a[e];a[e]=m;g(a,l,e,c);return[4];case 6:n.sent(),n.label=7;case 7:return e--,[3,5];case 8:return[2]}})}})(m||(m={}));return m})},"esri/core/watchUtils":function(){define("require exports ./events ./has ./lang ./promiseUtils".split(" "),function(k,a,h,m,l,g){function f(a,b,c,d,e){e=a.watch(b,function(b,e,f,n){c&&!c(b)||d.call(a,b,e,f,n)},e);if(Array.isArray(b))for(var f=0;f<b.length;f++){var n=a.get(b[f]);c&&c(n)&&d.call(a,n,n,b,a)}else n=
a.get(b),c&&c(n)&&d.call(a,n,n,b,a);return e}function e(a,b,c,d,e){function n(){q&&(q.remove(),q=null)}var t="function"===typeof d?d:null,l="object"===typeof d?d:null;"boolean"===typeof d&&(e=d);var h=!1,q,u=g.createDeferred(n);g.onAbort(l,function(){n();u.reject(g.createAbortError())});d=m("esri-native-promise")?{then:u.promise.then.bind(u.promise),catch:u.promise.catch.bind(u.promise),remove:n}:{cancel:u.cancel,then:u.promise.then.bind(u.promise),catch:u.promise.catch.bind(u.promise),remove:n};
Object.freeze(d);q=f(a,b,c,function(b,c,d,e){h=!0;n();t&&t.call(a,b,c,d,e);u.resolve({value:b,oldValue:c,propertyName:d,target:e})},e);h&&n();return d}function d(a){return!!a}function b(a){return!a}function c(a){return!0===a}function n(a){return!1===a}function u(a){return void 0!==a}function v(a){return void 0===a}function w(a,b,c,d){var e=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,c,d);for(d=0;d<e.length;d++){var f=e[d].trim().replace(t,"$1"),n=a.get(f);c.call(a,n,n,f,a)}return b}
Object.defineProperty(a,"__esModule",{value:!0});a.whenValidOnce=e;var t=/\?(\.|$)/g;a.init=w;a.watch=function(a,b,c,d){return a.watch(b,c,d)};a.once=function(a,b,c,d){return e(a,b,null,c,d)};a.when=function(a,b,c,e){return f(a,b,d,c,e)};a.whenOnce=function(a,b,c,f){return e(a,b,d,c,f)};a.whenNot=function(a,c,d,e){return f(a,c,b,d,e)};a.whenNotOnce=function(a,c,d,f){return e(a,c,b,d,f)};a.whenTrue=function(a,b,d,e){return f(a,b,c,d,e)};a.whenTrueOnce=function(a,b,d,f){return e(a,b,c,d,f)};a.whenFalse=
function(a,b,c,d){return f(a,b,n,c,d)};a.whenFalseOnce=function(a,b,c,d){return e(a,b,n,c,d)};a.whenDefined=function(a,b,c,d){return f(a,b,u,c,d)};a.whenDefinedOnce=function(a,b,c,d){return e(a,b,u,c,d)};a.whenUndefined=function(a,b,c,d){return f(a,b,v,c,d)};a.whenUndefinedOnce=function(a,b,c,d){return e(a,b,v,c,d)};a.whenEqual=function(a,b,c,d,e){return f(a,b,function(a){return l.equals(c,a)},d,e)};a.whenEqualOnce=function(a,b,c,d,f){return e(a,b,function(a){return l.equals(c,a)},d,f)};a.pausable=
function(a,b,c,d){var e=!1,f=a.watch(b,function(b,d,f,n){e||c.call(a,b,d,f,n)},d);return{remove:function(){f.remove()},pause:function(){e=!0},resume:function(){e=!1}}};a.on=function(a,b,c,d,e,f,n){function g(b){var d=t[b];d&&(f&&f(d.target,b,a,c),d.handle.remove(),delete t[b])}var t={},l=w(a,b,function(b,f,n){g(n);h.isEventTarget(b)&&(t[n]={handle:h.on(b,c,d),target:b},e&&e(b,n,a,c))},n);return{remove:function(){l.remove();for(var a in t)g(a)}}}})},"esri/views/support/debugFlags":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(k,a,h,m,l,g){return new (function(a){function e(){var d=null!==a&&a.apply(this,arguments)||this;d.SCHEDULER_LOG_SLOW_TASKS=!1;return d}m(e,a);h([g.property()],e.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return e=h([g.subclass("esri.views.support.DebugFlags")],e)}(g.declared(l)))})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(k,a,h,m){var l=arguments.length,g=3>l?a:null===m?m=Object.getOwnPropertyDescriptor(a,h):m,f;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(k,a,h,m);else for(var e=k.length-1;0<=e;e--)if(f=k[e])g=(3>l?f(g):3<l?f(a,h,g):f(a,h))||g;return 3<l&&g&&Object.defineProperty(a,h,g),g}})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(k,a){return function(a,m){a.__bases__=m.__bases__}})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),
function(k,a,h,m,l,g,f){a=a.default;k.before(function(a,b){k.hasMixin(a,e)&&m.processPrototype(b)});k.after(function(a){k.hasMixin(a,e)&&(m.processClass(a),Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var e=k(null,{declaredClass:"esri.core.Accessor",
"-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===e)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var d=[],b=0;b<arguments.length;b++)d.push(arguments[b]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,d)}if(f.interceptor)f.interceptor.onInstanceConstruct(this)},__accessor__:null,
postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(d){console.warn(d.stack)}else if(g.removeTarget(this),this.__accessor__.destroy(),f.interceptor)f.interceptor.onInstanceDestroy(this)},get:function(a){return h.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):
Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){l.set(this,a,b);return this},watch:function(a,b,c){return g.watch(this,a,b,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},
_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return e})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare","./deprecate","./Logger"],function(k,a,h,m,l){function g(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return f([this].concat(a),b)}function f(a,f){a&&!Array.isArray(a)&&"function"!==typeof a&&(f=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);1<a.length&&m.deprecated(e,"Extending multiple classes with Accessor",
{version:"4.13",see:"https://arcg.is/T8fr4"});f=f||{};var c,n;c=0;for(n=d.length;c<n;c++)d[c](a,f);a=h(a,f);a.createSubclass=g;var l=a.prototype.isInstanceOf;a.prototype.isInstanceOf=function(){m.deprecatedFunction(e,"isInstanceOf",{moduleName:"Accessor",replacement:"Use `instanceof` or check for property presence `'property' in instance`",version:"4.13"});return l.apply(this,arguments)};c=0;for(n=b.length;c<n;c++)b[c](a);return a}var e=l.getLogger("esri.core.Accessor"),d=[],b=[];(function(a){a.hasMixin=
function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return h.safeMixin(a,b)};a.before=function(a){d.push(a)};a.after=function(a){b.push(a)}})(f||(f={}));return f})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(k,a,h){function m(a,
b){throw Error("declare"+(b?" "+b:"")+": "+a);}function l(a,b){for(var c=[],d=[{cls:0,refs:[]}],e={},f=1,n=a.length,g=0,t,l,h,q,u;g<n;++g){(t=a[g])?"[object Function]"!=y.call(t)&&m("mixin #"+g+" is not a callable constructor.",b):m("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",b);l=t._meta?t._meta.bases:[t];h=0;for(t=l.length-1;0<=t;--t)q=l[t].prototype,q.hasOwnProperty("declaredClass")||(q.declaredClass="uniqName_"+E++),q=q.declaredClass,e.hasOwnProperty(q)||(e[q]={count:0,
refs:[],cls:l[t]},++f),q=e[q],h&&h!==q&&(q.refs.push(h),++h.count),h=q;++h.count;d[0].refs.push(h)}for(;d.length;){h=d.pop();c.push(h.cls);for(--f;u=h.refs,1==u.length;){h=u[0];if(!h||--h.count){h=0;break}c.push(h.cls);--f}if(h)for(g=0,n=u.length;g<n;++g)h=u[g],--h.count||d.push(h)}f&&m("can't build consistent linearization",b);t=a[0];c[0]=t?t._meta&&t===c[c.length-t._meta.bases.length]?t._meta.bases.length:1:0;return c}function g(a,b,c,d){var e,f,n,g,t,l,h=this._inherited=this._inherited||{};"string"===
typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)n=a,a=b,b=c;else try{n=a.callee}catch(T){if(T instanceof TypeError)m("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw T;}(e=e||n.nom)||m("can't deduce a name to call inherited()",this.declaredClass);c=d=0;g=this.constructor._meta;d=g.bases;l=h.p;if("constructor"!=e){if(h.c!==n&&(l=0,t=d[0],g=t._meta,g.hidden[e]!==n)){(f=g.chains)&&"string"==typeof f[e]&&m("calling chained method with inherited: "+
e,this.declaredClass);do if(g=t._meta,f=t.prototype,g&&(f[e]===n&&f.hasOwnProperty(e)||g.hidden[e]===n))break;while(t=d[++l]);l=t?l:-1}if(t=d[++l])if(f=t.prototype,t._meta&&f.hasOwnProperty(e))c=f[e];else{n=D[e];do if(f=t.prototype,(c=f[e])&&(t._meta?f.hasOwnProperty(e):c!==n))break;while(t=d[++l])}c=t&&c||D[e]}else{if(h.c!==n&&(l=0,(g=d[0]._meta)&&g.ctor!==n)){for((f=g.chains)&&"manual"===f.constructor||m("calling chained constructor with inherited",this.declaredClass);(t=d[++l])&&(!(g=t._meta)||
g.ctor!==n););l=t?l:-1}for(;(t=d[++l])&&!(c=(g=t._meta)?g.ctor:t););c=t&&c}h.c=c;h.p=l;if(c)return!0===b?c:c.apply(this,b||a)}function f(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function d(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof
a}function b(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function c(a){A.safeMixin(this.prototype,a);return this}function n(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return A([this].concat(a),b)}function u(a,b){return function(){var c=arguments,d=c,e=c[0],f,n;n=a.length;var g;if(!(this instanceof c.callee))return C(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||
c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++f==n)break;g[f]=c}for(f=n-1;0<=f;--f)e=a[f],(e=(n=e._meta)?n.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function v(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return C(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function w(a){return function(){var b=
arguments,c=0,d,e;if(!(this instanceof b.callee))return C(b);for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function t(a,b,c){return function(){var d,e,f=0,n=1;c&&(f=b.length-1,n=-1);for(;d=b[f];f+=n)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function B(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function C(a){var b=a.callee,c=B(b);b.apply(c,a);return c}function A(e,k,C){"string"!=typeof e&&(C=k,k=e,
e="");C=C||{};var E,z,G,J,F,L,M,S=1,T=k;"[object Array]"==y.call(k)?(L=l(k,e),G=L[0],S=L.length-G,k=L[S]):(L=[0],k?"[object Function]"==y.call(k)?(G=k._meta,L=L.concat(G?G.bases:k)):m("base class is not a callable constructor.",e):null!==k&&m("unknown base class. Did you use dojo.require to pull it in?",e));if(k)for(z=S-1;;--z){E=B(k);if(!z)break;G=L[z];(G._meta?b:q)(E,G.prototype);J=a("csp-restrictions")?function(){}:new Function;J.superclass=k;J.prototype=E;k=E.constructor=J}else E={};A.safeMixin(E,
C);G=C.constructor;G!==D.constructor&&(G.nom="constructor",E.constructor=G);for(z=S-1;z;--z)(G=L[z]._meta)&&G.chains&&(M=q(M||{},G.chains));E["-chains-"]&&(M=q(M||{},E["-chains-"]));k&&k.prototype&&k.prototype["-chains-"]&&(M=q(M||{},k.prototype["-chains-"]));G=!M||!M.hasOwnProperty("constructor");L[0]=J=M&&"manual"===M.constructor?w(L):1==L.length?v(C.constructor,G):u(L,G);J._meta={bases:L,hidden:C,chains:M,parents:T,ctor:C.constructor};J.superclass=k&&k.prototype;J.extend=c;J.createSubclass=n;J.prototype=
E;E.constructor=J;E.getInherited=f;E.isInstanceOf=d;E.inherited=I;E.__inherited=g;e&&(E.declaredClass=e,h.setObject(e,J));if(M)for(F in M)E[F]&&"string"==typeof M[F]&&"constructor"!=F&&(G=E[F]=t(F,L,"after"===M[F]),G.nom=F);return J}var q=h.mixin,D=Object.prototype,y=D.toString,z,E=0;z=a("csp-restrictions")?function(){}:new Function;var I=k.config.isDebug?e:g;k.safeMixin=A.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===D[c]&&c in D||"constructor"==c||("[object Function]"==y.call(d)&&(d.nom=
c),a[c]=d);return a};return k.declare=A})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(k,a,h){function m(a,f,e){void 0===e&&(e={});if(h("esri-deprecation-warnings")){var d=e.replacement,b=e.version,c=e.see;e=e.warnOnce;d&&(f+="\n\t\ud83d\udee0\ufe0f Replacement: "+d);b&&(f+="\n\t\u2699\ufe0f Version: "+b);c&&(f+="\n\t\ud83d\udd17 See "+c+" for more details.");d=f;b=e;void 0===b&&(b=!1);b&&l.has(d)||(b&&l.add(d),a.warn("\ud83d\uded1 DEPRECATED - "+d))}}Object.defineProperty(a,
"__esModule",{value:!0});var l=new Set;a.deprecatedModule=function(a,f,e){void 0===e&&(e={});h("esri-deprecation-warnings")&&m(a,"Module: "+f,e)};a.deprecatedFunction=function(a,f,e){void 0===e&&(e={});if(h("esri-deprecation-warnings")){var d=e.moduleName;m(a,"Function: "+((d?d+"::":"")+f+"()"),e)}};a.deprecated=m})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(k,a,h,m,l,
g,f,e,d){Object.defineProperty(a,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.Properties");k=function(){function a(a){this.host=a;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new d.Store;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;f.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=
function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var d=c[b],e=a[d];if(e){for(;0<e.length;)e.pop().propertyDestroyed(this,d);a[d]=null}}if(this.autoDestroy)for(d in this.metadatas)(a=this.internalGet(d))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[d].nonNullable||this.internalSet(d,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},
enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a],c=b.get;return!this.store.has(a)||c&&this.dirties[a]?c?(b=c.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};a.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};a.prototype.getterComputed=function(a,b){if(this.store.has(a)&&
!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":e.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=
function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:0,d=this.store.get(a);m.equals(b,d)&&c===this.store.originOf(a)&&this.store.has(a,c)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a))}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return Object.keys(this.metadatas)};a.prototype.override=function(a,c){if(this.metadatas[a]){this.overridden||(this.overridden=
{});var d=this.metadatas[a];if(!d.nonNullable||null!=c){if(d=d.cast){c=this.cast(d,c);var d=c.valid,e=c.value;b.release(c);if(!d)return;c=e}this.overridden[a]=!0;this.internalSet(a,c)}}};a.prototype.set=function(a,c){if(this.metadatas[a]){var d=this.metadatas[a];if(!d.nonNullable||null!=c){var e=d.set;if(d=d.cast){c=this.cast(d,c);var d=c.valid,f=c.value;b.release(c);if(!d)return;c=f}e?e.call(this.host,c):this.internalSet(a,c)}}};a.prototype.setDefaultOrigin=function(a){this._origin=e.nameToId(a)};
a.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var c=0;c<b.length;c++)b[c].propertyInvalidated(this,a)};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=
function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,c){var d=b.acquire();d.valid=!0;d.value=c;a&&(d.value=a.call(this.host,c,d));return d};return a}();h=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var b=new g(h);a.default=k})},"esri/core/ObjectPool":function(){define(["require","exports"],function(k,
a){var h=function(){return function(){}}();return function(){function a(a,g,f,e,d){void 0===e&&(e=1);void 0===d&&(d=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=g;this.releaseFunction=f;this.growthSize=e;!0===g?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof g&&(this.acquireFunction=g);this._pool=Array(d);this._initialSize=d;if(this.classConstructor)for(a=0;a<d;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(e,1)}a.prototype.destroy=
function(){this.prune(0)};a.prototype.acquire=function(){var l;l=this.classConstructor||h;if(a.test.disabled)l=new l;else{if(0===this._pool.length)for(var g=this.growthSize,f=0;f<g;f++)this._pool[f]=new l;l=this._pool.pop()}if(this.acquireFunction){for(f=arguments.length;0<f;f--)arguments[f]=arguments[f-1];arguments[0]=l;arguments.length++;this.acquireFunction.apply(this,arguments)}else l&&l.acquire&&"function"===typeof l.acquire&&l.acquire.apply(l,arguments);return l};a.prototype.release=function(l){l&&
!a.test.disabled&&(this.releaseFunction?this.releaseFunction(l):l&&l.release&&"function"===typeof l.release&&l.release(),this._pool.push(l))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var g=a;g<this._pool.length;++g)this._dispose(this._pool[g]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(){this.classConstructor&&this.classConstructor.call.apply(this.classConstructor,
arguments)};a.test={disabled:!1};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});var g=[h.default,m.default,l.default];a.processPrototypeMetadatas=function(a,e){for(var d=0;d<g.length;d++){var b=g[d];if(b.processPrototypePropertyMetadata)for(var c in a)b.processPrototypePropertyMetadata(c,
a[c],a,e)}};a.processClassMetadatas=function(a,e){for(var d=0;d<g.length;d++){var b=g[d];if(b.processClassPropertyMetadata)for(var c in a)b.processClassPropertyMetadata(c,a[c],a,e)}};a.instanceCreated=function(a,e){for(var d=Object.getOwnPropertyNames(e),b=0;b<g.length;b++){var c=g[b];c.instanceCreated&&c.instanceCreated(a,e,d)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(k,a,h,m,l,g,f){function e(a,
b,c){var d=g.getProperties(a);return f.wire(a,c.aliasOf,function(){d.propertyInvalidated(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,e){var d=b.aliasOf;if(d&&(a=d.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var f;b.get=function(){var a=m.default(this,d);if("function"===typeof a){f||(f=d.split(".").slice(0,-1).join("."));var b=m.default(this,f);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return l.default(this,
d,a)})}},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d],g=b[f];g.aliasOf&&e(a,f,g)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(k,a,h){function m(a,d,b){a="?"===a[a.length-1]?a.slice(0,-1):a;if(null!=b.getItemAt||Array.isArray(b)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(b)?b[c]:b.getItemAt(c)}c=h.getProperties(b);return d?h.isPropertyDeclared(c,a)?c.get(a):b[a]:h.isPropertyDeclared(c,
a)?c.internalGet(a):b[a]}function l(a,d,b,c){if(null==a)return a;if((a=m(d[c],b,a))||!(c<d.length-1))return c===d.length-1?a:l(a,d,b,c+1)}function g(a,d,b,c){void 0===b&&(b=!1);void 0===c&&(c=0);return"string"===typeof d&&-1===d.indexOf(".")?m(d,b,a):l(a,h.pathToArray(d),b,c)}function f(a,d){return g(a,d,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=g;a.get=f;a.exists=function(a,d){return void 0!==g(d,a,!0)};a.default=f})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../lang"],function(k,a,h){function m(a,b,c){return b?Object.keys(b).reduce(function(a,d){var e=null,f="merge";c&&(e=c.path?c.path+"."+d:d,f=c.policy(e));if("replace"===f)return a[d]=b[d],a;if(void 0===a[d])return a[d]=h.clone(b[d]),a;var g=a[d],f=b[d];if(g===f)return a;if(Array.isArray(f)||Array.isArray(a))g=g?Array.isArray(g)?a[d]=g.concat():a[d]=[g]:a[d]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(f&&"object"===typeof f)if(c){var n=c.path;
c.path=e;a[d]=m(g,f,c);c.path=n}else a[d]=m(g,f,null);else if(!a.hasOwnProperty(d)||b.hasOwnProperty(d))a[d]=f;return a},a||{}):a}function l(a){return Array.isArray(a)?a:a.split(".")}function g(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function f(a){return{remove:e(function(){return a.forEach(function(a){return a.remove()})})}}function e(a){var b=!1;return function(){b||(b=!0,
a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};a.merge=function(a,b,c){return c?m(a,b,{policy:c,path:""}):m(a,b,null)};a.pathToStringOrArray=function(a){return!a||"string"===typeof a&&-1===a.indexOf(".")?a:l(a)};a.pathToArray=l;a.splitPath=g;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;
a=l(a);for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];b[c]="?"===d[d.length-1];b[c]&&(a[c]=d.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};a.handlesGroup=f;a.parse=function(a,b,c,e){b=g(b);return Array.isArray(b)?(b=b.map(function(b){return e(a,b.trim(),c)}),f(b)):e(a,b.trim(),c)};a.once=e})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(k,a,h,m,l){function g(a,e,d){if(a&&e)if("object"===typeof e){d=0;for(var b=Object.getOwnPropertyNames(e);d<
b.length;d++){var c=b[d];g(a,c,e[c])}}else"_"!==e[0]&&(-1!==e.indexOf(".")?(e=e.split("."),c=e.splice(e.length-1,1)[0],g(l.default(a,e),c,d)):a[e]=d)}Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.set");a.set=g;a.default=g})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(k,a,h){function m(a,c,f){c=h.splitPath(c);if(Array.isArray(c)){for(var b=[],g=0;g<c.length;g++)b.push((new l(c[g],f)).install(a));return new e(b)}a=
(new l(c,f)).install(a);return new d(a)}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=h.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=h.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?
new f(this,a):new g(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),g=function(){function a(a,b){this.binding=a;this.target=b;h.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(h.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){h.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&
this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),f=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=h.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,
this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),
d=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=h.getProperties(b))&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};
return a}(),e=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),d=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();a.create=function(a,c){a=h.splitPath(a);if(Array.isArray(a)){for(var b=[],f=0;f<a.length;f++)b.push(new l(a[f],c));return function(a){for(var c=[],d=0;d<b.length;d++)c[d]=b[d].install(a);return new e(c)}}var g=
new l(a,c);return function(a){return new d(g.install(a))}};a.wire=m;a.default=m})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(k,a,h,m,l,g){Object.defineProperty(a,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,e,d,b){e.dependsOn&&e.dependsOn.length&&(e.wire=g.create(e.dependsOn,
function(b){return l.getProperties(b).propertyInvalidated(a)}))},instanceCreated:function(a,e,d){for(var b=0;b<d.length;b++){var c=e[d[b]];c.wire&&c.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(k,a,h,m,l,g,f){function e(a,b,c){var d=
a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===b||b in a)&&(d=a);return d}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,b){return e(a,"read",b)};a.originSpecificWritePropertyDefinition=function(a,b){return e(a,"write",b)};a.originSpecificPropertyDefinition=e;a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b){if(g.process(b)){m.process(b);for(var c=b.type,d=0;Array.isArray(c)&&!h.isOneOf(c);)c=
c[0],d++;if(b.json.origins)for(var e in b.json.origins){var k=b.json.origins[e];l.create(c,d,a,k);f.create(c,d,a,k)}l.create(c,d,a,b.json);f.create(c,d,a,b.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(k,a,h,m){function l(a){return null==a?a:new Date(a)}function g(a){return null==a?a:!!a}function f(a){return null==a?a:a.toString()}function e(a){return null==a?a:"number"===
typeof a&&isNaN(a)?0:parseFloat(a)}function d(a){return null==a?a:Math.round(parseFloat(a))}function b(a){return a&&a.constructor&&void 0!==a.constructor._meta}function c(a,b){return null!=b&&a&&!(b instanceof a)}function n(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function u(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function v(a,b){if(!b||!b.constructor||!n(b.constructor))return w(a,b)?b:new a(b);
var c=u(a.prototype.itemType),d=u(b.constructor.prototype.itemType);if(!c)return b;if(!d)return new a(b);if(c===d)return b;if((d=d._meta&&d._meta.bases)&&-1!==d.indexOf(c))return new a(b);w(a,b);return b}function w(a,c){return b(c)?(H.error("Accessor#set","Assigning an instance of '"+(c.declaredClass||"unknown")+"' which is not a subclass of '"+B(a)+"'"),!0):!1}function t(a,b){return null==b?b:n(a)?v(a,b):c(a,b)?w(a,b)?b:new a(b):b}function B(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}
function C(a){switch(a){case Number:return e;case K:return d;case Boolean:return g;case String:return f;case Date:return l;default:return t.bind(null,a)}}function A(a,b){var c=C(a);return 1===arguments.length?c:c(b)}function q(a,b,c){return 1===arguments.length?q.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,c)}):[a(b,c)]:b}function D(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return D(a,b-1,c)}):a(c)}function y(a,b,c){if(2===arguments.length)return y.bind(null,a,b);if(!c)return c;
c=D(a,b,c);for(var d=b,e=c;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)c=[c];return c}function z(a,b){if(2===arguments.length)return z(a).call(null,b);for(var d=new Set,e=a.filter(function(a){return"function"!==typeof a}),f=a.filter(function(a){return"function"===typeof a}),g=0;g<a.length;g++){var n=a[g];"string"!==typeof n&&"number"!==typeof n||d.add(n)}var t=null,l=null;return function(a,b){if(null==a)return a;var g=typeof a,n="string"===g||"number"===g;if(n&&(d.has(a)||f.some(function(a){return"string"===
g&&a===String||"number"===g&&a===Number}))||"object"===g&&f.some(function(b){return!c(a,b)}))return a;n&&e.length?(t||(t=e.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),H.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+t)):"object"===typeof a&&f.length?(l||(l=f.map(function(a){return B(a)}).join(", ")),H.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+l)):H.error("Accessor#set",
"'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function E(a,d){if(2===arguments.length)return E(a).call(null,d);var e={},f=[],g=[],n;for(n in a.typeMap){var t=a.typeMap[n];e[n]=A(t);f.push(B(t));g.push(n)}var l="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(d){if(a.base&&!c(a.base,d)||null==d)return d;var n=l(d)||a.defaultKeyValue,t=e[n];if(!t)return H.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+f.join("', '")+
"'")+", or a plain object that can autocast (having .type \x3d "+("'"+g.join("', '")+"'")+")"),null;if(!c(a.typeMap[n],d))return d;if("string"===typeof a.key&&!b(d)){var n={},h;for(h in d)h!==a.key&&(n[h]=d[h]);return t(n)}return t(d)}}function I(a){switch(a.type){case "native":return A(a.value);case "array":return q(I(a.value));case "one-of":return J(a);default:h.neverReached(a)}return null}function J(a){var b=null;return function(c,d){if(F(c,a))return c;null==b&&(b=L(a));H.error("Accessor#set",
"Invalid property value, value needs to be of type "+b);d&&(d.valid=!1);return null}}function L(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case K:return"integer";case Date:return"date";default:return B(a.value)}case "array":return"array of "+L(a.value);case "one-of":return a=a.values.map(function(a){return L(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:h.neverReached(a)}return"unknown"}function F(a,
b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case K:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!F(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return F(a,b)})}}Object.defineProperty(a,"__esModule",{value:!0});var H=m.getLogger("esri.core.Accessor");a.ensureDate=l;a.ensureBoolean=g;a.ensureString=
f;a.ensureNumber=e;a.ensureInteger=d;a.isClassedType=b;a.requiresType=c;a.ensureClass=t;a.ensureType=A;a.ensureArrayTyped=q;a.ensureArray=function(a,b){return 1===arguments.length?q(A.bind(null,a)):q(A.bind(null,a),b)};a.ensureNArrayTyped=y;a.ensureNArray=function(a,b,c){return 2===arguments.length?y(A.bind(null,a),b):y(A.bind(null,a),b,c)};a.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};a.ensureOneOf=
z;a.ensureOneOfType=E;var K=function(){return function(){}}();a.Integer=K;a.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};a.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:h.neverReachedSilent(a)}return!1};a.ensureLongFormType=I;a.default=A})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],
function(k,a,h){Object.defineProperty(a,"__esModule",{value:!0});a.neverReached=function(a){};a.neverReachedSilent=function(a){};a.typeCast=function(a){return function(){return a}};a.tuple=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return a}})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var h=
a.json.origins,l={"web-document":["web-scene","web-map"]};a=function(a){if(h[a]){var e=h[a];l[a].forEach(function(a){h[a]=e});delete h[a]}};for(var g in l)a(g)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(k,a,h,m){function l(a,c){if(1<c)return e(a,c);if(1===c)return d(a);if(b(a)){var f=d(a.prototype.itemType.Type);return function(b,c,d){return(b=f(b,c,d))?new a(b):b}}return g(a)}function g(a){return a.prototype.read?
function(b,c,d){if(null==b)return b;c=new a;c.read(b,d);return c}:a.fromJSON}function f(a,b,c,d){return 0!==d&&Array.isArray(b)?b.map(function(b){return f(a,b,c,d-1)}):a(b,null,c)}function e(a,b){a=g(a);var c=f.bind(null,a);return function(a,d,e){if(null==a)return a;a=c(a,e,b);d=b;for(e=a;0<d&&Array.isArray(e);)d--,e=e[0];if(void 0!==e)for(e=0;e<d;e++)a=[a];return a}}function d(a){var b=g(a);return function(a,c,d){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,d)}):[b(a,null,
d)]}}function b(a){return m.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?c(a.Type):!1:!1}function c(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||b(a))}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,b,d,e){(!e.read||!e.read.reader&&!1!==e.read.enabled)&&c(a)&&h.setDeepValue("read.reader",l(a,b),e)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],
function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(k,a){function h(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function m(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){a.json||(a.json={});h(a.json);m(a.json);if(a.json.origins)for(var g in a.json.origins)h(a.json.origins[g]),m(a.json.origins[g]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(k,a,h,m){function l(a,c,d,e){h.setDeepValue(d,g(a,e),c)}function g(a,c){return a&&"function"===typeof a.write?a.write({},c):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function f(a,c,d,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return g(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[g(a,e)];h.setDeepValue(d,a,c)}function e(a,
c,d){return 0!==d&&Array.isArray(a)?a.map(function(a){return e(a,c,d-1)}):g(a,c)}function d(a){return function(b,d,f,g){if(null===b)b=null;else{b=e(b,g,a);g=a;for(var c=b;0<g&&Array.isArray(c);)g--,c=c[0];if(void 0!==c)for(c=0;c<g;c++)b=[b]}h.setDeepValue(f,b,d)}}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,c,e,g){!g.write||g.write.writer||!1===g.write.enabled&&!g.write.overridePolicy||(1===c||m.isCollection(a)?g.write.writer=f:g.write.writer=1<c?d(c):l)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(k,a){function h(a){switch(a){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function m(a){switch(a){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}Object.defineProperty(a,"__esModule",{value:!0});a.nameToId=h;a.idToName=m;a.readableNameToId=function(a){return h(a)};a.idToReadableName=
function(a){return m(a)};a.writableNameToId=function(a){return h(a)};a.idToWritableName=function(a){return m(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils"],function(k,a,h){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(){this._values=new Map}a.prototype.get=function(a){return this._values.get(a)};a.prototype.originOf=function(){return 6};a.prototype.keys=function(){return h.keysOfMap(this._values)};a.prototype.set=function(a,
g){this._values.set(a,g)};a.prototype.delete=function(a){this._values.delete(a)};a.prototype.has=function(a){return this._values.has(a)};a.prototype.forEach=function(a){this._values.forEach(a)};return a}();a.Store=k})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(k,a,h,m,l,g,f){function e(a,c){return function(b){b=+a(b);null!=c.min&&(b=Math.max(c.min,b));null!=c.max&&(b=Math.min(c.max,
b));return b}}function d(a,c){return null==c.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,c):c.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,c):c.value}}Object.defineProperty(a,"__esModule",{value:!0});a.processPrototype=function(a){var b=a.declaredClass,d=a.properties||{},f;for(f in d){var k=d[f],w=typeof k;null==k?l.setPropertyMetadata(a,f,{value:k}):Array.isArray(k)?l.setPropertyMetadata(a,f,{type:[k[0]],value:null}):"object"===w?g.getProperties(k)||
k instanceof Date?l.setPropertyMetadata(a,f,{type:k.constructor,value:k}):l.setPropertyMetadata(a,f,k):"boolean"===w?l.setPropertyMetadata(a,f,{type:Boolean,value:k}):"string"===w?l.setPropertyMetadata(a,f,{type:String,value:k}):"number"===w?l.setPropertyMetadata(a,f,{type:Number,value:k}):"function"===w&&l.setPropertyMetadata(a,f,{type:k,value:null})}a=l.getPropertiesMetadata(a);for(f in a){d=a[f];w=d.type;k=d.types;if(!d.cast)if(w){k=d;var t=0,B=w;if(h.isLongFormType(w))w=h.ensureLongFormType(w);
else{for(;Array.isArray(B)&&1===B.length&&"string"!==typeof B[0]&&"number"!==typeof B[0];)B=B[0],t++;w=h.isOneOf(B)?0===t?h.ensureOneOf(B):h.ensureNArrayTyped(h.ensureOneOf(B),t):1===t?h.ensureArray(B):1<t?h.ensureNArray(B,t):h.ensureType(w)}k.cast=w}else k&&(Array.isArray(k)?d.cast=h.ensureArrayTyped(h.ensureOneOfType(k[0])):d.cast=h.ensureOneOfType(k));d.range&&(d.cast=e(d.cast,d.range))}m.processPrototypeMetadatas(a,b);return a};a.processClass=function(a){for(var b=a.prototype,e=b.declaredClass,
g=a._meta.bases,h={},k=g.length-1;0<=k;k--)l.merge(h,l.getMetadata(g[k].prototype));var t=h.properties;m.processClassMetadatas(t,e);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:t,autoDestroy:!!h.autoDestroy}});for(var B={},e=function(a){var b=t[a];B[a]={enumerable:!0,configurable:!0,get:d(a,b),set:function(c){var d=this.__accessor__;if(!d)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(d.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+
a+"' of "+this.declaredClass);if(2===d.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);d.set(a,c)}}}},g=0,k=Object.getOwnPropertyNames(t);g<k.length;g++)e(k[g]);Object.defineProperties(a.prototype,B);if(h.parameters)for(a=0,e=Object.getOwnPropertyNames(h.parameters);a<e.length;a++)g=e[a],k=Object.getOwnPropertyDescriptor(b,g)||{value:b[g]},(k=f.autocastMethod(b,g,k))&&Object.defineProperty(b,g,k);return h}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports","./utils"],function(k,a,h){function m(a){return null!=a.__accessorMetadata__}function l(a){return m(a)&&null!=g(a).properties}function g(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function f(a){a=g(a);var b=a.properties;b||(b=a.properties={});return b}function e(a,b){var c=g(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}function d(a){return c.test(a)?
"replace":"merge"}function b(a){return n.test(a)?d(a.slice(11)):"merge"}Object.defineProperty(a,"__esModule",{value:!0});a.hasMetadata=m;a.hasPropertiesMetadata=l;a.hasPropertyMetadata=function(a,b){return l(a)&&null!=f(a)[b]};a.hasParametersMetadata=function(a,b){return m(a)&&null!=g(a).parameters&&null!=g(a).parameters[b]};a.getMetadata=g;a.getPropertiesMetadata=f;a.getPropertyMetadata=function(a,b){a=f(a);var c=a[b];c||(c=a[b]={});return c};a.setPropertyMetadata=function(a,b,c){f(a)[b]=c};a.getParametersMetadata=
e;a.getParameterMetadata=function(a,b,c){var d=e(a,b)[c];d||(e(a,b)[c]=d={index:c});return d};a.merge=function(a,c){return h.merge(a,c,b)};a.mergeProperty=function(a,b){return h.merge(a,b,d)};var c=/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,n=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define("require exports ../../deprecate ../../Logger ../ensureType ../metadata".split(" "),function(k,a,h,m,l,g){function f(a){var b="_meta"in a?l.ensureType(a):
a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?d.apply(this,a):e.apply(this,a)}}function e(a,b,c,d){g.getPropertyMetadata(a,b).cast=d}function d(a,b,c,d){h.deprecated(m.getLogger("esri.core.accessorSupport.decorators.cast"),"@cast decorator on method parameters is deprecated for compatibility with ES decorator spec",{version:"4.14",see:"https://arcg.is/vvbW8"});g.getParameterMetadata(a,b,c).cast=d}function b(a){return function(b,
c){g.getPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(a,"__esModule",{value:!0});var c=Object.prototype.toString;a.autocastMethod=function(a,b,c){if(g.hasParametersMetadata(a,b)){var d=g.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(d.length){var e=c.value;c.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<d.length;b++){var c=d[b];a[c.index]=c.cast(a[c.index])}return e.apply(this,a)};return c}console.warn("Method "+a.declaredClass+
"::"+b+" is decorated with @cast but no parameters are decorated")}};a.cast=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===c.call(a[0]))return f(a[0]);if(1===a.length&&"string"===typeof a[0])return b(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(k,a,h,m,l,g,f,e,d){function b(a){C.has(a)?
A.splice(A.indexOf(a),1):C.add(a);A.push(a);q||(q=g.schedule(n))}function c(a){if(!a.removed){var b=a.callback,c=a.path,d=a.oldValue,e=a.target,g=f.valueOf(e,a.propertyPath,!0);m.equals(d,g)||(a.oldValue=g,b.call(e,g,d,c,e))}}function n(){for(var a=10;q&&a--;){q=null;var b=A;A=B.acquire();C.clear();for(var d=B.acquire(),e=0,f=b;e<f.length;e++){var g=f[e],n=g.uid;c(g);n===g.uid&&g.removed&&d.push(g)}for(e=0;e<A.length;e++)g=A[e],g.removed&&(d.push(g),C.delete(g),A.splice(e,1),--e);for(e=0;e<d.length;e++)t.pool.release(d[e]);
B.release(b);B.release(d);D.forEach(function(a){return a()})}}function u(a,c,g){var n=e.parse(a,c,g,function(a,c,g){var h=f.valueOf(a,c,!0),l,q,k=d.wire(a,c,function(a,c){a.__accessor__.destroyed||l&&l.uid!==q?n.remove():(l||(l=t.pool.acquire(a,c,h,g),q=l.uid,h=null),b(l))});return{remove:e.once(function(){k.remove();l&&(l.uid!==q||l.removed||(l.removed=!0,b(l)),l=null);n=k=h=null})}});return n}function v(a,b,c){var g=e.parse(a,b,c,function(a,b,c){var e=f.valueOf(a,b,!0),n=!1;return d.wire(a,b,function(a,
b){if(a.__accessor__.destroyed)g.remove();else if(!n){n=!0;var d=f.valueOf(a,b,!0);m.equals(e,d)||c.call(a,d,e,b,a);e=f.valueOf(a,b,!0);n=!1}})});return g}function w(a,b,c,d){void 0===d&&(d=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:d?v(a,b,c):u(a,b,c)}Object.defineProperty(a,"__esModule",{value:!0});var t=function(){function a(b,c,d,f){this.target=b;this.path=c;this.oldValue=d;this.callback=f;this.uid=0;this.removed=!1;this.propertyPath=e.pathToStringOrArray(c);this.uid=
++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new l.ReentrantObjectPool(a,!0);a.uid=0;return a}(),B=new h,C=new Set,A=B.acquire(),q;a.dispatchTarget=function(a){for(var b=B.copy(A),d=0;d<b.length;d++){var e=b[d];e.target===a&&(c(e),C.delete(e),A.splice(A.indexOf(e),1))}};a.removeTarget=function(a){for(var b=0;b<A.length;b++){var c=A[b];c.target===a&&(c.removed=!0)}};a.dispatch=n;var D=new Set;
a.afterDispatch=function(a){D.add(a);return{remove:function(){D.delete(a)}}};a.watch=w;a.isValueInUse=function(a){return A.some(function(b){return b.oldValue===a})};a.default=w})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(k,a,h){function m(a){a.length=0}var l=Array.prototype.splice;k=function(){function a(a,d){void 0===a&&(a=50);void 0===d&&(d=50);this._pool=new h(Array,!1,m,d,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=
function(a){var d=this.acquire();a.unshift(0,0);l.apply(d,a);a.splice(0,2);return d};a.prototype.release=function(a){this._pool.release(a)};a.prototype.prune=function(){this._pool.prune(0)};a.acquire=function(){return g.acquire()};a.copy=function(a){return g.copy(a)};a.release=function(a){return g.release(a)};a.prune=function(){g.prune()};return a}();var g=new k(100);return k})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(k,
a,h,m){Object.defineProperty(a,"__esModule",{value:!0});k=function(a){function g(){var f=null!==a&&a.apply(this,arguments)||this;f._set=new Set;return f}h(g,a);g.prototype.destroy=function(){a.prototype.destroy.call(this);this._set=null};g.prototype.acquire=function(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];f=a.prototype.acquire.apply(this,f);this._set.delete(f);return f};g.prototype.release=function(f){f&&!this._set.has(f)&&(a.prototype.release.call(this,f),this._set.add(f))};g.prototype._dispose=
function(f){this._set.delete(f);a.prototype._dispose.call(this,f)};return g}(m);a.ReentrantObjectPool=k})},"esri/core/scheduling":function(){define("require exports ./nextTick ./now ./PooledArray ./promiseUtils ./requestAnimationFrame".split(" "),function(k,a,h,m,l,g,f){function e(b){void 0===b&&(b=a.now());a.debug.rafId=null;0<D.length&&(a.debug.rafId=d());0<w&&(B=Math.min(b-w,B));a.debug.executeFrameTasks(b)}function d(){return a.debug.requestNextFrame?a.debug.requestNextFrame(n):n()}function b(){D.forEach(function(a){a.removed&&
z.push(a)});D.removeUnorderedMany(z.data,z.length);z.clear()}function c(){for(;q.length;){var b=q.shift();b.isActive&&(b.isActive=!1,b.callback())}a.debug.willDispatch=!1}function n(){return f(e)}Object.defineProperty(a,"__esModule",{value:!0});a.now=m;var u=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),v=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),w=-1,t=0,B=1E3,C={time:0,deltaTime:0,
elapsedFrameTime:0,frameDuration:0},A=["prepare","preRender","render","postRender","update"],q=[],D=new l,y=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=!0};a.prototype.resume=function(){this._task.paused=!1};return a}();a.FrameTaskHandle=y;a.debug={frameTasks:D,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);D.forEach(function(a){a.removed=!0});a&&b()},dispatch:c,
executeFrameTasks:function(c){void 0===c&&(c=a.now());0>w&&(w=c);var d=c-w,e=0<t?t:B,f=Math.max(0,d-e);w=c;for(var g=function(b){var g=A[b];D.forEach(function(n){n.paused||n.removed||(0===b&&n.ticks++,n.phases[g]&&(C.time=c,C.deltaTime=0===n.ticks?0:d,C.elapsedFrameTime=a.now()-c,C.frameDuration=e-f,n.phases[g].call(n,C)))})},n=0;n<A.length;n++)g(n);b()}};a.schedule=function(b){b=new v(b);q.push(b);a.debug.willDispatch||(a.debug.willDispatch=!0,h(c));return b};a.addFrameTask=function(b){b=new u(b);
D.push(b);a.debug.rafId||(w=-1,a.debug.rafId=d());return new y(b)};a.setFrameDuration=function(a){t=Math.max(0,a)};a.requestNextFrame=d;var z=new l;a.waitTicks=function(a,b){void 0===a&&(a=1);var c=g.createResolver(),d=function(){g.isAborted(b)?c.reject(g.createAbortError()):0===a?c():(--a,h(function(){return d()}))};d();return c.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(k,a,h){function m(){if(h.postMessage&&!h.importScripts){var a=h.onmessage,c=
!0;h.onmessage=function(){c=!1};h.postMessage("","*");h.onmessage=a;return c}return!1}function l(a){e.push(a);1===e.length&&f(function(){for(var a=0,b=d;a<b.length;a++)(0,b[a])();a=e.slice();for(b=e.length=0;b<a.length;b++)(0,a[b])()})}var g=h.MutationObserver||h.WebKitMutationObserver,f=function(){if(h.process&&h.process.nextTick)return function(a){h.process.nextTick(a)};if(h.Promise)return function(a){h.Promise.resolve().then(a)};if(g){var a=[],c=document.createElement("div");(new g(function(){for(;0<
a.length;)a.shift()()})).observe(c,{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(m()){var d=[];h.addEventListener("message",function(a){if(a.source===h&&"esri-nexttick-message"===a.data)for(a.stopPropagation();d.length;)d.shift()()},!0);return function(a){d.push(a);h.postMessage("esri-nexttick-message","*")}}return h.setImmediate?function(a){return h.setImmediate(a)}:function(a){return h.setTimeout(a,0)}}(),e=[],d=[];(function(a){a.before=function(a){d.push(a);
return{remove:function(){d=d.filter(function(b){return b!==a})}}}})(l||(l={}));return l})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(k,a,h,m){var l=m();k=h.requestAnimationFrame;if(!k){a=["ms","moz","webkit","o"];for(var g=0;g<a.length&&!k;++g)k=h[a[g]+"RequestAnimationFrame"];k||(k=function(a){var e=m(),d=Math.max(0,16-(e-l)),b=h.setTimeout(function(){a(m())},d);l=e+d;return b})}return k})},"esri/core/accessorSupport/testSupport":function(){define(["require",
"exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(k,a,h,m,l,g,f,e,d,b,c,n){function u(b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])}Object.defineProperty(a,
"__esModule",{value:!0});u(h);u(m);u(l);u(g);u(f);u(e);u(d);u(b);u(c);u(n)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(k,a,h){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(l,g){h.getPropertyMetadata(l,g).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],function(k,a,h){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=
function(){return function(a,l){h.getMetadata(a).autoDestroy=!0;return a[l]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../declare"],function(k,a,h){function m(a){var g=Object.getPrototypeOf(a.prototype),f=a._meta&&a._meta.bases;a=a._meta&&a._meta.parents;if(g&&f&&a&&!(1>=a.length))for(var e=1;e<f.length;e++){var d=f[e],b=d.__accessorMetadata__&&d.__accessorMetadata__.properties,c=g,g=Object.getPrototypeOf(g);if(-1!==a.indexOf(d))for(var n=0,h=Object.getOwnPropertyNames(d.prototype);n<
h.length;n++){var l=h[n];if("initialized"!==l&&"constructed"!==l&&"destroyed"!==l&&!(b&&l in b)){var k=Object.getOwnPropertyDescriptor(d.prototype,l);k&&(k.get||k.set)&&Object.defineProperty(c,l,k)}}}}Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){var g=function(){return this||{}};if(1<arguments.length){for(var f=[],e=0;e<arguments.length;e++)f.push(arguments[e]);a=h(f);m(a)}g.__bases__=[a];return g}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require",
"exports","../../jsonMap","./property"],function(k,a,h,m){function l(a){return m.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=l;(function(a){a.serializable=function(){return function(a,e){void 0===e&&(e={ignoreUnknown:!0});a=a instanceof h.JSONMap?a:new h.JSONMap(a,e);return m.property({type:e&&e.ignoreUnknown?a.apiValues:String,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(l=a.enumeration||(a.enumeration={}))})},"esri/core/jsonMap":function(){define(["require",
"exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});var h=function(){function a(a,g){void 0===g&&(g={ignoreUnknown:!1});var f=this;this.jsonToAPI=a;this.options=g;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return f.fromJSON(a)};this.write=function(a,d,b){a=f.toJSON(a);void 0!==a&&(d[b]=a)}}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?
this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var g={},f;for(f in a)g[a[f]]=f;return g};a.prototype.getKeysSorted=function(a){var g=[],f;for(f in a)g.push(f);g.sort();return g};return a}();a.JSONMap=h;a.strict=function(){return function(a){return new h(a,{ignoreUnknown:!0})}};a.default=h})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(k,a,h,m,l,g){Object.defineProperty(a,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(e,d){var b=e.constructor.prototype;b!==Function.prototype&&((e=Object.getOwnPropertyDescriptor(e,d))&&(e.get||e.set)?(a=m.clone(a),e.set&&(a.set=e.set),e.get&&(a.get=e.get)):e&&e.hasOwnProperty("value")&&(a=m.clone(a),a.value=e.value),d=g.getPropertyMetadata(b,d),g.mergeProperty(d,a))}};a.propertyJSONMeta=function(a,
e,d){a=g.getPropertyMetadata(a.constructor.prototype,d);a.json||(a.json={});a=a.json;void 0!==e&&(a.origins||(a.origins={}),a.origins[e]||(a.origins[e]={}),a=a.origins[e]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(k,a,h,m){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,g,f){var e,d;void 0===g||Array.isArray(g)?(d=a,f=g,e=[void 0]):(d=g,e=Array.isArray(a)?a:[a]);return function(a,c){var b=
a.constructor.prototype;e.forEach(function(e){e=m.propertyJSONMeta(a,e,d);e.read&&"object"!==typeof e.read&&(e.read={});h.setDeepValue("read.reader",b[c],e);f&&(e.read.source=(e.read.source||[]).concat(f))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(h,l){h[l]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports",
"../../declare","../metadata"],function(k,a,h,m){function l(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function g(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function f(a){var b=[];a=m.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var d=a[c];d.cast&&b.push(d.cast);d.copy&&b.push(d.copy);if(d=d.json)if(l(d,b),g(d,b),d=d.origins)for(var e in d){var f=
d[e];l(f,b);g(f,b)}}return b}function e(a){var c={values:{},descriptors:{}},d=["__bases__"],e=m.getPropertiesMetadata(a.prototype),g=f(a);Object.getOwnPropertyNames(a.prototype).filter(function(c){return-1!==d.indexOf(c)||e&&e.hasOwnProperty(c)||!b(Object.getOwnPropertyDescriptor(a.prototype,c))&&-1!==g.indexOf(a.prototype[c])?!1:!0}).forEach(function(d){var e=Object.getOwnPropertyDescriptor(a.prototype,d);b(e)?c.descriptors[d]=e:c.values[d]=a.prototype[d]});return c}function d(a){var c=Object.getOwnPropertyNames(a),
d=Object.getPrototypeOf(a.prototype).constructor,e=Object.getOwnPropertyNames(Function);e.push("__bases__","caller","arguments");var f=Object.getOwnPropertyNames(d),g={values:{},descriptors:{}};c.filter(function(b){return-1!==e.indexOf(b)?!1:-1===f.indexOf(b)||d[b]!==a[b]?!0:!1}).forEach(function(c){var d=Object.getOwnPropertyDescriptor(a,c);b(d)?g.descriptors[c]=d:g.values[c]=a[c]});return g}function b(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(a){return function(c){var f=
e(c),g=d(c);null!=a&&(f.values.declaredClass=a);c=h(c.__bases__,f.values);var n=Object.getPrototypeOf(c.prototype),t=c._meta&&c._meta.bases,l=c._meta&&c._meta.parents;if(n&&t&&l&&!(1>=l.length))for(var k=1;k<t.length;k++){var m=t[k],q=m.__accessorMetadata__&&m.__accessorMetadata__.properties,D=n,n=Object.getPrototypeOf(n);if(-1!==l.indexOf(m))for(var y=0,z=Object.getOwnPropertyNames(m.prototype);y<z.length;y++){var E=z[y];if("initialized"!==E&&"constructed"!==E&&"destroyed"!==E&&!(q&&E in q)){var I=
Object.getOwnPropertyDescriptor(m.prototype,E);b(I)&&Object.defineProperty(D,E,I)}}}Object.defineProperties(c.prototype,f.descriptors);for(var J in g.values)c[J]=g.values[J];Object.defineProperties(c,g.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(k,a,h,m){Object.defineProperty(a,"__esModule",{value:!0});a.writer=function(a,g,f){var e,d;void 0===g?(d=a,e=[void 0]):"string"!==typeof g?(d=a,e=[void 0],
f=g):(d=g,e=Array.isArray(a)?a:[a]);return function(a,c){var b=a.constructor.prototype;e.forEach(function(e){e=m.propertyJSONMeta(a,e,d);e.write&&"object"!==typeof e.write&&(e.write={});f&&h.setDeepValue("write.target",f,e);h.setDeepValue("write.writer",b[c],e)})}}})},"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});var g;a.execute=function(a,e){void 0===e&&(e=
{});var d=e.responseType;d?"json"!==d&&"text"!==d&&"blob"!==d&&"array-buffer"!==d&&(d="text"):d="json";var b=e&&e.signal;delete e.signal;return l.invokeStaticMessage("request",{url:a,options:e},{signal:b}).then(function(b){var c=b.data,f,l,k;if(c&&("json"===d||"text"===d||"blob"===d)&&(f=new Blob([c]),"json"===d||"text"===d)&&(g||(g=new FileReaderSync),l=g.readAsText(f),"json"===d)){try{k=JSON.parse(l||null)}catch(t){throw b=h({},t,{url:a,requestOptions:e}),new m("request:server",t.message,b);}if(k.error)throw b=
h({},k.error,{url:a,requestOptions:e}),new m("request:server",k.error.message,b);}switch(d){case "json":break;case "text":k=l;break;case "blob":k=f;break;default:k=c}return{data:k,requestOptions:e,ssl:b.ssl,url:a}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(k){for(var a,h=1,m=arguments.length;h<m;h++){a=arguments[h];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(k[l]=a[l])}return k}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["require",
"exports","../../../../core/promiseUtils","./WorkerTile","./style/StyleRepository"],function(k,a,h,m,l){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return h.resolve()};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new l(a)).layers;return h.resolve({data:""})};
a.prototype.createTileAndParse=function(a,e){for(var d=this,b=a.key,c=new m,f={},g=0,h=Object.keys(a.sourceName2DataAndRefKey);g<h.length;g++){var l=h[g];f[l]=a.sourceName2DataAndRefKey[l].refKey}c.initialize(b,f,this,a.rotation);return c.setDataAndParse(a.sourceName2DataAndRefKey,e).then(function(a){d._tiles.set(b,c);return a}).catch(function(a){c.setObsolete();c.release();throw a;})};a.prototype.updateSymbols=function(a,e){var d=this._tiles.get(a.key);return d?d.updateSymbols(a.rotation,e):h.reject()};
a.prototype.updateStyle=function(a,e){this._layers=(new l(a)).layers;this._tiles.forEach(function(a){a.reparse(e).then(function(b){e.client.invoke("updateTileData",{tileId:a.tileKey,tileData:b.result})})});return h.resolve({data:""})};a.prototype.destructTileData=function(a){this._tiles.has(a)&&(this._tiles.get(a).release(),this._tiles.delete(a));return h.resolve()};a.prototype.fetchSprites=function(a,e,d){var b=[],c=this._spriteInfo;a.forEach(function(a){void 0===c[a]&&b.push(a)});return 0===b.length?
h.resolve():e.invoke("getSprites",b,{signal:d&&d.signal}).then(function(a){for(var b in a)c[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,e,d,b,c){var f=[],g=this._glyphInfo[e];g?d.forEach(function(a){g[a]||f.push(a)}):(g=this._glyphInfo[e]=[],d.forEach(function(a){return f.push(a)}));return 0===f.length?h.resolve():b.invoke("getGlyphs",{tileID:a,font:e,codePoints:f},c).then(function(a){for(var b=0;b<a.length;b++)a[b]&&(g[b]=a[b])})};
a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/maybe ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),function(k,a,h,
m,l,g,f,e,d,b,c,n,u,v,w,t,B){return function(){function a(){this.rotation=0;this.status=B.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new u.PlacementEngine;this.fillVertexBuffer=new t.FillVertexBuffer(!1);this.fillDDVertexBuffer=new t.FillVertexBuffer(!0);this.fillIndexBuffer=new c.TriangleIndexBuffer;this.outlineVertexBuffer=new t.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new t.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new c.TriangleIndexBuffer;this.lineVertexBuffer=
new t.LineVertexBuffer(!1);this.lineDDVertexBuffer=new t.LineVertexBuffer(!0);this.lineIndexBuffer=new c.TriangleIndexBuffer;this.iconVertexBuffer=new t.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.iconIndexBuffer=new c.TriangleIndexBuffer;this.textVertexBuffer=new t.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.textIndexBuffer=new c.TriangleIndexBuffer;this.circleVertexBuffer=new t.CircleVertexBuffer;this.circleIndexBuffer=new c.TriangleIndexBuffer}
a.prototype.initialize=function(a,c,d,e){void 0===e&&(e=0);this.tileKey=a;this.refKeys=c;this._workerTileHandler=d;this.rotation=e;this.placementEngine.setAngle(b.C_DEG_TO_RAD*e)};a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=B.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};a.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();
this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};a.prototype.reparse=function(a){this.resetData();
return this.setDataAndParse(this._data,a)};a.prototype.setDataAndParse=function(a,b){var c=this,g=b&&b.signal;if(l.isSome(g)){var t=function(){g.removeEventListener("abort",t);c.status=B.TileStatus.INVALID};g.addEventListener("abort",t)}this._data=a;return this._parse(a,b).then(function(a){c.status=B.TileStatus.READY;for(var b=new Uint32Array([1,c.fillVertexBuffer.sizeInBytes,2,c.fillDDVertexBuffer.sizeInBytes,3,c.fillIndexBuffer.sizeInBytes,4,c.outlineVertexBuffer.sizeInBytes,5,c.outlineDDVertexBuffer.sizeInBytes,
6,c.outlineIndexBuffer.sizeInBytes,7,c.lineVertexBuffer.sizeInBytes,8,c.lineDDVertexBuffer.sizeInBytes,9,c.lineIndexBuffer.sizeInBytes,10,c.iconVertexBuffer.sizeInBytes,11,c.iconDDVertexBuffer.sizeInBytes,12,c.iconIndexBuffer.sizeInBytes,13,c.textVertexBuffer.sizeInBytes,14,c.textDDVertexBuffer.sizeInBytes,15,c.textIndexBuffer.sizeInBytes,16,c.circleVertexBuffer.sizeInBytes,17,c.circleIndexBuffer.sizeInBytes]),g=[],t=a.length,h=0;h<t;h++){var l=a[h];if(l instanceof d)g.push(l.layerIndex),g.push(1),
g.push(l.fillIndexStart),g.push(l.fillIndexCount),g.push(l.outlineIndexStart),g.push(l.outlineIndexCount);else if(l instanceof n)g.push(l.layerIndex),g.push(2),g.push(l.lineIndexStart),g.push(l.lineIndexCount);else if(l instanceof v){g.push(l.layerIndex);g.push(3);g.push(l.sdfMarker?1:0);var q=l.markerPageMap;g.push(q.size);q.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])});l=l.glyphsPageMap;g.push(l.size);l.forEach(function(a,b){g.push(b);g.push(a[0]);g.push(a[1])})}else l instanceof e?
(g.push(l.layerIndex),g.push(4),g.push(l.circleIndexStart),g.push(l.circleIndexCount)):l instanceof f&&(g.push(l.layerIndex),g.push(0))}a=new Uint32Array(g);var t=c.fillVertexBuffer.toBuffer(),h=c.fillDDVertexBuffer.toBuffer(),l=c.fillIndexBuffer.toBuffer(),q=c.outlineVertexBuffer.toBuffer(),k=c.outlineDDVertexBuffer.toBuffer(),m=c.outlineIndexBuffer.toBuffer(),y=c.lineVertexBuffer.toBuffer(),w=c.lineDDVertexBuffer.toBuffer(),u=c.lineIndexBuffer.toBuffer(),D=c.iconVertexBuffer.toBuffer(),C=c.iconDDVertexBuffer.toBuffer(),
A=c.iconIndexBuffer.toBuffer(),z=c.textVertexBuffer.toBuffer(),E=c.textDDVertexBuffer.toBuffer(),ha=c.textIndexBuffer.toBuffer(),aa=c.circleVertexBuffer.toBuffer(),ca=c.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:b.buffer,bucketDataInfo:a.buffer,bufferData:[t,h,l,q,k,m,y,w,u,D,C,A,z,E,ha,aa,ca]},transferList:[t,h,l,q,k,m,y,w,u,D,C,A,z,E,ha,aa,ca,b.buffer,a.buffer]}})};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a,c){var d=this,e=
this._symbolBuckets;if(!e||0===e.length)return g.resolve();var f=c&&c.signal;if(l.isSome(f)){var t=function(){f.removeEventListener("abort",t);d.status=B.TileStatus.INVALID};f.addEventListener("abort",t)}this.rotation=a;var n=this.placementEngine;n.reset();n.setAngle(a/256*360*b.C_DEG_TO_RAD);var h=this.iconVertexBuffer;h.reset();var q=this.iconDDVertexBuffer;q.reset();var k=this.iconIndexBuffer;k.reset();var m=this.textVertexBuffer;m.reset();c=this.textDDVertexBuffer;c.reset();a=this.textIndexBuffer;
a.reset();for(var w=[],u=0;u<e.length;u++){var v=e[u];if(v&&v.layer){var C=v.layer;if(v=v.copy(C.hasDataDrivenIcon?q:h,k,C.hasDataDrivenText?c:m,a,n))w.push(v),v.updateSymbols()}}if(this.status===B.TileStatus.INVALID||this.status===B.TileStatus.INITIALIZED||0===h.sizeInBytes&&0===q.sizeInBytes&&0===k.sizeInBytes&&0===m.sizeInBytes&&0===c.sizeInBytes&&0===a.sizeInBytes)return g.reject();for(var e=new Uint32Array([10,h.sizeInBytes,11,q.sizeInBytes,12,k.sizeInBytes,13,m.sizeInBytes,14,c.sizeInBytes,
15,a.sizeInBytes]),A=[],u=0;u<w.length;u++)n=w[u],A.push(n.layerIndex),A.push(3),A.push(n.sdfMarker?1:0),v=n.markerPageMap,A.push(v.size),v.forEach(function(a,b){A.push(b);A.push(a[0]);A.push(a[1])}),n=n.glyphsPageMap,A.push(n.size),n.forEach(function(a,b){A.push(b);A.push(a[0]);A.push(a[1])});w=new Uint32Array(A);h=h.toBuffer();q=q.toBuffer();k=k.toBuffer();m=m.toBuffer();c=c.toBuffer();a=a.toBuffer();return g.resolve({result:{bufferDataInfo:e.buffer,bucketDataInfo:w.buffer,bufferData:[h,q,k,m,c,
a]},transferList:[h,q,k,m,c,a,e.buffer,w.buffer]})};a.prototype.setObsolete=function(){this.status=B.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return m(this,void 0,void 0,function(){var c;return h(this,function(d){if(0===Object.keys(a).length)return[2,[]];this.status=B.TileStatus.MODIFIED;c=new w(a,this,b.client);return[2,c.parse(b)]})})};
return a}()})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(k){return function(a,h,m,l){var g=null;return k.create(function(f,e){function d(a){try{c(l.next(a))}catch(u){e(u)}}function b(a){try{c(l["throw"](a))}catch(u){e(u)}}function c(a){a.done?(g=k.when(a.value),g.then(f,e)):(g=k.when(a.value),g.then(d,b))}c((l=l.apply(a,h||[])).next())},function(a){g&&g.cancel&&g.cancel(a)})}})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(k,a,h,m){return function(a){function g(f,e){return a.call(this,f,e)||this}h(g,a);g.prototype.processFeatures=function(){};g.prototype.assignBufferInfo=function(){};return g}(m)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(k,a){return function(){function a(a,h){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=h;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=
function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};return a}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(k,a,h,m){return function(a){function g(f,e,d,b){f=a.call(this,f,e)||this;f._circleVertexBuffer=d;f._circleIndexBuffer=b;return f}h(g,a);Object.defineProperty(g.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},
enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});g.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=this._circleIndexCount};g.prototype.processFeatures=function(a){var e=this._circleVertexBuffer,d=this._circleIndexBuffer;this._circleIndexStart=d.index;this._circleIndexCount=0;var b=this.layer,c=this.zoom;a&&a.setExtent(this.layerExtent);
for(var f=1,g=[1,1,1,1],h=1,l=0,t=1,k=[1,1,1,1],m=1,A=0,q=this._features;A<q.length;A++){var D=q[A],y=D.getGeometry(a);if(y)for(b.hasDataDrivenRadius&&(f=b.getPaintValue("circle-radius",c,D)),b.hasDataDrivenColor&&(g=b.getPaintValue("circle-color",c,D)),b.hasDataDrivenOpacity&&(h=b.getPaintValue("circle-opacity",c,D)),b.hasDataDrivenStrokeWidth&&(t=b.getPaintValue("circle-stroke-width",c,D)),b.hasDataDrivenStrokeColor&&(k=b.getPaintValue("circle-stroke-color",c,D)),b.hasDataDrivenStrokeOpacity&&(m=
b.getPaintValue("circle-stroke-opacity",c,D)),b.hasDataDrivenBlur&&(l=b.getPaintValue("circle-blur",c,D)),D=0;D<y.length;D++){var z=y[D];if(z)for(var E=0;E<z.length;E++){var I=z[E],J=e.index;e.add(I.x,I.y,0,0,f,g,h,l,t,k,m);e.add(I.x,I.y,0,1,f,g,h,l,t,k,m);e.add(I.x,I.y,1,0,f,g,h,l,t,k,m);e.add(I.x,I.y,1,1,f,g,h,l,t,k,m);d.add(J+0,J+1,J+2);d.add(J+1,J+2,J+3);this._circleIndexCount+=6}}}};return g}(m)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),
function(k,a,h,m,l,g,f){return function(a){function d(b,c,d,e,f,g){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==d.isDataDriven())throw Error("incompatible fill buffer");if(b.hasDataDrivenOutline!==f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=d;c._fillIndexBuffer=e;c._outlineVertexBuffer=f;c._outlineIndexBuffer=g;return c}h(d,a);Object.defineProperty(d.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});d.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?
(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};d.prototype.processFeatures=function(a){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var b=this.layer,d=this.zoom,e=b.hasDataDrivenFill,f=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var g=b.getPaintValue("fill-pattern",d),t=b.getPaintValue("fill-antialias",
d)&&void 0===g,h=[1,1,1,1],l=[1,1,1,1],k=1;if(b.outlineUsesFillColor){if(t&&!b.hasDataDrivenOpacity){var q=b.getPaintValue("fill-opacity",d),m=b.getPaintValue("fill-opacity",d+1);1>q&&1>m&&(t=!1)}t&&!b.hasDataDrivenColor&&(q=b.getPaintValue("fill-color",d),m=b.getPaintValue("fill-color",d+1),1>q[3]&&1>m[3]&&(t=!1))}q=0;for(m=this._features;q<m.length;q++){var y=m[q];!g&&b.hasDataDrivenColor&&(h=b.getPaintValue("fill-color",d,y));b.hasDataDrivenOpacity&&(k=b.getPaintValue("fill-opacity",d,y));!g&&
b.hasDataDrivenOutlineColor&&(l=b.getPaintValue("fill-outline-color",d,y));var z=void 0;e&&(z={color:h,opacity:k});var E=void 0;f&&(E={color:b.outlineUsesFillColor?h:l,opacity:k});y=y.getGeometry(a);this._processFeature(y,t,b.outlineUsesFillColor,z,E)}};d.prototype._processFeature=function(a,c,e,f,g){if(a){var b=a.length;if(c&&(!e||!g||1===g.color[3]*g.opacity))for(c=0;c<b;c++)this._processOutline(a[c],g);var t;for(c=0;c<b;c++)g=d._area(a[c]),128<g?(void 0!==t&&this._processFill(a,t,f),t=[c]):-128>
g&&void 0!==t&&t.push(c);void 0!==t&&this._processFill(a,t,f)}};d.prototype._processOutline=function(a,c){var b=this._outlineVertexBuffer,d=this._outlineIndexBuffer,e=d.index,g,t,h,l=new f.Point(0,0),k=new f.Point(0,0),q=new f.Point(0,0),m=-1,y=-1,z=-1,E=-1,I=-1,J=!1,L=a.length;if(!(2>L)){var F=a[0];for(g=a[L-1];L&&g.isEqual(F);)--L,g=a[L-1];if(!(2>L-0)){for(F=0;F<L;++F){0===F?(g=a[L-1],t=a[0],h=a[1],l.assignSub(t,g),l.normalize(),l.rightPerpendicular()):(g=t,t=h,h=F!==L-1?a[F+1]:a[0],l.assign(k));
g=this._isClipEdge(g,t);-1===E&&(J=g);k.assignSub(h,t);k.normalize();k.rightPerpendicular();z=l.x*k.y-l.y*k.x;q.assignAdd(l,k);q.normalize();var H=-q.x*-l.x+-q.y*-l.y,H=Math.abs(0!==H?1/H:1);8<H&&(H=8);0<=z?(z=b.add(t.x,t.y,l.x,l.y,0,1,c),-1===E&&(E=z),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),y=b.add(t.x,t.y,H*-q.x,H*-q.y,0,-1,c),-1===I&&(I=y),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),m=y,y=z,z=b.add(t.x,t.y,q.x,q.y,0,1,c),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),y=b.add(t.x,t.y,k.x,k.y,0,1,c)):(z=b.add(t.x,t.y,H*q.x,
H*q.y,0,1,c),-1===E&&(E=z),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),y=b.add(t.x,t.y,-l.x,-l.y,0,-1,c),-1===I&&(I=y),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),m=y,y=z,z=b.add(t.x,t.y,-q.x,-q.y,0,-1,c),0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z),m=b.add(t.x,t.y,-k.x,-k.y,0,-1,c));0<=m&&0<=y&&0<=z&&!g&&d.add(m,y,z)}0<=m&&0<=y&&0<=E&&!J&&d.add(m,y,E);0<=m&&0<=E&&0<=I&&!J&&d.add(m,I,E);this._outlineIndexCount+=3*(d.index-e)}}};d.prototype._processFill=function(a,c,d){var b;1<c.length&&(b=[]);for(var e=0,f=0;f<c.length;f++){var g=
c[f];0!==e&&b.push(e);e+=a[g].length}for(var f=2*e,e=m.acquire(),h=0;h<c.length;h++)for(var g=c[h],g=a[g],n=g.length,k=0;k<n;++k)e.push(g[k].x),e.push(g[k].y);a=l(e,b,2);c=a.length;if(0<c){b=this._fillVertexBuffer.index;for(h=0;h<f;)this._fillVertexBuffer.add(e[h++],e[h++],d);for(d=0;d<c;)this._fillIndexBuffer.add(b+a[d++],b+a[d++],b+a[d++]);this._fillIndexCount+=c}m.release(e)};d.prototype._isClipEdge=function(a,c){return a.x===c.x?-64>=a.x||4160<=a.x:a.y===c.y?-64>=a.y||4160<=a.y:!1};d._area=function(a){for(var b=
0,d=a.length-1,e=0;e<d;e++)b+=(a[e].x-a[e+1].x)*(a[e].y+a[e+1].y);b+=(a[d].x-a[0].x)*(a[d].y+a[0].y);return.5*b};return d}(g)})},"esri/core/libs/earcut/earcut":function(){define([],function(){function k(b,c,e){e=e||2;var t=c&&c.length,l=t?c[0]*e:b.length,n=a(b,0,l,e,!0),k=[];if(!n||n.next===n.prev)return k;var q,y,u,v;if(t){var B=e,t=[],D,C,A;v=0;for(D=c.length;v<D;v++)C=c[v]*B,A=v<D-1?c[v+1]*B:b.length,C=a(b,C,A,B,!1),C===C.next&&(C.steiner=!0),t.push(d(C));t.sort(g);for(v=0;v<t.length;v++){c=t[v];
B=n;if(B=f(c,B))c=w(B,c),h(c,c.next);n=h(n,n.next)}}if(b.length>80*e){q=u=b[0];y=t=b[1];for(B=e;B<l;B+=e)v=b[B],c=b[B+1],v<q&&(q=v),c<y&&(y=c),v>u&&(u=v),c>t&&(t=c);u=Math.max(u-q,t-y);u=0!==u?1/u:0}m(n,k,e,q,y,u);return k}function a(a,b,c,d,e){var f;if(e===0<A(a,b,c,d))for(e=b;e<c;e+=d)f=t(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=t(e,a[e],a[e+1],f);f&&n(f,f.next)&&(B(f),f=f.next);return f}function h(a,b){if(!a)return a;b||(b=a);var d;do if(d=!1,a.steiner||!n(a,a.next)&&0!==c(a.prev,a,a.next))a=
a.next;else{B(a);a=b=a.prev;if(a===a.next)break;d=!0}while(d||a!==b);return b}function m(a,d,f,g,t,k,C){if(a){if(!C&&k){var q=a,y=q;do null===y.z&&(y.z=e(y.x,y.y,g,t,k)),y.prevZ=y.prev,y=y.nextZ=y.next;while(y!==q);y.prevZ.nextZ=null;y.prevZ=null;var q=y,D,A,z,E,I,J,M=1;do{y=q;z=q=null;for(E=0;y;){E++;A=y;for(D=I=0;D<M&&(I++,A=A.nextZ,A);D++);for(J=M;0<I||0<J&&A;)0!==I&&(0===J||!A||y.z<=A.z)?(D=y,y=y.nextZ,I--):(D=A,A=A.nextZ,J--),z?z.nextZ=D:q=D,D.prevZ=z,z=D;y=A}z.nextZ=null;M*=2}while(1<E)}for(q=
a;a.prev!==a.next;){y=a.prev;A=a.next;if(k)z=l(a,g,t,k);else a:if(z=a,E=z.prev,I=z,M=z.next,0<=c(E,I,M))z=!1;else{J=D=z.next.next;for(var S=0;D!==z.prev&&(0===S||D!==J);){S++;if(b(E.x,E.y,I.x,I.y,M.x,M.y,D.x,D.y)&&0<=c(D.prev,D,D.next)){z=!1;break a}D=D.next}z=!0}if(z)d.push(y.i/f),d.push(a.i/f),d.push(A.i/f),B(a),q=a=A.next;else if(a=A,a===q){if(!C)m(h(a),d,f,g,t,k,1);else if(1===C){C=d;q=f;y=a;do A=y.prev,z=y.next.next,!n(A,z)&&u(A,y,y.next,z)&&v(A,z)&&v(z,A)&&(C.push(A.i/q),C.push(y.i/q),C.push(z.i/
q),B(y),B(y.next),y=a=z),y=y.next;while(y!==a);a=y;m(a,d,f,g,t,k,2)}else if(2===C)a:{C=a;do{for(q=C.next.next;q!==C.prev;){if(y=C.i!==q.i){y=C;A=q;z=void 0;if(z=y.next.i!==A.i&&y.prev.i!==A.i){z=void 0;b:{z=y;do{if(z.i!==y.i&&z.next.i!==y.i&&z.i!==A.i&&z.next.i!==A.i&&u(z,z.next,y,A)){z=!0;break b}z=z.next}while(z!==y);z=!1}z=!z}E=void 0;if(E=z&&v(y,A)&&v(A,y)){z=y;E=!1;I=(y.x+A.x)/2;A=(y.y+A.y)/2;do z.y>A!==z.next.y>A&&z.next.y!==z.y&&I<(z.next.x-z.x)*(A-z.y)/(z.next.y-z.y)+z.x&&(E=!E),z=z.next;
while(z!==y)}y=E}if(y){a=w(C,q);C=h(C,C.next);a=h(a,a.next);m(C,d,f,g,t,k);m(a,d,f,g,t,k);break a}q=q.next}C=C.next}while(C!==a)}break}}}}function l(a,d,f,g){var t=a.prev,h=a.next;if(0<=c(t,a,h))return!1;var l=t.x>a.x?t.x>h.x?t.x:h.x:a.x>h.x?a.x:h.x,n=t.y>a.y?t.y>h.y?t.y:h.y:a.y>h.y?a.y:h.y,k=e(t.x<a.x?t.x<h.x?t.x:h.x:a.x<h.x?a.x:h.x,t.y<a.y?t.y<h.y?t.y:h.y:a.y<h.y?a.y:h.y,d,f,g);d=e(l,n,d,f,g);f=a.prevZ;for(g=a.nextZ;f&&f.z>=k&&g&&g.z<=d;){if(f!==a.prev&&f!==a.next&&b(t.x,t.y,a.x,a.y,h.x,h.y,f.x,
f.y)&&0<=c(f.prev,f,f.next))return!1;f=f.prevZ;if(g!==a.prev&&g!==a.next&&b(t.x,t.y,a.x,a.y,h.x,h.y,g.x,g.y)&&0<=c(g.prev,g,g.next))return!1;g=g.nextZ}for(;f&&f.z>=k;){if(f!==a.prev&&f!==a.next&&b(t.x,t.y,a.x,a.y,h.x,h.y,f.x,f.y)&&0<=c(f.prev,f,f.next))return!1;f=f.prevZ}for(;g&&g.z<=d;){if(g!==a.prev&&g!==a.next&&b(t.x,t.y,a.x,a.y,h.x,h.y,g.x,g.y)&&0<=c(g.prev,g,g.next))return!1;g=g.nextZ}return!0}function g(a,b){return a.x-b.x}function f(a,c){var d=c,e=a.x,f=a.y,g=-Infinity,h;do{if(f<=d.y&&f>=d.next.y&&
d.next.y!==d.y){var t=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(t<=e&&t>g){g=t;if(t===e){if(f===d.y)return d;if(f===d.next.y)return d.next}h=d.x<d.next.x?d:d.next}}d=d.next}while(d!==c);if(!h)return null;if(e===g)return h.prev;c=h;for(var t=h.x,l=h.y,n=Infinity,k,d=h.next;d!==c;)e>=d.x&&d.x>=t&&e!==d.x&&b(f<l?e:g,f,t,l,f<l?g:e,f,d.x,d.y)&&(k=Math.abs(f-d.y)/(e-d.x),(k<n||k===n&&d.x>h.x)&&v(d,a)&&(h=d,n=k)),d=d.next;return h}function e(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;
a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function d(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function b(a,b,c,d,e,f,g,h){return 0<=(e-g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function c(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function n(a,b){return a.x===b.x&&a.y===b.y}function u(a,b,d,e){return n(a,
b)&&n(d,e)||n(a,e)&&n(d,b)?!0:0<c(a,b,d)!==0<c(a,b,e)&&0<c(d,e,a)!==0<c(d,e,b)}function v(a,b){return 0>c(a.prev,a,a.next)?0<=c(a,b,a.next)&&0<=c(a,a.prev,b):0>c(a,b,a.prev)||0>c(a,a.next,b)}function w(a,b){var c=new C(a.i,a.x,a.y),d=new C(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function t(a,b,c,d){a=new C(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function B(a){a.next.prev=a.prev;a.prev.next=
a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function C(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function A(a,b,c,d){for(var e=0,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}k.deviation=function(a,b,c,d){var e=b&&b.length,f=Math.abs(A(a,0,e?b[0]*c:a.length,c));if(e)for(var e=0,g=b.length;e<g;e++)f-=Math.abs(A(a,b[e]*c,e<g-1?b[e+1]*c:a.length,c));for(e=b=0;e<d.length;e+=3){var g=d[e]*c,h=d[e+1]*
c,t=d[e+2]*c;b+=Math.abs((a[g]-a[t])*(a[h+1]-a[g+1])-(a[g]-a[h])*(a[t+1]-a[g+1]))}return 0===f&&0===b?0:Math.abs((b-f)/f)};k.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);0<e&&(d+=a[e-1].length,c.holes.push(d))}return c};return k})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",
{value:!0});k=function(){function a(a,h){this.x=a;this.y=h}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,h){return a===this.x&&h===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,h){this.x=a;this.y=h};a.prototype.normalize=function(){var a=this.x,h=this.y,a=Math.sqrt(a*a+h*h);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,
h){this.x+=a;this.y+=h};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,h){this.x=a.x+h.x;this.y=a.y+h.y};a.prototype.assignSub=function(a,h){this.x=a.x-h.x;this.y=a.y-h.y};a.prototype.rotate=function(a,h){var g=this.x,f=this.y;this.x=g*a-f*h;this.y=g*h+f*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,h=this.y;return Math.sqrt(a*a+h*h)};a.distance=function(a,h){var g=h.x-a.x;a=h.y-a.y;return Math.sqrt(g*g+a*a)};
a.add=function(h,l){return new a(h.x+l.x,h.y+l.y)};a.sub=function(h,l){return new a(h.x-l.x,h.y-l.y)};return a}();a.Point=k})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(k,a){function h(a,g){a%=g;return 0<=a?a:a+g}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/
180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var m=1/Math.LN2;a.positiveMod=h;a.radToByte=function(l){return h(l*a.C_RAD_TO_256,256)};a.degToByte=function(l){return h(l*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*m};a.sqr=function(a){return a*a};a.interpolate=function(a,g,f){return a*(1-f)+g*f};a.between=function(a,g,f){return a>=g&&a<=f||a>=f&&a<=g}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper",
"./MemoryBuffer"],function(k,a,h,m){Object.defineProperty(a,"__esModule",{value:!0});k=function(a){function g(){return a.call(this,12)||this}h(g,a);g.prototype.add=function(a,e,d){var b=this.array;b.push(a);b.push(e);b.push(d)};return g}(m);a.TriangleIndexBuffer=k;m=function(a){function g(){return a.call(this,4)||this}h(g,a);g.prototype.add=function(a){this.array.push(a)};return g}(m);a.PointElementMemoryBuffer=m})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],
function(k,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,h){return 65535&a|h<<16};a.i8888to32=function(a,h,g,f){return a&255|(h&255)<<8|(g&255)<<16|f<<24};a.i8816to32=function(a,h,g){return a&255|(h&255)<<8|g<<16};return a}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),
function(k,a,h,m,l,g,f,e,d){var b=1/3.8,c=function(a){return function(b){b.entry0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,
0,-1,b.distance,a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)}},n=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},u=function(a){return function(b){var c=a._joinType===l.JoinType.MITER?a._miterLimitCosine:a._roundLimitCosine,d=b.isCap&&a._capType!==l.CapType.BUTT,f=!1;.97<
b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,
0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?
(e.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftInner.x,b.leftInner.y,0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,
a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,
0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightOuter.x,-b.rightOuter.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,
0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightInner.x,-b.rightInner.y,0,1,b.distance,a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,
0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,
a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,
-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,
-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,
b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||f||d?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(f&&a._joinType!==l.JoinType.ROUND)a._lineIndexBuffer.add(c,0<b.sign?b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(d&&a._capType===l.CapType.ROUND||f&&a._joinType===l.JoinType.ROUND){var g=f=d=void 0,h=void 0,n=void 0,k=void 0;if(b.isCap){var m=
Math.PI,n=Math.ceil(m/.8),k=m/n;b.isFirstVertex?(d=b.prevNormal.x,f=b.prevNormal.y,g=b.entry0,h=b.entry2):b.isLastVertex&&(d=-b.nextNormal.x,f=-b.nextNormal.y,g=b.exit2,h=b.exit0)}else m=2*Math.acos(b.cosine),n=Math.ceil(m/.8),k=m/n,d=0<b.sign?-b.prevNormal.x:b.nextNormal.x,f=0<b.sign?-b.prevNormal.y:b.nextNormal.y,g=0<b.sign?b.entry2:b.exit0,h=0<b.sign?b.exit2:b.entry0;for(var m=Math.cos(k),k=Math.sin(k),t=k*d+m*f,d=m*d-k*f,f=t,u=void 0,t=void 0,v=0;v<n;++v){u=t;if(v<n-1)if(b.isCap){var w=b.isFirstVertex?
-1:1,t=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,w,0,b.distance,a._ddValues)}else t=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===v?g:u,c,v===n-1?h:t);u=k*d+m*f;d=m*d-k*f;f=u}}else d&&a._capType===l.CapType.SQUARE&&(d=b.isFirstVertex?1:-1,g=f=void 0,a._hasPattern?(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,-d,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,-d,1,b.distance,a._ddValues)):(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,0,-1,b.distance,a._ddValues),g=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,0,1,b.distance,a._ddValues)),0<d?(a._lineIndexBuffer.add(c,b.entry2,g),a._lineIndexBuffer.add(c,g,f),a._lineIndexBuffer.add(c,f,b.entry0)):(a._lineIndexBuffer.add(c,g,b.exit2),a._lineIndexBuffer.add(c,f,g),a._lineIndexBuffer.add(c,b.exit0,f)))}},v=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?
b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)}};return function(a){function g(b,d,e,f){d=a.call(this,b,d)||this;d._tessellationOptions={};d.tessellationProperties=
{_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null};if(b.hasDataDrivenLine!==e.isDataDriven())throw Error("incompatible line buffer");d.tessellationProperties._lineVertexBuffer=e;d.tessellationProperties._lineIndexBuffer=f;d.tessellationProperties._hasPattern=b.getPaintValue("line-pattern",d.zoom)||0<b.getPaintValue("line-dasharray",d.zoom).length;d._isThinLine=b.isThinLine;d._tessellationCallbacks=
d._isThinLine?{vertex:c(d.tessellationProperties),bridge:n(d.tessellationProperties)}:{vertex:u(d.tessellationProperties),bridge:v(d.tessellationProperties)};return d}h(g,a);Object.defineProperty(g.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});g.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;
a._lineIndexCount=this._lineIndexCount};g.prototype.processFeatures=function(a){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;var b=this.layer,c=this.zoom,g=b.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var h=[1,1,1,1],n=1,l=1,k=0,m=this._features;k<m.length;k++){var t=m[k],u=new f.LineLayout(b,c,t);!this.tessellationProperties._hasPattern&&b.hasDataDrivenColor&&(h=b.getPaintValue("line-color",c,t));b.hasDataDrivenOpacity&&(n=b.getPaintValue("line-opacity",
c,t));b.hasDataDrivenWidth&&(l=b.getPaintValue("line-width",c,t));var v=void 0;if(g&&(v={color:h,opacity:n,size:Math.max(Math.min(l,256),0)},0>=v.size||0>=v.opacity||0>=v.color[3]))continue;this.tessellationProperties._capType=u.cap;this.tessellationProperties._joinType=u.join;this.tessellationProperties._miterLimitCosine=d.getLimitCosine(u.miterLimit);this.tessellationProperties._roundLimitCosine=d.getLimitCosine(u.roundLimit);t=t.getGeometry(a);this._processFeature(t,v)}e.cleanup()};g.prototype._processFeature=
function(a,b){if(a)for(var c=a.length,d=0;d<c;d++)this._processGeometry(a[d],b)};g.prototype._processGeometry=function(a,c){if(!(2>a.length)){for(var d=a[0],f=1,g,h;f<a.length;)g=a[f].x-d.x,h=a[f].y-d.y,1E-6>g*g+h*h?a.splice(f,1):(d=a[f],++f);2>a.length||(d=this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=
65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=c,e.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-d))}};return g}(g)})},
"esri/symbols/cim/enums":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(k,a,h,m,l,g,f){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(a,c,d){this.type=a;this.typeName=c.type;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=d;switch(a){case 0:this._layoutDefinition=l.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=l.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
l.StyleDefinition.fillLayoutDefinition;this._paintDefinition=l.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=l.StyleDefinition.lineLayoutDefinition;this._paintDefinition=l.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=l.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=l.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=l.StyleDefinition.circleLayoutDefinition,this._paintDefinition=l.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=m.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,c,d){var b,e=this._layoutProperties;e&&(e=e[a])&&(b=e.getValue(c,
d));a=this._layoutDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c,d){var b,e=this._paintProperties;e&&(e=e[a])&&(b=e.getValue(c,d));a=this._paintDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var c in a)if(a[c].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var b={},
d;for(d in a){var e=this._layoutDefinition[d];e&&(b[d]=new g(e,a[d]))}return b};a.prototype._parsePaint=function(a){var b={},d;for(d in a){var e=this._paintDefinition[d];e&&(b[d]=new g(e,a[d]))}return b};return a}();a.StyleLayer=k;var e=function(a){function b(b,d,e){return a.call(this,b,d,e)||this}h(b,a);return b}(k);a.BackgroundStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("fill-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=d?d.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;d=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!d;b.hasDataDrivenOutlineColor=d?d.isDataDriven:!1;b.hasDataDrivenOutline=(d?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}h(b,a);return b}(k);a.FillStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;e=b.getPaintProperty("line-color");b.hasDataDrivenColor=e?e.isDataDriven:
!1;e=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=e?e.isDataDriven:!1;e=b.getPaintProperty("line-width");b.hasDataDrivenWidth=e?e.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;d=d.paint["line-width"];d||(d=l.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof d&&d<f.THIN_LINE_THRESHOLD;return b}h(b,a);return b}(k);a.LineStyleLayer=e;e=function(a){function b(b,d,e){b=a.call(this,
b,d,e)||this;d=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=d?d.isDataDriven:!1;d=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=d?d.isDataDriven:!1;d=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=d?d.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;d=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=d?d.isDataDriven:!1;d=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=d?d.isDataDriven:
!1;d=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=d?d.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}h(b,a);return b}(k);a.SymbolStyleLayer=e;k=function(a){function b(b,d,e){b=a.call(this,b,d,e)||this;d=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=
d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=d?d.isDataDriven:!1;return b}h(b,a);return b}(k);a.CircleStyleLayer=k;k=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);
this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();a.LineLayout=k;k=function(){return function(a,b,c,e){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,e);this.optional=a.getLayoutValue("icon-optional",b,e);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,e);this.size=a.getLayoutValue("icon-size",
b,e);this.rotate=a.getLayoutValue("icon-rotate",b,e);this.padding=a.getLayoutValue("icon-padding",b,e);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,e);this.offset=a.getLayoutValue("icon-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.IconLayout=k;k=function(){return function(a,b,c,e){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,e);this.optional=a.getLayoutValue("text-optional",
b,e);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,e);this.fontArray=a.getLayoutValue("text-font",b,e);this.maxWidth=a.getLayoutValue("text-max-width",b,e);this.lineHeight=a.getLayoutValue("text-line-height",b,e);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,e);this.justify=a.getLayoutValue("text-justify",b,e);this.anchor=a.getLayoutValue("text-anchor",b,e);this.maxAngle=a.getLayoutValue("text-max-angle",b,e);this.size=a.getLayoutValue("text-size",b,e);this.rotate=
a.getLayoutValue("text-rotate",b,e);this.padding=a.getLayoutValue("text-padding",b,e);this.keepUpright=a.getLayoutValue("text-keep-upright",b,e);this.transform=a.getLayoutValue("text-transform",b,e);this.offset=a.getLayoutValue("text-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.TextLayout=k})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(k,a){return function(){function a(h,l,g){this._op=h;"$type"===l?(this._val=g instanceof
Array?g.map(function(f){return a._types.indexOf(f)}):a._types.indexOf(g),this._op+=11):(this._key=l,this._val=g)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);
case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var h=0,g=this._val;h<g.length;h++){var f=g[h];if(f.filter(a))return!0}return!1;case 10:h=0;for(g=this._val;h<g.length;h++)if(f=g[h],!f.filter(a))return!1;return!0;case 11:h=0;for(g=this._val;h<g.length;h++)if(f=g[h],f.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=
this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return void 0!==a.values[this._key];case 21:return void 0===a.values[this._key]}};a.createFilter=function(h){if(!h)return new a(0,void 0,!0);var l=h[0];if(1>=h.length)return new a(0,void 0,"any"!==l);switch(l){case "\x3d\x3d":return new a(1,h[1],h[2]);case "!\x3d":return new a(2,h[1],h[2]);case "\x3e":return new a(4,h[1],h[2]);case "\x3c":return new a(3,h[1],h[2]);case "\x3e\x3d":return new a(6,
h[1],h[2]);case "\x3c\x3d":return new a(5,h[1],h[2]);case "in":return new a(7,h[1],h.slice(2));case "!in":return new a(8,h[1],h.slice(2));case "any":return new a(9,void 0,h.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,h.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,h.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,h[1],void 0);case "!has":return new a(21,h[1],void 0);default:throw Error("invalid operator: "+l);}};a._types=
["Unknown","Point","LineString","Polygon"];return a}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},
"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",
default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},
"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,
default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},
"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],
default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return a}();a.StyleDefinition=k})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(k,a,h,m){return function(){function a(g,f){this.isDataDriven=!1;var e;switch(g.type){case "number":e=!0;break;case "color":e=
!0;f=a._parseColor(f);break;case "array":e="number"===g.value;break;default:e=!1}null==f&&(f=g.default);e&&"interval"===f.type&&(e=!1);var d=f&&f.stops&&0<f.stops.length;if(d)for(var b=0,c=f.stops;b<c.length;b++){var h=c[b];h[1]=this._validate(h[1],g)}if(this.isDataDriven=f?!!f.property:!1)if(void 0!==f.default&&(f.default=this._validate(f.default,g)),d)switch(f.type){case "identity":this.getValue=this._buildIdentity(f,g);break;case "categorical":this.getValue=this._buildCategorical(f,g);break;default:this.getValue=
e?this._buildInterpolate(f,g):this._buildInterval(f,g)}else this.getValue=this._buildIdentity(f,g);else d?this.getValue=e?this._buildZoomInterpolate(f):this._buildZoomInterval(f):(f=this._validate(f,g),this.getValue=this._buildSimple(f))}a.prototype._validate=function(a,f){if("number"===f.type){if(a<f.minimum)return f.minimum;if(a>f.maximum)return f.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(g,f){var e=this;return function(d,
b){var c;b&&(c=b.values[g.property],"color"===f.type&&(c=a._parseColor(c)));void 0===c&&(c=g.default);return void 0!==c?e._validate(c,f):f.default}};a.prototype._buildCategorical=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);c=e._categorical(c,a.stops);return void 0!==c?c:void 0!==a.default?a.default:f.default}};a.prototype._buildInterval=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);return"number"===typeof c?e._interval(c,a.stops):
void 0!==a.default?a.default:f.default}};a.prototype._buildInterpolate=function(a,f){var e=this;return function(d,b){var c;b&&(c=b.values[a.property]);return"number"===typeof c?e._interpolate(c,a.stops,a.base||1):void 0!==a.default?a.default:f.default}};a.prototype._buildZoomInterpolate=function(a){var f=this;return function(e){return f._interpolate(e,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var f=this;return function(e){return f._interval(e,a.stops)}};a.prototype._categorical=
function(a,f){for(var e=f.length,d=0;d<e;d++)if(f[d][0]===a)return f[d][1]};a.prototype._interval=function(a,f){for(var e=f.length,d=0,b=0;b<e;b++)if(f[b][0]<=a)d=b;else break;return f[d][1]};a.prototype._interpolate=function(a,f,e){for(var d,b,c=f.length,g=0;g<c;g++){var h=f[g];if(h[0]<=a)d=h;else{b=h;break}}if(d&&b){g=b[0]-d[0];a-=d[0];e=1===e?a/g:(Math.pow(e,a)-1)/(Math.pow(e,g)-1);if(Array.isArray(d[1])){d=d[1];b=b[1];a=[];for(g=0;g<d.length;g++)a.push(m.interpolate(d[g],b[g],e));return a}return m.interpolate(d[1],
b[1],e)}if(d)return d[1];if(b)return b[1]};a._isEmpty=function(a){for(var f in a)if(a.hasOwnProperty(f))return!1;return!0};a._parseColor=function(g){if(Array.isArray(g))return g;if("string"===typeof g){if(g=new h(g),!this._isEmpty(g))return h.toUnitRGBA(g)}else return g&&g.default&&(g.default=a._parseColor(g.default)),g&&g.stops&&(g.stops=g.stops.map(function(f){return[f[0],a._parseColor(f[1])]})),g};return a}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/accessorSupport/ensureType"],
function(k,a,h,m){function l(a){return h.clamp(m.ensureInteger(a),0,255)}function g(a,d,b){a=Number(a);return isNaN(a)?b:a<d?d:a>b?b:a}function f(a,d,b){0>b&&++b;1<b&&--b;var c=6*b;return 1>c?a+(d-a)*c:1>2*b?d:2>3*b?a+(d-a)*(2/3-b)*6:a}k=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(d,b,c,e){void 0===e&&(e=new a);e.r=Math.round(d.r+(b.r-d.r)*c);e.g=Math.round(d.g+(b.g-d.g)*c);e.b=Math.round(d.b+(b.b-d.b)*c);e.a=d.a+(b.a-d.a)*c;return e._sanitize()};
a.fromRgb=function(d,b){var c=d.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){d=c[2].split(/\s*,\s*/);c=c[1];if("rgb"===c&&3===d.length||"rgba"===c&&4===d.length)return c=d[0],"%"===c.charAt(c.length-1)?(c=d.map(function(a){return 2.56*parseFloat(a)}),4===d.length&&(c[3]=parseFloat(d[3])),a.fromArray(c,b)):a.fromArray(d.map(function(a){return parseFloat(a)}),b);if("hsl"===c&&3===d.length||"hsla"===c&&4===d.length){var c=(parseFloat(d[0])%360+360)%360/360,e=parseFloat(d[1])/100,g=
parseFloat(d[2])/100,e=.5>=g?g*(e+1):g+e-g*e,g=2*g-e,c=[256*f(g,e,c+1/3),256*f(g,e,c),256*f(g,e,c-1/3),1];4===d.length&&(c[3]=parseFloat(d[3]));return a.fromArray(c,b)}}return null};a.fromHex=function(d,b){void 0===b&&(b=new a);var c=4===d.length?4:8,e=(1<<c)-1,f=Number("0x"+d.substr(1));if(isNaN(f))return null;["b","g","r"].forEach(function(a){var d=f&e;f>>=c;b[a]=4===c?17*d:d});b.a=1;return b};a.fromArray=function(d,b){void 0===b&&(b=new a);b._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));
isNaN(b.a)&&(b.a=1);return b._sanitize()};a.fromString=function(d,b){var c=a.named[d];return c&&a.fromArray(c,b)||a.fromRgb(d,b)||a.fromHex(d,b)};a.toJSON=function(a){return a&&[l(a.r),l(a.g),l(a.b),1<a.a?a.a:l(255*a.a)]};a.fromJSON=function(d){return d&&new a([d[0],d[1],d[2],d[3]/255])};a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(d){"string"===typeof d?a.fromString(d,this):Array.isArray(d)?
a.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[l(this.r),l(this.g),l(this.b),1<this.a?this.a:l(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(g(this.r,0,255));this.g=Math.round(g(this.g,0,255));this.b=Math.round(g(this.b,0,255));this.a=g(this.a,0,1);return this};a.prototype._set=function(a,b,c,e){this.r=a;this.g=b;this.b=c;this.a=e};a.named={transparent:[0,
0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,
184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,
188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,
92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,
153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,
245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,
245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();k.prototype.declaredClass="esri.Color";return k})},"esri/core/mathUtils":function(){define(["require","exports"],function(k,a){function h(a,
f,e){return a<f?f:a>e?e:a}function m(a){l[0]=a;return l[0]}Object.defineProperty(a,"__esModule",{value:!0});var l=new Float32Array(1);a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var f=1;32>f;f<<=1)a|=a>>f;return a+1};a.clamp=h;a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};
a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.lerp=function(a,f,e){return a+(f-a)*e};a.deg2rad=function(a){return a*Math.PI/180};a.rad2deg=function(a){return 180*a/Math.PI};a.acosClamped=function(a){return Math.acos(h(a,-1,1))};a.asinClamped=function(a){return Math.asin(h(a,-1,1))};a.floatEqualRelative=function(g,f,e){void 0===e&&(e=1E-6);if(a.isNaN(g)||a.isNaN(f))return!1;if(g===f)return!0;var d=Math.abs(g-f),b=Math.abs(g),c=Math.abs(f);
if(0===g||0===f||1E-12>b&&1E-12>c){if(d>.01*e)return!1}else if(d/(b+c)>e)return!1;return!0};a.floatEqualAbsolute=function(g,f,e){void 0===e&&(e=1E-6);return a.isNaN(g)||a.isNaN(f)?!1:(g>f?g-f:f-g)<=e};a.clampFloat32=function(g){return m(Math.max(-a.NUMBER_MAX_FLOAT32,Math.min(g,a.NUMBER_MAX_FLOAT32)))};a.NUMBER_MAX_FLOAT32=m(3.4028234663852886E38)})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});a.WEBGL_MAX_STOPS=
8;a.WEBGL_MAX_INNER_STOPS=a.WEBGL_MAX_STOPS-2;a.NAN_MAGIC_NUMBER=1E-30;a.EXTRUDE_SCALE=64;a.PICTURE_FILL_COLOR=4294967295;a.TILE_SIZE=512;a.RASTER_TILE_SIZE=256;a.ANGLE_FACTOR_256=256/360;a.DEBUG_LABELS=!1;a.COLLISION_BUCKET_SIZE=128;a.DOT_DENSITY_MAX_FIELDS=8;a.COLLISION_MAX_ZOOM_DELTA=3;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_BOX_PADDING=16;a.COLLISION_TILE_BOX_SIZE=a.TILE_SIZE/a.COLLISION_BUCKET_SIZE;a.COLLISION_PLACEMENT_PADDING=8;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HEURISTIC_GLYPHS_PER_FEATURE=
10;a.GLYPH_SIZE=24;a.TEXT_LINE_HEIGHT=1.2*a.GLYPH_SIZE;a.TEXT_MAX_WIDTH=10*a.GLYPH_SIZE;a.TEXT_SPACING=0;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_HIGHLIGHT_0=5;a.TEXTURE_BINDING_HIGHLIGHT_1=
6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=6;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_VV=2;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=3;a.MAX_FILTERS=2;a.HIGHLIGHT_FLAG=1;a.FILTER_FLAG_0=2;a.EFFECT_FLAG_0=4;a.THIN_LINE_THRESHOLD=2.5;a.HITTEST_SEARCH_SIZE=24;a.MAX_ANIMATION_TIME_MS=2E3;a.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;a.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;a.VTL_HIGH_RES_CUTOFF=1.15;a.MAX_GPU_UPLOADS_PER_FRAME=2})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require",
"exports","../../../../symbols/cim/enums","./mesh/templates/util"],function(k,a,h,m){function l(){if(q.cosine<n.innerBisectorAutoSplitThreshold){q.splitInner=!0;q.gapInner=!0;var a=Math.max(n.innerBisectorAutoSplitThreshold,q.cosine),a=Math.sqrt(1-a*a)/a;q.leftInner.x=q.nextNormal.x+q.sign*a*q.outbound.x;q.leftInner.y=q.nextNormal.y+q.sign*a*q.outbound.y;q.rightInner.x=q.prevNormal.x-q.sign*a*q.inbound.x;q.rightInner.y=q.prevNormal.y-q.sign*a*q.inbound.y}else n.enableInnerBisectorSplit&&(q.splitInner=
!0,q.gapInner=!1,q.leftInner.x=q.rightInner.x=q.bisector.x/q.cosine,q.leftInner.y=q.rightInner.y=q.bisector.y/q.cosine);q.cosine<n.outerBisectorAutoSplitThreshold?(q.splitOuter=!0,q.gapOuter=!0,a=Math.max(n.outerBisectorAutoSplitThreshold,q.cosine),a=Math.sqrt(1-a*a)/a,q.leftOuter.x=q.prevNormal.x-q.sign*a*q.inbound.x,q.leftOuter.y=q.prevNormal.y-q.sign*a*q.inbound.y,q.rightOuter.x=q.nextNormal.x+q.sign*a*q.outbound.x,q.rightOuter.y=q.nextNormal.y+q.sign*a*q.outbound.y):n.enableOuterBisectorSplit&&
(q.splitOuter=!0,q.gapOuter=!1,q.leftOuter.x=q.rightOuter.x=q.bisector.x/q.cosine,q.leftOuter.y=q.rightOuter.y=q.bisector.y/q.cosine)}function g(){if(B)q.distance=0,B=q.isCap=q.isFirstVertex=q.isLastVertex=!1;else{if(0===w)if(q.isFirstVertex=0===v,A=c[v],0===v){if(w=0,q.closed){q.inbound.x=A.x-c[c.length-2].x;q.inbound.y=A.y-c[c.length-2].y;var a=Math.sqrt(q.inbound.x*q.inbound.x+q.inbound.y*q.inbound.y);q.inbound.x/=a;q.inbound.y/=a}}else q.inbound.x=A.x-C.x,q.inbound.y=A.y-C.y,w=Math.sqrt(q.inbound.x*
q.inbound.x+q.inbound.y*q.inbound.y),q.inbound.x/=w,q.inbound.y/=w;q.distance+w-t<=n.wrapDistance?(v<c.length-1?(q.outbound.x=c[v+1].x-A.x,q.outbound.y=c[v+1].y-A.y,a=Math.sqrt(q.outbound.x*q.outbound.x+q.outbound.y*q.outbound.y),q.outbound.x/=a,q.outbound.y/=a):q.closed?(q.outbound.x=c[1].x-A.x,q.outbound.y=c[1].y-A.y,a=Math.sqrt(q.outbound.x*q.outbound.x+q.outbound.y*q.outbound.y),q.outbound.x/=a,q.outbound.y/=a):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y),0!==v||q.closed||(q.inbound.x=
q.outbound.x,q.inbound.y=q.outbound.y),++v,q.isLastVertex=v===c.length,q.isCap=!q.closed&&(q.isFirstVertex||q.isLastVertex),q.distance+=w-t,t=w=0,B=q.distance+w-t===n.wrapDistance,q.currentVertex.x=A.x,q.currentVertex.y=A.y,C=A,A=null):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y,t+=n.wrapDistance-q.distance,q.distance=n.wrapDistance,B=!0,a=t/w,q.currentVertex.x=(1-a)*C.x+a*A.x,q.currentVertex.y=(1-a)*C.y+a*A.y)}}function f(){q.prevNormal.x=-q.inbound.y;q.prevNormal.y=q.inbound.x;q.nextNormal.x=
-q.outbound.y;q.nextNormal.y=q.outbound.x}function e(){f();q.bisector.x=q.prevNormal.x+q.nextNormal.x;q.bisector.y=q.prevNormal.y+q.nextNormal.y;var a=Math.sqrt(q.bisector.x*q.bisector.x+q.bisector.y*q.bisector.y);.001>a?(q.bisector.x=void 0,q.bisector.y=void 0,q.cosine=0,q.sign=void 0):(q.bisector.x/=a,q.bisector.y/=a,q.cosine=q.bisector.x*q.nextNormal.x+q.bisector.y*q.nextNormal.y,q.sign=0<=q.prevNormal.x*q.nextNormal.y-q.prevNormal.y*q.nextNormal.x?1:-1)}function d(a){u.vertex(q);1===a?(q.leftEntry0=
q.entry0,q.leftEntry1=q.entry1,q.leftEntry2=q.entry2,q.leftExit0=q.exit0,q.leftExit1=q.exit1,q.leftExit2=q.exit2):2===a&&(q.rightEntry0=q.entry0,q.rightEntry1=q.entry1,q.rightEntry2=q.entry2,q.rightExit0=q.exit0,q.rightExit1=q.exit1,q.rightExit2=q.exit2)}function b(a){u.vertex(q);1===a?(q.leftEntry0=q.entry0,q.leftEntry2=q.entry2,q.leftExit0=q.exit0,q.leftExit2=q.exit2):2===a&&(q.rightEntry0=q.entry0,q.rightEntry2=q.entry2,q.rightExit0=q.exit0,q.rightExit2=q.exit2)}Object.defineProperty(a,"__esModule",
{value:!0});k=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();a.TessellationState=k;a.tessellate=
function(a,h,l){n.trackDistance=null!=h.trackDistance?h.trackDistance:!1;n.wrapDistance=null!=h.wrapDistance?h.wrapDistance:65535;n.thin=null!=h.thin?h.thin:!1;n.initialDistance=null!=h.initialDistance?h.initialDistance:0;n.enableOuterBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:!1;n.outerBisectorAutoSplitThreshold=null!=h.outerBisectorAutoSplitThreshold?h.outerBisectorAutoSplitThreshold:0;n.enableInnerBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:
!1;n.innerBisectorAutoSplitThreshold=null!=h.innerBisectorAutoSplitThreshold?h.innerBisectorAutoSplitThreshold:0;c=a;u=l;t=w=v=0;B=!1;A=C=null;q.currentVertex.x=null;q.currentVertex.y=null;q.distance=n.initialDistance;a=c[0];h=c[c.length-1];q.canSplit=!1;q.closed=a.x===h.x&&a.y===h.y;if(!(2>c.length||2===c.length&&q.closed))if(n.thin)if(n.trackDistance)for(g(),f(),b(1);w-t>n.wrapDistance||v<c.length;)g(),f(),b(2),u.bridge(q),q.leftExit0=q.rightExit0,q.leftExit2=q.rightExit2;else for(;v<c.length;)0<
v&&(q.inbound.x=q.outbound.x,q.inbound.y=q.outbound.y),v<c.length-1?(q.outbound.x=c[v+1].x-c[v].x,q.outbound.y=c[v+1].y-c[v].y,a=Math.sqrt(q.outbound.x*q.outbound.x+q.outbound.y*q.outbound.y),q.distance+=a,q.outbound.x/=a,q.outbound.y/=a):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y),0===v&&(q.inbound.x=q.outbound.x,q.inbound.y=q.outbound.y),q.currentVertex.x=c[v].x,q.currentVertex.y=c[v].y,q.prevNormal.x=-q.inbound.y,q.prevNormal.y=q.inbound.x,q.nextNormal.x=-q.outbound.y,q.nextNormal.y=q.outbound.x,
0===v?(u.vertex(q),q.leftEntry0=q.entry0,q.leftEntry2=q.entry2,q.leftExit0=q.exit0,q.leftExit2=q.exit2):(u.vertex(q),q.rightEntry0=q.entry0,q.rightEntry2=q.entry2,q.rightExit0=q.exit0,q.rightExit2=q.exit2,u.bridge(q),q.leftExit0=q.rightExit0,q.leftExit2=q.rightExit2),++v;else{if(n.enableOuterBisectorSplit||0<n.outerBisectorAutoSplitThreshold||n.enableInnerBisectorSplit||0<n.innerBisectorAutoSplitThreshold)for(q.canSplit=!0,g(),e(),q.splitInner=q.gapInner=q.splitOuter=q.gapOuter=!1,d(1),q.closure0=
q.leftEntry0,q.closure1=q.leftEntry1,q.closure2=q.leftEntry2;w-t>n.wrapDistance||v<c.length-1||v<c.length&&(!q.closed||n.trackDistance);)g(),e(),q.splitInner=q.gapInner=q.splitOuter=q.gapOuter=!1,d(2),u.bridge(q),q.leftExit0=q.rightExit0,q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2;else for(g(),e(),d(1),q.closure0=q.leftEntry0,q.closure1=q.leftEntry1,q.closure2=q.leftEntry2;w-t>n.wrapDistance||v<c.length-1||v<c.length&&(!q.closed||n.trackDistance);)g(),e(),d(2),u.bridge(q),q.leftExit0=q.rightExit0,
q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2;q.closed&&!n.trackDistance&&(q.rightEntry0=q.closure0,q.rightEntry1=q.closure1,q.rightEntry2=q.closure2,u.bridge(q),q.leftExit0=q.rightExit0,q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2)}};a.cleanup=function(){u=c=null};a.splitVertex=l;var c,n={},u,v=void 0,w,t,B,C,A,q=new k;k=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=h.CapType.BUTT;this.joinType=h.JoinType.MITER;this.miterLimitCosine=m.getLimitCosine(2);
this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}a.prototype.vertex=function(a){var b=this.joinType===h.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,d=a.isCap&&this.capType!==h.CapType.BUTT,c=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(c=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(l(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/
a.cosine,0,-1,a.distance),a.cosine<b?(c=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(c=c||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,
a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(c=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(c=c||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=
this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(c=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(c=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||c||d?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(c&&this.joinType!==
h.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(d&&this.capType===h.CapType.ROUND||c&&this.joinType===h.JoinType.ROUND){var e=c=d=void 0,f=void 0,g=void 0,k=void 0;if(a.isCap){var n=Math.PI,g=Math.ceil(n/this.radsPerSlice),k=n/g;a.isFirstVertex?(d=a.prevNormal.x,c=a.prevNormal.y,e=a.entry0,f=a.entry2):a.isLastVertex&&(d=-a.nextNormal.x,c=-a.nextNormal.y,e=a.exit2,f=a.exit0)}else n=2*Math.acos(a.cosine),g=Math.ceil(n/this.radsPerSlice),k=n/g,d=0<a.sign?
-a.prevNormal.x:a.nextNormal.x,c=0<a.sign?-a.prevNormal.y:a.nextNormal.y,e=0<a.sign?a.entry2:a.exit0,f=0<a.sign?a.exit2:a.entry0;for(var n=Math.cos(k),k=Math.sin(k),m=k*d+n*c,d=n*d-k*c,c=m,t,m=void 0,q=0;q<g;++q)t=m,q<g-1&&(m=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,d,c,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,d,c,0,a.sign,a.distance)),this.writeTriangle(0===q?e:t,b,q===g-1?f:m),t=k*d+n*c,d=n*d-k*c,c=t}else d&&this.capType===
h.CapType.SQUARE&&(d=a.isFirstVertex?1:-1,e=c=void 0,this.textured?(c=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-d*a.inbound.x,a.prevNormal.y-d*a.inbound.y,-d,-1,a.distance),e=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-d*a.inbound.x,-a.prevNormal.y-d*a.inbound.y,-d,1,a.distance)):(c=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-d*a.inbound.x,a.prevNormal.y-d*a.inbound.y,0,-1,a.distance),e=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,-a.prevNormal.x-d*a.inbound.x,-a.prevNormal.y-d*a.inbound.y,0,1,a.distance)),0<d?(this.writeTriangle(b,a.entry2,e),this.writeTriangle(b,e,c),this.writeTriangle(b,c,a.entry0)):(this.writeTriangle(b,e,a.exit2),this.writeTriangle(b,c,e),this.writeTriangle(b,a.exit0,c)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?
a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();a.StandardTessellationCallbacks=k;k=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,
a.rightEntry2,a.leftExit2)};return a}();a.ThinTessellationCallbacks=k})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(k,a){function h(a,h){return Math.sqrt(a*a+h*h)}Object.defineProperty(a,"__esModule",{value:!0});a.sub=function(a,h,g){a[0]=h[0]-g[0];a[1]=h[1]-g[1];return a};a.len=h;a.normalize=function(a){var k=h(a[0],a[1]);a[0]/=k;a[1]/=k};a.dist=function(a,k){return h(a[0]-k[0],a[1]-k[1])};a.isFunction=function(a){return"function"===typeof a};
a.getLimitCosine=function(a){return 1/Math.max(a,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict","./GeometryUtils","../webgl/Geometry"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});k=function(){return function(a,c,e,f,g){void 0===e&&(e=0);void 0===f&&(f=-1);void 0===g&&(g=d);this.x=a;this.y=c;this.angle=e;this.segment=f;this.minzoom=g}}();a.Anchor=k;var g=function(){return function(a,c,e,f,g,h,k){void 0===g&&(g=!1);void 0===
h&&(h=d);void 0===k&&(k=m.C_INFINITY);this.anchor=a;this.labelAngle=c;this.glyphAngle=e;this.page=f;this.upsideDown=g;this.minzoom=h;this.maxzoom=k}}(),f=function(){return function(a,d,e,f,g,h,k,l,m,A){this.tl=a;this.tr=d;this.bl=e;this.br=f;this.mosaicRect=g;this.labelAngle=h;this.anchor=k;this.minzoom=l;this.maxzoom=m;this.page=A}}();a.PlacedSymbol=f;var e=function(){return function(a,d){this.footprint=a;this.shapes=d}}();a.Placement=e;var d=.5;k=function(){function a(){this.mapAngle=0;this._conflictEngine=
new h.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a};a.prototype.getIconPlacement=function(a,b,g,k,w){var c=g.width/g.pixelRatio,n=g.height/g.pixelRatio,u=w.offset[0]-c/2,v=w.offset[1]-n/2,c=u+c,n=v+n,q=g.rect,D=2/g.pixelRatio,y=u-D,z=v-D,E=y+q.width/g.pixelRatio,I=z+q.height/g.pixelRatio;g=new l.Point(y,z);D=new l.Point(E,I);y=new l.Point(y,I);z=new l.Point(E,z);E=w.rotate*m.C_DEG_TO_RAD;I=1===w.rotationAlignment;0<=a.segment&&
!I&&(E+=a.angle);if(0!==E){var J=Math.cos(E),L=Math.sin(E);g.rotate(J,L);D.rotate(J,L);y.rotate(J,L);z.rotate(J,L)}J=8*w.padding;L=new l.Point(a.x,a.y);a=new h.Footprint(this.mapAngle,J,I);a.addBox(L,new h.Box(u,v,c,n),k,E,b,d,m.C_INFINITY);b=new f(g,z,y,D,q,0,L,d,m.C_INFINITY,0);b=new e(a,[b]);k=d;w.allowOverlap||(k=this._conflictEngine.getMinZoom(b.footprint,k));a.minzoom=k;return b};a.prototype.getTextPlacement=function(a,b,k,v,w,t,B){for(var c=new l.Point(a.x,a.y),n=B.rotate*m.C_DEG_TO_RAD,q=
0===B.rotationAlignment,u=B.keepUpright,y=d,z=!q,E=z?0:a.angle,I=0<=a.segment&&q,z=new h.Footprint(this.mapAngle,8*B.padding,z),J=[],L=!I,F=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,K=F,G=H,R=I?u:q&&u,P,Q=0;Q<v.length;Q++){var M=v[Q],S=M.glyphMosaicItem;if(S&&!S.rect.isEmpty){var T=S.rect,Z=S.metrics,X=S.page;L&&(P&&P!==M.y&&(z.addBox(c,new h.Box(F,K,H,G),w,n,b,d,m.C_INFINITY),F=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,K=F,G=H),P=M.y);var ea=[];if(I){if(S=(k.x+M.x+Z.left-4+.5*
S.metrics.width)*w,y=this._placeGlyph(a,y,S,t,a.segment,1,X,ea),u&&(y=this._placeGlyph(a,y,S,t,a.segment,-1,X,ea)),2<=y)break}else ea.push(new g(c,E,E,X)),q&&u&&ea.push(new g(c,E+m.C_PI,E+m.C_PI,X,!0));for(var X=M.x+k.x+Z.left,M=M.y+k.y-Z.top,S=X+Z.width,Z=M+Z.height,ha=new l.Point(X-4,M-4),aa=new l.Point(ha.x+T.width,ha.y+T.height),ca=new l.Point(ha.x,aa.y),ia=new l.Point(aa.x,ha.y),U=0;U<ea.length;U++){var V=ea[U],W=ha.clone(),ka=ca.clone(),ja=ia.clone(),na=aa.clone(),oa=M,ba=Z,la=V.glyphAngle+
n;if(0!==la){var fa=Math.cos(la),ga=Math.sin(la);W.rotate(fa,ga);na.rotate(fa,ga);ka.rotate(fa,ga);ja.rotate(fa,ga)}J.push(new f(W,ja,ka,na,T,V.labelAngle,V.anchor,V.minzoom,V.maxzoom,V.page));if(!R||this._legible(V.labelAngle))L?(X<F&&(F=X),oa<K&&(K=oa),S>H&&(H=S),ba>G&&(G=ba)):2>V.minzoom&&z.addBox(V.anchor,new h.Box(X,oa,S,ba),w,la,b,V.minzoom,V.maxzoom)}}}if(2<=y)return null;L&&z.addBox(c,new h.Box(F,K,H,G),w,n,b,d,m.C_INFINITY);a=new e(z,J);B.allowOverlap||(y=this._conflictEngine.getMinZoom(a.footprint,
y));z.minzoom=y;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=m.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,d,e,f,h,k,C){var c=0>h?m.positiveMod(a.angle+m.C_PI,m.C_2PI):a.angle,n=this._legible(c),t=0;0>d&&(h*=-1,d*=-1,t=m.C_PI);0<h&&++f;a=new l.Point(a.x,a.y);var u=e[f],v=m.C_INFINITY;if(e.length<=f)return v;for(;;){var w=u.x-a.x,B=u.y-a.y,J=Math.sqrt(w*w+B*B),L=Math.max(d/J,b),w=m.positiveMod(Math.atan2(B/
J,w/J)+t,m.C_2PI);C.push(new g(a,c,w,k,n,L,v));if(L<=b)return L;a=u.clone();do{f+=h;if(e.length<=f||0>f)return L;u=e[f]}while(a.isEqual(u));v=u.x-a.x;w=u.y-a.y;B=Math.sqrt(v*v+w*w);v*=J/B;w*=J/B;a.x-=v;a.y-=w;v=L}};return a}();a.PlacementEngine=k})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(a,b,c,e){this.left=
a;this.top=b;this.right=c;this.bottom=e}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var d=this.left,e=this.right,f=this.top,g=this.bottom,h=d*a-f*b,k=d*b+f*a,l=e*a-f*b,f=e*b+f*a,m=d*a-g*b,d=d*b+g*a,A=e*a-g*b;a=e*b+g*a;this.left=Math.min(h,l,m,A);this.top=Math.min(k,f,d,a);this.right=Math.max(h,l,m,A);this.bottom=Math.max(k,f,d,a)};a.overlaps=
function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();a.Box=k;var g=function(){function a(a,b,c,e){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=e}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=g;k=function(){function a(a,b,c){this.obstacles=[];this.mapAngle=
a;this.padding=b;this.isScreenAligned=c;this.minzoom=f}a.prototype.addBox=function(a,b,c,e,f,h,k){var d=b.left*c-this.padding,n=b.top*c-this.padding,m=b.right*c+this.padding;b=b.bottom*c+this.padding;d=[new l.Point(d,n),new l.Point(m,n),new l.Point(m,b),new l.Point(d,b)];0!==this.mapAngle&&(n=Math.cos(this.mapAngle),m=Math.sin(this.mapAngle),a=a.clone(),a.rotate(n,m));this.isScreenAligned||(e+=this.mapAngle);if(0!==e){n=Math.cos(e);m=Math.sin(e);d[0].rotate(n,m);d[1].rotate(n,m);d[2].rotate(n,m);
d[3].rotate(n,m);e=0;for(n=1;4>n;n++)d[n].x<d[e].x?e=n:d[n].x===d[e].x&&d[n].y<d[e].y&&(e=n);if(e){m=[];for(n=0;4>n;n++)m.push(d[(n+e)%4]);d=m}}if(f)for(e=0,n=d;e<n.length;e++)n[e].move(f[0],f[1]);this.obstacles.push(new g(a,d,h,k))};return a}();a.Footprint=k;var f=.5;k=function(){function a(){this._grid=[]}a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(d){var b=this._grid,c=0;for(d=d.obstacles;c<d.length;c++)for(var e=d[c],f=e.anchor,g=a._gridClamp(Math.min(e.left()+f.x,f.x)),
h=a._gridClamp(Math.max(e.right()+f.x,f.x)),k=a._gridClamp(Math.min(e.top()+f.y,f.y)),f=a._gridClamp(Math.max(e.bottom()+f.y,f.y));k<=f;k++)for(var l=g;l<=h;l++){var m=b[16*k+l];m||(m=b[16*k+l]=[]);m.push(e)}};a.prototype.getMinZoom=function(d,b){if(0===d.obstacles.length)return m.C_INFINITY;var c=this._grid,e=0;for(d=d.obstacles;e<d.length;e++)for(var f=d[e],g=f.anchor,h=a._gridClamp(Math.min(f.left()+g.x,g.x)),k=a._gridClamp(Math.max(f.right()+g.x,g.x)),l=a._gridClamp(Math.min(f.top()+g.y,g.y)),
g=a._gridClamp(Math.max(f.bottom()+g.y,g.y));l<=g;l++)for(var C=h;C<=k;C++){var A=c[16*l+C];if(A)for(var q=0;q<A.length;q++){var D=A[q];if(!(f.minzoom>=D.maxzoom||D.minzoom>=f.maxzoom)&&(b=a._calcPlacementZoom(f,D,b),2<=b))return m.C_INFINITY}}return 2>b?b:m.C_INFINITY};a._gridClamp=function(a){return h.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(d,b,c){var e=b.anchor.x-d.anchor.x;if(0===e&&(d.right()<b.left()||b.right()<d.left()))return c;var f=b.anchor.y-d.anchor.y;if(0===f&&(d.bottom()<b.top()||
b.bottom()<d.top()))return c;var g=m.C_INFINITY;if(0!==e){var h=(0<e?d.right()-b.left():d.left()-b.right())/e;h<g&&(g=h);e=0<e?a._calcExtZoomX(d,b,h):a._calcExtZoomX(b,d,h);e<g&&(g=e)}0!==f&&(e=(0<f?d.bottom()-b.top():d.top()-b.bottom())/f,e<g&&(g=e),f=0<f?a._calcExtZoomY(d,b,e):a._calcExtZoomY(b,d,e),f<g&&(g=f));if(g<d.minzoom||g<b.minzoom)return c;g=Math.min(g,d.maxzoom,b.maxzoom);g<c&&(g=c);return g};a._calcExtZoomX=function(a,b,c){var d,e,f;if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/
c){d=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=d*e-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[0],d=a.corners[3],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[1],d=a.corners[3],e=a.corners[2],f=-1)}else d=a.corners[2].x-a.corners[1].x,
f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,0>d*e-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[0],d=a.corners[1],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[3],d=a.corners[1],e=a.corners[2],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*
e-(a.anchor.y-b.anchor.y)*g)};a._calcExtZoomY=function(a,b,c){var d,e,f;if(a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[1].x/c){d=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;0>d*e-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/c?(c=a.corners[2],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[1],d=a.corners[2],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],
d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[0],d=a.corners[2],e=a.corners[3],f=-1)}else d=a.corners[3].x-a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<d*e-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+b.corners[1].x/c?(c=a.corners[0],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[1],d=a.corners[0],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[2],
d=a.corners[0],e=a.corners[3],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};return a}();a.ConflictEngine=k})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/string/BidiEngine ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer ../webgl/Geometry ../webgl/TextShaping".split(" "),function(k,a,h,m,l,g,f,e,d,b){function c(a,b){return a.iconMosaicItem&&
b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(a){function k(b,d,c,e,f,g,h,k){d=a.call(this,b,d)||this;d._markerMap=new Map;d._glyphMap=new Map;d._glyphBufferDataStorage=new Map;d._sdfMarkers=!1;if(b.hasDataDrivenIcon!==c.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");
d._iconVertexBuffer=c;d._iconIndexBuffer=e;d._textVertexBuffer=f;d._textIndexBuffer=g;d._placementEngine=h;d._workerTileHandler=k;return d}h(k,a);Object.defineProperty(k.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});
k.prototype.copy=function(a,b,d,c,e){a=new k(this.layer,this.zoom,a,b,d,c,e,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=c.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;
return a};k.prototype.getResources=function(a,b,d){var c=this.layer,e=this.zoom,f=c.hasDataDrivenIcon,g=c.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var h=c.getLayoutProperty("icon-image"),l=c.getLayoutProperty("text-field"),n=c.getLayoutValue("text-font",e),m=c.getLayoutValue("text-transform",e),t=[],u=[1,1,1,1],w=1,v=1,H=[1,1,1,1],K=1,G=1,R=0,P=this._features;R<P.length;R++){var Q=P[R],M=Q.getGeometry(a);if(M&&0!==M.length){var S=void 0;h&&(S=c.getLayoutValue("icon-image",e,Q),h.isDataDriven||
(S=this._replaceKeys(S,Q.values)),S&&b.add(S));var T=void 0,Z=!1;if(l&&(T=c.getLayoutValue("text-field",e,Q),l.isDataDriven||(T=this._replaceKeys(T,Q.values)),T=T.replace(/\\n/g,"\n"))){switch(m){case 2:T=T.toLowerCase();break;case 1:T=T.toUpperCase()}k._bidiEngine.hasBidiChar(T)&&(Z=void 0,Z="rtl"===k._bidiEngine.checkContextual(T)?"IDNNN":"ICNNN",T=k._bidiEngine.bidiTransform(T,Z,"VLYSN"),Z=!0);var X=T.length;if(0<X)for(var ea=0,ha=n;ea<ha.length;ea++){var aa=ha[ea],ca=d[aa];ca||(ca=d[aa]=new Set);
for(aa=0;aa<X;aa++){var ia=T.charCodeAt(aa);ca.add(ia)}}}if(S||T)X=c.getLayoutValue("icon-size",e,Q),ea=c.getLayoutValue("text-size",e,Q),c.hasDataDrivenIconColor&&(u=c.getPaintValue("icon-color",e,Q)),c.hasDataDrivenIconOpacity&&(w=c.getPaintValue("icon-opacity",e,Q)),c.hasDataDrivenIconSize&&(v=X),c.hasDataDrivenTextColor&&(H=c.getPaintValue("text-color",e,Q)),c.hasDataDrivenTextOpacity&&(K=c.getPaintValue("text-opacity",e,Q)),c.hasDataDrivenTextSize&&(G=ea),Q={sprite:S,label:T,rtl:Z,type:Q.type,
geometry:M,iconSize:X,iconRotate:c.getLayoutValue("icon-rotate",e,Q),ddIconValues:f?{color:u,opacity:w,size:v}:null,textSize:ea,textRotate:c.getLayoutValue("text-rotate",e,Q),ddTextValues:g?{color:H,opacity:K,size:G}:null},t.push(Q)}}this._symbolFeatures=t};k.prototype.processFeatures=function(a){a&&a.setExtent(this.layerExtent);var d=this.layer,h=this.zoom;a=this._isLinePlacement=1===d.getLayoutValue("symbol-placement",h);var l=8*d.getLayoutValue("symbol-spacing",h),n=d.getLayoutProperty("icon-image"),
m=d.getLayoutProperty("text-field"),q=this._workerTileHandler,u,v;n&&(this._iconLayout=new e.IconLayout(d,h,a),u=q.getSpriteItems(),v=this._getTranslate(!0));var z,E,I;if(m){z=this._textLayout=new e.TextLayout(d,h,a);this._fontArray=z.fontArray;I=.5;switch(z.anchor){case 5:case 1:case 7:I=0;break;case 6:case 2:case 8:I=1}E=.5;switch(z.anchor){case 5:case 3:case 6:E=0;break;case 7:case 4:case 8:E=1}d=.5;switch(z.justify){case 0:d=0;break;case 2:d=1}var h=24*z.letterSpacing,n=a?0:24*z.maxWidth,m=24*
z.lineHeight,J=[24*z.offset[0],24*z.offset[1]];z=this._fontArray.map(function(a){return q.getGlyphItems(a)});E=new b.TextShaping(z,n,m,h,J,I,E,d);I=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=d=[];h=this._textLayout;n=1;h&&h.size&&(n=h.size/24);m=h?h.maxAngle*g.C_DEG_TO_RAD:0;z=h?8*h.size:0;for(var J=0,L=this._symbolFeatures;J<
L.length;J++){var F=L[J],H=void 0;F.sprite&&(H=u[F.sprite])&&H.sdf&&(this._sdfMarkers=!0);var K=void 0,G=F.label,R=0;if(G&&(K=E.getShaping(G,F.rtl))&&0<K.length){for(var R=1E30,G=-1E30,P=0,Q=K;P<Q.length;P++)var M=Q[P],R=Math.min(R,M.x),G=Math.max(G,M.x);R=(G-R+48)*n*8}G=0;for(P=F.geometry;G<P.length;G++){var Q=P[G],S=void 0;a?(K&&0<K.length&&h&&h.size&&k._smoothVertices(Q,8*h.size*(2+Math.min(2,4*Math.abs(h.offset[1])))),S=k._findAnchors(Q,l,R)):S=3===F.type?k._findCentroid(Q):[new f.Anchor(Q[0].x,
Q[0].y)];for(M=0;M<S.length;M++){var T=S[M];0>T.x||4096<T.x||0>T.y||4096<T.y||a&&0<R&&0===h.rotationAlignment&&!k._honorsTextMaxAngle(Q,T,R,m,z)||d.push({shaping:K,line:Q,iconMosaicItem:H,anchor:T,iconSize:F.iconSize,iconRotate:F.iconRotate,ddIconValues:F.ddIconValues,textSize:F.textSize,textRotate:F.textRotate,ddTextValues:F.ddTextValues})}}}d.sort(c);for(u=0;u<d.length;u++)this._processFeature(d[u],v,I);this._addPlacedGlyphs()};k.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;
this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this.layer,b;a.getLayoutProperty("icon-image")&&(b=this._getTranslate(!0));var d;a.getLayoutProperty("text-field")&&(d=this._getTranslate(!1));for(var a=0,c=this._symbolInstances;a<c.length;a++)this._processFeature(c[a],b,d);this._addPlacedGlyphs()};k.prototype.assignBufferInfo=function(){};k.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?
"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var d=this._placementEngine.mapAngle;return 0!==d&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(d),d=Math.cos(d),[8*(b[0]*d-b[1]*a),8*(b[0]*a+b[1]*d)]):[8*b[0],8*b[1]]}};k.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,d){return d in b?b[d]:""})};k.prototype._processFeature=function(a,b,c){var e=a.line,f=a.iconMosaicItem,h=a.shaping,k=a.anchor,
l=this._iconLayout,n=l&&!!f,m=!0,t=1;n&&(l.size=a.iconSize,l.rotate=a.iconRotate,t=8*l.size,m=l.optional||!f);var u=this._textLayout,w=u&&h&&0<h.length,v;v=1;var F=!0;w&&(u.size=a.textSize,u.rotate=a.textRotate,v=u.size/24,v*=8,F=u.optional||!h||0===h.length);var H=new d.Point(0,-17),K;n&&(K=this._placementEngine.getIconPlacement(k,b,f,t,l),k.minzoom>K.footprint.minzoom&&(K.footprint.minzoom=k.minzoom),K.footprint.minzoom===g.C_INFINITY&&(K=null));if(K||m){var G;w&&(G=this._placementEngine.getTextPlacement(k,
c,H,h,v,e,u))&&(k.minzoom>G.footprint.minzoom&&(G.footprint.minzoom=k.minzoom),G.footprint.minzoom===g.C_INFINITY&&(G=null));if(G||F)K&&G||(F||m?F||G?m||K||(G=null):K=null:G=K=null),K&&G&&!F&&!m&&(b=Math.max(K.footprint.minzoom,G.footprint.minzoom),K.footprint.minzoom=b,G.footprint.minzoom=b),G&&(u.ignorePlacement||this._placementEngine.add(G),this._storePlacedGlyphs(G.shapes,G.footprint.minzoom,this.zoom,a.ddTextValues)),K&&(l.ignorePlacement||this._placementEngine.add(K),this._addPlacedIcons(K.shapes,
K.footprint.minzoom,this.zoom,f.page,a.ddIconValues))}};k.prototype._addPlacedIcons=function(a,b,d,c,e){b=Math.max(d+g.log2(b),0);for(var f=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var l=a[k],n=Math.max(d+g.log2(l.minzoom),b),m=Math.min(d+g.log2(l.maxzoom),25);if(!(m<=n)){var t=l.tl,u=l.tr,w=l.bl,v=l.br,B=l.mosaicRect,C=l.labelAngle,l=l.anchor,G=f.index,R=B.x,P=B.y,Q=R+B.width,B=P+B.height;f.add(l.x,l.y,t.x,t.y,R,P,C,n,m,b,e);f.add(l.x,l.y,u.x,u.y,Q,P,C,n,m,b,e);f.add(l.x,
l.y,w.x,w.y,R,B,C,n,m,b,e);f.add(l.x,l.y,v.x,v.y,Q,B,C,n,m,b,e);h.add(G+0,G+1,G+2);h.add(G+1,G+2,G+3);this._markerMap.has(c)?this._markerMap.get(c)[1]+=6:this._markerMap.set(c,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};k.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,d=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(c,e){for(var f=0;f<c.length;f++){var g=c[f],h=b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],
g.xmin,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);d.add(h+0,h+1,h+2);d.add(h+1,h+2,h+3);a._glyphMap.has(e)?
a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};k.prototype._storePlacedGlyphs=function(a,b,d,c){b=Math.max(d+g.log2(b),0);for(var e=0;e<a.length;e++){var f=a[e],h=Math.max(d+g.log2(f.minzoom),b),k=Math.min(d+g.log2(f.maxzoom),25);if(!(k<=h)){var l=f.tl,n=f.tr,m=f.bl,t=f.br,u=f.labelAngle,w=f.anchor,v=f.mosaicRect;this._glyphBufferDataStorage.has(f.page)||this._glyphBufferDataStorage.set(f.page,[]);this._glyphBufferDataStorage.get(f.page).push({glyphAnchor:[w.x,
w.y],tl:[l.x,l.y],tr:[n.x,n.y],bl:[m.x,m.y],br:[t.x,t.y],xmin:v.x,ymin:v.y,xmax:v.x+v.width,ymax:v.y+v.height,labelAngle:u,minLod:h,maxLod:k,placementLod:b,ddValues:c})}}};k._findAnchors=function(a,b,c){b+=c;for(var e=0,h=a.length-1,k=0;k<h;k++)e+=d.Point.distance(a[k],a[k+1]);k=.5*(c||b);if(e<=k)return[];c=k/e;b=e/Math.max(Math.round(e/b),1);for(var e=0,h=-b/2,l=[],n=a.length-1,k=0;k<n;k++){for(var m=a[k],t=a[k+1],u=t.x-m.x,w=t.y-m.y,v=Math.sqrt(u*u+w*w),L=void 0;h+b<e+v;){var h=h+b,F=(h-e)/v,H=
g.interpolate(m.x,t.x,F),F=g.interpolate(m.y,t.y,F);void 0===L&&(L=Math.atan2(w,u));l.push(new f.Anchor(H,F,L,k,c))}e+=v}return l};k._deviation=function(a,b,d){return Math.atan2((b.x-a.x)*(d.y-b.y)-(b.y-a.y)*(d.x-b.x),(b.x-a.x)*(d.x-b.x)+(b.y-a.y)*(d.y-b.y))};k._honorsTextMaxAngle=function(a,b,c,e,f){var g=0;c/=2;for(var h=new d.Point(b.x,b.y),k=b.segment+1;g>-c;){--k;if(0>k)return!1;g-=d.Point.distance(a[k],h);h=a[k]}g+=d.Point.distance(a[k],a[k+1]);b=[];for(var h=0,l=a.length;g<c;){var n=a[k],m=
void 0;do{++k;if(k===l)return!1;m=a[k]}while(m.isEqual(n));var t=k,u=void 0;do{++t;if(t===l)return!1;u=a[t]}while(u.isEqual(m));n=this._deviation(n,m,u);b.push({deviation:n,distToAnchor:g});for(h+=n;g-b[0].distToAnchor>f;)h-=b.shift().deviation;if(Math.abs(h)>e)return!1;g+=d.Point.distance(m,u)}return!0};k._smoothVertices=function(a,b){if(!(0>=b)){var c=a.length;if(!(3>c)){var e=[],f=0;e.push(0);for(var g=1;g<c;g++)f+=d.Point.distance(a[g],a[g-1]),e.push(f);b=Math.min(b,.2*f);f=[];f.push(a[0].x);
f.push(a[0].y);var h=a[c-1].x,k=a[c-1].y,g=d.Point.sub(a[0],a[1]);g.normalize();a[0].x+=b*g.x;a[0].y+=b*g.y;g.assignSub(a[c-1],a[c-2]);g.normalize();a[c-1].x+=b*g.x;a[c-1].y+=b*g.y;for(g=1;g<c;g++)e[g]+=b;e[c-1]+=b;for(var l=.5*b,g=1;g<c-1;g++){for(var n=0,m=0,u=0,w=g-1;0<=w&&!(e[w+1]<e[g]-l);w--){var v=l+e[w+1]-e[g],F=e[w+1]-e[w],H=e[g]-e[w]<l?1:v/F;if(1E-6>Math.abs(H))break;var K=H*H,G=H*v-.5*K*F,R=H*F/b,P=a[w+1],Q=a[w].x-P.x,M=a[w].y-P.y,n=n+R/G*(P.x*H*v+.5*K*(v*Q-F*P.x)-K*H*F*Q/3),m=m+R/G*(P.y*
H*v+.5*K*(v*M-F*P.y)-K*H*F*M/3),u=u+R}for(w=g+1;w<c&&!(e[w-1]>e[g]+l);w++){v=l-e[w-1]+e[g];F=e[w]-e[w-1];H=e[w]-e[g]<l?1:v/F;if(1E-6>Math.abs(H))break;K=H*H;G=H*v-.5*K*F;R=H*F/b;P=a[w-1];Q=a[w].x-P.x;M=a[w].y-P.y;n+=R/G*(P.x*H*v+.5*K*(v*Q-F*P.x)-K*H*F*Q/3);m+=R/G*(P.y*H*v+.5*K*(v*M-F*P.y)-K*H*F*M/3);u+=R}f.push(n/u);f.push(m/u)}f.push(h);f.push(k);for(w=g=0;g<c;g++)a[g].x=f[w++],a[g].y=f[w++]}}};k._findCentroid=function(a){var b=a.length-1,d=0,c=0,e=0,g=a[0].x,h=a[0].y;4096<g&&(g=4096);0>g&&(g=0);
4096<h&&(h=4096);0>h&&(h=0);for(var k=1;k<b;k++){var l=a[k].x,n=a[k].y,m=a[k+1].x,u=a[k+1].y;4096<l&&(l=4096);0>l&&(l=0);4096<n&&(n=4096);0>n&&(n=0);4096<m&&(m=4096);0>m&&(m=0);4096<u&&(u=4096);0>u&&(u=0);var v=(l-g)*(u-h)-(m-g)*(n-h),d=d+v*(g+l+m),c=c+v*(h+n+u),e=e+v}d/=3*e;c/=3*e;return isNaN(d)||isNaN(c)?[]:[new f.Anchor(d,c)]};k._bidiEngine=new m;return k}(l)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(k,a,h){function m(a,b,
d,c,f){var h=a;void 0===b&&(b=f.defInFormat);void 0===d&&(d=f.defOutFormat);void 0===c&&(c=f.defSwap);if(b!==d){var k,n=b.substring(0,1);k=b.substring(1,4);var q=d.substring(0,1),t=d.substring(1,4);"C"===k.charAt(0)&&(k=l(h),k="ltr"===k||"rtl"===k?k.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=n+k);"C"===t.charAt(0)&&(k=l(h),"rtl"===k?t="RTL":"ltr"===k?(h=h.split(""),h.reverse(),k=l(h.join("")),t=k.toUpperCase()):t="L"===d.charAt(2)?"LTR":"RTL",d=q+t)}if(b===d)return a;q=b.substring(0,1);h=b.substring(1,
4);n=d.substring(0,1);t=d.substring(1,4);f.inFormat=b;f.outFormat=d;f.swap=c;if("L"===q&&"VLTR"===d){if("LTR"===h)return f.dir=E,g(a,f);if("RTL"===h)return f.dir=I,g(a,f)}if("V"===q&&"V"===n)return f.dir="RTL"===h?I:E,e(a,f);if("L"===q&&"VRTL"===d)return f.dir="LTR"===h?E:I,a=g(a,f),e(a);if("VLTR"===b&&"LLTR"===d)return f.dir=E,g(a,f);if("V"===q&&"L"===n&&h!==t)return a=e(a),"RTL"===h?m(a,"LLTR","VLTR",c,f):m(a,"LRTL","VRTL",c,f);if("VRTL"===b&&"LRTL"===d)return m(a,"LRTL","VRTL",c,f);if("L"===q&&
"L"===n)return b=f.swap,f.swap=b.substr(0,1)+"N","RTL"===h?(f.dir=I,a=g(a,f),f.swap="N"+b.substr(1,2),f.dir=E,a=g(a,f)):(f.dir=E,a=g(a,f),f.swap="N"+b.substr(1,2),a=m(a,"VLTR","LRTL",f.swap,f)),a}function l(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function g(a,b){a=a.split("");var d=[];f(a,d,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var e=0;e<a.length;e++)if(1===d[e]){var g=e,h;b:{h=a[e];for(var k=
void 0,l=0,n=F.length-1;l<=n;)if(k=Math.floor((l+n)/2),h<F[k][0])n=k-1;else if(h>F[k][0])l=k+1;else{h=F[k][1];break b}}a[g]=h}c(2,a,d,b);c(1,a,d,b);q=d;return a.join("")}function f(a,b,d){var c=a.length,e=d.dir?aa:ha,f=null,g=null,h=null,f=0,g=g=null,k=-1,l=g=null,m=[],q=[];d.hiLevel=d.dir;d.lastArabic=!1;d.hasUbatAl=!1;d.hasUbatB=!1;d.hasUbatS=!1;for(g=0;g<c;g++){var l=g,h=a[g].charCodeAt(0),t=pa[h>>8];m[l]=t<ga?t:ra[t-ga][h&255]}for(l=0;l<c;l++){q[l]=g=n(a,m,q,l,d);f=e[f][g];g=f&240;f&=15;b[l]=
h=e[f][y];if(0<g){if(16===g)for(g=k;g<l;g++)b[g]=1;k=-1}if(g=e[f][z])-1===k&&(k=l);else if(-1<k){for(g=k;g<l;g++)b[g]=h;k=-1}m[l]===ka&&(b[l]=0);d.hiLevel|=h}if(d.hasUbatS)for(a=0;a<c;a++)if(m[a]===ja)for(b[a]=d.dir,e=a-1;0<=e;e--)if(m[e]===oa)b[e]=d.dir;else break}function e(a,b){a=a.split("");if(b){var d=[];f(a,d,b);q=d}a.reverse();C.reverse();return a.join("")}function d(a){for(var b=0;b<X.length;b++)if(a>=X[b]&&a<=ea[b])return!0;return!1}function b(a,b,c,e){for(;b*c<e&&v(a[b]);)b+=c;return b*
c<e&&d(a[b])?!0:!1}function c(a,b,d,c){if(!(c.hiLevel<a))if(1!==a||c.dir!==I||c.hasUbatB){c=b.length;for(var e=0,f,g,h;e<c;){if(d[e]>=a){for(f=e+1;f<c&&d[f]>=a;)f++;for(g=f-1;e<g;e++,g--)h=b[e],b[e]=b[g],b[g]=h,h=C[e],C[e]=C[g],C[g]=h;e=f}e++}}else b.reverse(),C.reverse()}function n(a,b,d,c,e){return{UBAT_L:function(){e.lastArabic=!1;return ca},UBAT_R:function(){e.lastArabic=!1;return ia},UBAT_ON:function(){return W},UBAT_AN:function(){return V},UBAT_EN:function(){return e.lastArabic?V:U},UBAT_AL:function(){e.lastArabic=
!0;e.hasUbatAl=!0;return ia},UBAT_WS:function(){return W},UBAT_CS:function(){var a,f;if(1>c||c+1>=b.length||(a=d[c-1])!==U&&a!==V||(f=b[c+1])!==U&&f!==V)return W;e.lastArabic&&(f=V);return f===a?f:W},UBAT_ES:function(){return(0<c?d[c-1]:ka)===U&&c+1<b.length&&b[c+1]===U?U:W},UBAT_ET:function(){if(0<c&&d[c-1]===U)return U;if(e.lastArabic)return W;for(var a=c+1,f=b.length;a<f&&b[a]===ba;)a++;return a<f&&b[a]===U?U:W},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,g=c+1;g<f&&b[g]===la;)g++;
if(g<f&&(f=a[c],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===ia||g===na)))return ia}return 1>c||b[c-1]===ka?W:d[c-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return W},UBAT_LRE:function(){e.lastArabic=!1;return W},UBAT_RLE:function(){e.lastArabic=!1;return W},UBAT_LRO:function(){e.lastArabic=!1;return W},UBAT_RLO:function(){e.lastArabic=!1;return W},UBAT_PDF:function(){e.lastArabic=!1;return W},UBAT_BN:function(){return W}}[fa[b[c]]]()}function u(a,
b){for(var d=0;d<R.length;d++)if(a===R[d])return b[d];return a}function v(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function w(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function t(a,b){for(var d=0;d<H.length;d++)if(a===H[d])return b[d];return a}function B(a,b,d,c){for(var e=0;e<a.length;e++)if(a[e]>b||!d&&a[e]===b)a[e]+=c}k.getObject("string",!0,dojox);k=a("dojox.string.BidiEngine",h,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],
levels:[],bidiTransform:function(a,c,e){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var f=this.sourceToTarget,g=this.targetToSource,h=a.length;C=[];q=[];for(var k=0;k<h;k++)f[k]=k,g[k]=k,C[k]=k;if(!this.checkParameters(c,e))return a;c=this.inputFormat;e=this.outputFormat;var f=a,f=D,k=w(c.charAt(1)),g=w(e.charAt(1)),l="I"===c.charAt(0)?"L":c.charAt(0),h="I"===e.charAt(0)?"L":e.charAt(0),k=l+k,g=h+g,h=c.charAt(2)+e.charAt(2);f.defInFormat=k;f.defOutFormat=g;f.defSwap=h;a=m(a,k,g,h,
f);f=!1;if("R"===e.charAt(1))f=!0;else if("C"===e.charAt(1)||"D"===e.charAt(1))f=this.checkContextual(a);g=this.sourceToTarget=C;h=Array(g.length);for(k=0;k<g.length;k++)h[g[k]]=k;A=this.targetToSource=h;if(c.charAt(3)===e.charAt(3))f=a;else if("S"===e.charAt(3))if(c=f,e=!0,0===a.length)f=void 0;else{void 0===c&&(c=!0);void 0===e&&(e=!0);a=String(a);a=a.split("");var n=0,g=1,f=a.length;c||(n=a.length-1,g=-1,f=1);for(var h=f,k=e,p=0,f=[],l=0;n*g<h;n+=g)if(d(a[n])||v(a[n])){var r;if(r="\u0644"===a[n])b:{for(var y=
a,x=n+g,z=g,E=h;x*z<E&&v(y[x]);)x+=z;r=" ";if(x*z<E)for(r=y[x],y=0;y<H.length;y++)if(H[y]===r){r=!0;break b}r=!1}if(r){a[n]=0===p?t(a[n+g],K):t(a[n+g],G);n+=g;p=a;r=n;y=g;for(x=h;r*y<x&&v(p[r]);)r+=y;r*y<x&&(p[r]=" ");k&&(f[l]=n,l++);p=0}else{r=a[n];if(1===p){y=n;if(b(a,n+g,g,h))b:for(x=a[n],z=0;z<R.length;z++){if(x===R[z]){x=M[z];break b}}else x=u(a[n],Q);a[y]=x}else!0===b(a,n+g,g,h)?a[n]=u(a[n],S):a[n]=u(a[n],P);v(r)||(p=1);b:{for(y=0;y<T.length;y++)if(T[y]===r){r=!0;break b}r=!1}!0===r&&(p=0)}}else p=
0;g="";for(h=0;h<a.length;h++){if(k=e){b:{for(k=0;k<f.length;k++)if(f[k]===h)break b;k=-1}k=-1<k}k?(B(A,h,!c,-1),C.splice(h,1)):g+=a[h]}f=g}else if(c=a,e=f,a=!0,0===c.length)f=void 0;else for(void 0===a&&(a=!0),void 0===e&&(e=!0),c=String(c),f="",g=[],g=c.split(""),h=0;h<c.length;h++)k=!1,"\ufe70"<=g[h]&&"\ufeff">g[h]?(l=c.charCodeAt(h),"\ufef5"<=g[h]&&"\ufefc">=g[h]?(e?(0<h&&a&&" "===g[h-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",k=!0),f+=H[(l-65269)/2]):(f+=H[(l-65269)/2],f+="\u0644",
h+1<c.length&&a&&" "===g[h+1]?h++:k=!0),k&&(B(A,h,!0,1),C.splice(h,0,C[h]))):f+=Z[l-65136]):f+=g[h];this.sourceToTarget=C;this.targetToSource=A;this.levels=q;return f},_inputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,b){a?this.set("inputFormat",
a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=l(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(ua){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return L.test(a)}});var C=[],A=[],q=[],D={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},y=5,z=6,E=0,I=1,J=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,
L=/[\u0591-\u06ff\ufb1d-\ufefc]/,F=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],
["\ufe65","\ufe64"]],H=["\u0622","\u0623","\u0625","\u0627"],K=["\ufef5","\ufef7","\ufef9","\ufefb"],G=["\ufef6","\ufef8","\ufefa","\ufefc"],R="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),P="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
Q="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),M="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
S="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),T="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),Z="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
X=["\u0621","\u0641"],ea=["\u063a","\u064a"],ha=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],aa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ca=0,ia=1,U=2,V=3,W=4,ka=5,ja=6,na=7,oa=8,ba=11,la=12,fa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ga=100;a=ca;h=ia;var O=U,da=V,p=W,ma=ka,qa=ja,r=na,Y=oa,N=
ba,x=la,pa=[ga+0,a,a,a,a,ga+1,ga+2,ga+3,h,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ga+4,p,p,p,a,p,a,p,a,p,p,p,a,a,p,p,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,a,a,p,p,a,a,p,p,a,a,p,p,p,p,p,p,p,p,p,p,p,p,
p,p,p,p,p,p,p,p,p,p,p,a,a,a,ga+5,r,r,ga+6,ga+7],ra=[[18,18,18,18,18,18,18,18,18,qa,ma,qa,Y,ma,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ma,ma,ma,qa,Y,p,p,N,N,N,p,p,p,p,p,10,9,10,9,9,O,O,O,O,O,O,O,O,O,O,9,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,18,18,18,18,18,18,ma,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,p,N,N,N,N,p,p,p,p,a,p,p,18,p,p,N,N,O,O,p,a,p,p,p,O,a,p,p,p,p,
p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,a,a,a,a,a,a,a,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,a,p,p,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,
x,x,x,x,x,h,x,h,x,x,h,x,x,h,x,p,p,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,p,p,p,p,p,h,h,h,h,h,p,p,p,p,p,p,p,p,p,p,p],[da,da,da,da,p,p,p,p,r,N,N,r,9,r,p,p,x,x,x,x,x,x,x,x,x,x,x,r,p,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,da,da,da,da,da,da,da,da,da,da,N,da,da,r,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,da,p,x,x,x,x,x,x,r,r,x,x,p,x,x,x,x,r,r,O,O,O,O,O,O,O,O,O,O,r,r,r,r,r,r],[r,r,r,r,r,r,r,r,r,r,r,r,r,r,p,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,x,x,x,x,x,x,x,x,x,x,x,r,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,x,x,x,x,x,x,x,x,x,h,h,p,p,p,p,h,p,p,p,p,p],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,18,18,18,a,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Y,ma,13,14,15,16,17,9,N,N,N,N,N,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,9,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Y,18,18,18,18,18,p,p,p,p,p,18,18,18,18,18,18,O,a,p,p,O,O,O,O,O,O,10,10,p,p,p,a,O,O,O,O,O,O,O,O,O,O,10,10,p,p,p,p,a,a,
a,a,a,a,a,a,a,a,a,a,a,p,p,p,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,p,p,p,p,p,h,x,h,h,h,h,h,h,h,h,h,h,10,h,h,h,h,h,h,h,h,h,h,h,h,h,p,h,h,h,h,h,p,h,p,h,h,p,h,h,p,h,h,h,h,h,h,h,h,h,h,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,9,p,9,p,p,9,p,p,p,p,p,p,p,p,p,N,p,p,10,10,p,p,p,p,p,N,N,p,p,p,p,p,r,r,r,r,r,p,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,p,p,18],[p,p,p,N,N,N,p,p,p,p,p,10,9,10,9,9,O,O,O,O,O,O,O,O,O,O,9,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,p,p,p,p,p,p,p,p,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,p,p,p,a,a,a,a,a,a,p,p,a,a,a,a,a,a,p,p,a,a,a,a,a,a,p,p,a,a,a,p,p,p,N,N,p,p,p,N,N,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];return k})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(k,a,h,m){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var g=this._attrPairNames;return g[a]?
g[a]:g[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,g){return"function"===typeof this[g.g]?this[g.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,g){if("object"===typeof a){for(var f in a)a.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,a[f]);return this}f=this._getAttrNames(a);var e=this._get(a,f);f=this[f.s];var d;"function"===typeof f?d=f.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=g;
if(this._watchCallbacks){var b=this;m(d,function(){b._watchCallbacks(a,e,g)})}return this},_changeAttrValue:function(a,g){var f=this.get(a);this[a]=g;this._watchCallbacks&&this._watchCallbacks(a,f,g);return this},watch:function(a,g){var f=this._watchCallbacks;if(!f)var e=this,f=this._watchCallbacks=function(a,d,g,h){var b=function(b){if(b){b=b.slice();for(var c=0,f=b.length;c<f;c++)b[c].call(e,a,d,g)}};b(f["_"+a]);h||b(f["*"])};g||"function"!==typeof a?a="_"+a:(g=a,a="*");var d=f[a];"object"!==typeof d&&
(d=f[a]=[]);d.push(g);a={};a.unwatch=a.remove=function(){var a=h.indexOf(d,g);-1<a&&d.splice(a,1)};return a}})})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(k,a,h){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(a,g,f,e,d,b,c,h){this._glyphItems=a;this._maxWidth=g;this._lineHeight=f;this._letterSpacing=e;this._offset=d;this._hAnchor=b;this._vAnchor=c;this._justify=h}a.prototype.getShaping=function(a,g){for(var f=this._letterSpacing,
e=this._lineHeight,d=this._justify,b=this._maxWidth,c=[],h=0,k=0,l=0,m=0,t=-1,B=0,C=-1,A=a.length,q=0;q<A;q++){var D=a.charCodeAt(q);if(10===D){if(q!==A-1){if(t>=m){var h=c[t],y=h.x+h.glyphMosaicItem.metrics.advance,B=Math.max(y,B);d&&this._applyJustification(c,m,t);m=c.length}k=g?k-e:k+e;h=0;++l}}else{for(var y=void 0,z=0,E=this._glyphItems;z<E.length&&!(y=E[z][D]);z++);if(y){c.push({codePoint:D,x:h,y:k,glyphMosaicItem:y});h+=y.metrics.advance+f;if(0<b&&h>b&&0<=C){z=C+1;y=c[z].x;B=Math.max(y,B);
for(E=z;E<c.length;E++)c[E].y=g?c[E].y-e:c[E].y+e,c[E].x-=y;d&&this._applyJustification(c,m,C);k=g?k-e:k+e;h-=y;++l;m=z;C=-1}++t;32===D&&(C=c.length-1)}}}t>=m&&(h=c[t],B=Math.max(B,h.x+h.glyphMosaicItem.metrics.advance),d&&this._applyJustification(c,m,t));if(0<c.length)for(a=(d-this._hAnchor)*B,f=(-this._vAnchor*(l+1)+.5)*e,g&&l&&(f+=l*e),a+=this._offset[0],f+=this._offset[1],g=0;g<c.length;g++)e=c[g],e.x+=a,e.y+=f;return c};a.getBox=function(a){if(!a.length)return null;for(var g=Infinity,f=Infinity,
e=0,d=0,b=0;b<a.length;b++)var c=a[b],h=c.glyphMosaicItem.metrics,k=h.height,l=c.x,c=c.y-(k-Math.abs(h.top)),h=l+h.width+h.left,k=c+k,g=Math.min(g,l),e=Math.max(e,h),f=Math.min(f,c),d=Math.max(d,k);return{x:g,y:f,width:e-g,height:d-f}};a.addDecoration=function(a,g){var f=a.length;if(0!==f){for(var e=a[0].x+a[0].glyphMosaicItem.metrics.left,d=a[0].y,b=1;b<f;b++){var c=a[b];if(c.y!==d){var k=a[b-1].x+a[b-1].glyphMosaicItem.metrics.left+a[b-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:d+
g-3,glyphMosaicItem:{sdf:!0,rect:new h.default(4,0,4,8),metrics:{width:k-e,height:8,left:0,top:0,advance:0},page:0}});d=c.y;e=c.x+c.glyphMosaicItem.metrics.left}}f=a[f-1].x+a[f-1].glyphMosaicItem.metrics.left+a[f-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:e,y:d+g-3,glyphMosaicItem:{sdf:!0,rect:new h.default(4,0,4,8),metrics:{width:f-e,height:8,left:0,top:0,advance:0},page:0}})}};a.prototype._applyJustification=function(a,g,f){for(var e=a[f],e=(e.x+e.glyphMosaicItem.metrics.advance)*this._justify;g<=
f;g++)a[g].x-=e};return a}();a.TextShaping=k})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});k=function(){function a(a,h,g,f){void 0===a&&(a=0);void 0===h&&(h=0);void 0===g&&(g=0);void 0===f&&(f=0);this.x=a;this.y=h;this.width=g;this.height=f}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();a.default=k})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),
function(k,a,h,m,l,g,f,e,d,b,c,n,u,v,w){return function(){function a(a,b,d){this._pbfTiles={};this._tileClippers={};this._client=d;this._tile=b;this._layers=b.getLayers();var c=b.tileKey.split("/").map(parseFloat);b=c[0];d=c[1];c=c[2];this._level=b;for(var e=Math.max(8,Math.round(1*this._level)-8),f=0,g=Object.keys(a);f<g.length;f++){var h=g[f],k=a[h];this._pbfTiles[h]=new l(new Uint8Array(k.protobuff),new DataView(k.protobuff));if(k.refKey&&(k=k.refKey.split("/").map(parseFloat)[0],k=b-k,0<k)){var n=
(1<<k)-1;this._tileClippers[h]=new v.TileClipper(k,d&n,c&n,8,e)}this._tileClippers[h]||(this._tileClippers[h]=new v.SimpleBuilder)}}a.prototype.parse=function(a){return m(this,void 0,void 0,function(){var b,c,e,f,k,l,n,m,t,u,v,B,K,G,R,P,Q,M,S,T,Z,X,ea,ha,aa,ca,ia,U,V,W,ka,ja,na,oa,ba,la,fa,ga,O,da,p,ma,qa,r,Y,N,x,pa,ra,sa,ua,za,wa,Aa,va,xa,ta,Ba;return h(this,function(h){b=a&&a.signal;c=this._parseTileData(this._pbfTiles);e=this._layers;f=this._level;l=[];n=this._tileClippers;m={};t={};for(u=e.length-
1;0<=u;u--)if(k=e[u],!(k.minzoom&&f<k.minzoom||k.maxzoom&&f>=k.maxzoom||k.layout&&k.layout.visibility&&"none"===k.layout.visibility||0===k.type)&&c[k.source]&&n[k.source]&&(v=c[k.source],B=n[k.source],K=k.sourceLayer,G=v[K]))if((R=t[k.source])||(R=t[k.source]=new Set),R.add(k.sourceLayer),P=this._createBucket(k))P.layerIndex=u,P.layerExtent=G.extent,P.tileClipper=B,(Q=m[k.source])||(Q=m[k.source]={}),(M=Q[K])||(M=Q[K]=[]),M.push(P);S=10*this._level;T=10*(this._level+1);Z=[];X=[];ea=[];ha=[];aa=new Set;
ca={};ia=[];U=[];V=function(a){t[a].forEach(function(b){ia.push(b);U.push(a)})};W=0;for(ka=Object.keys(t);W<ka.length;W++)ja=ka[W],V(ja);for(na=0;na<ia.length;na++){ja=U[na];oa=ia[na];if(!c[ja]||!m[ja])break;v=c[ja];G=v[oa];Q=m[ja];ba=Q[oa];if(!ba||0===ba.length)break;if(g.isAborted(b))return[2,void 0];for(la=G.getData();la.next(2);){fa=la.getMessage();ga=new d(fa,G);fa.release();if(O=ga.values){if((da=O._minzoom)&&da>=T)continue;if((p=O._maxzoom)&&p<=S)continue}ma=0;for(qa=ba;ma<qa.length;ma++)P=
qa[ma],P.pushFeature(ga)}}r=this._tile;Y=0;for(N=Object.keys(m);Y<N.length;Y++)for(K in ja=N[Y],x=m[ja],x)for(ba=x[K],pa=0,ra=ba;pa<ra.length;pa++)P=ra[pa],P.hasFeatures()&&(3===P.layer.type?(Z.push(P),r.addBucket(P)):P.layer.refLayerId?ea.push(P):(X.push(P),ha[P.layer.id]=P));sa=0;for(ua=Z;sa<ua.length;sa++)za=P=ua[sa],za.getResources(za.tileClipper,aa,ca);if(this._tile.status===w.TileStatus.INVALID)return[2,g.resolve([])];wa=[];Aa=this._tile.getWorkerTileHandler();0<aa.size&&(va=Aa.fetchSprites(aa,
this._client,a),wa.push(va));for(ta in ca)Ba=ca[ta],0<Ba.size&&(xa=Aa.fetchGlyphs(this._tile.tileKey,ta,Ba,this._client,a),wa.push(xa));return[2,g.all(wa).then(function(){for(var a=0,b=X;a<b.length;a++){var d=b[a];d.processFeatures(d.tileClipper);l.push(d)}a=0;for(b=ea;a<b.length;a++){var d=b[a],c=ha[d.layer.refLayerId];c&&(c.assignBufferInfo(d),l.push(d))}a=0;for(b=Z;a<b.length;a++)d=b[a],d.processFeatures(d.tileClipper),l.push(d);l.sort(function(a,b){return a.layerIndex-b.layerIndex});return l})]})})};
a.prototype._parseTileData=function(a){for(var b={},d=0,c=Object.keys(a);d<c.length;d++){for(var e=c[d],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=f.getMessage(),k=new n(h);h.release();g[k.name]=k;break;default:f.skip()}b[e]=g}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};
a.prototype._createBackgroundBucket=function(a){return new f(a,this._level)};a.prototype._createFillBucket=function(a){var d=this._tile;return new b(a,this._level,a.hasDataDrivenFill?d.fillDDVertexBuffer:d.fillVertexBuffer,d.fillIndexBuffer,a.hasDataDrivenOutline?d.outlineDDVertexBuffer:d.outlineVertexBuffer,d.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new c(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=
function(a){var b=this._tile;return new e(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new u(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(k,a,h,m){var l=
h("esri-text-decoder")?new TextDecoder("utf-8"):null,g=h("safari")||h("ios")?6:h("ff")?12:32;return function(){function a(a,d,b,c){void 0===b&&(b=0);void 0===c&&(c=a?a.byteLength:0);this._tag=0;this._dataType=99;this.init(a,d,b,c)}a.prototype.init=function(a,d,b,c){this._data=a;this._dataView=d;this._pos=b;this._end=c};a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===
this._end)return!1;var d=this._decodeVarint();this._tag=d>>3;this._dataType=d&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&
127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};
a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getUint32(d+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,d=this._pos,a=a.getUint32(d,!0)+4294967296*a.getInt32(d+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,
!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),d=this._pos,d=this._toString(this._data,d,d+a);this._skip(a);return d};a.prototype.getBytes=function(){var a=
this._getLength(),d=this._pos,d=this._toBytes(this._data,d,d+a);this._skip(a);return d};a.prototype.processMessageWithArgs=function(a,d,b,c){var e=this.getMessage();a=a(e,d,b,c);e.release();return a};a.prototype.processMessage=function(a){var d=this.getMessage();a=a(d);d.release();return a};a.prototype.getMessage=function(){var e=this._getLength(),d=a.pool.acquire();d.init(this._data,this._dataView,this._pos,this._pos+e);this._skip(e);return d};a.prototype.release=function(){a.pool.release(this)};
a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,d=this._pos,b=0,c;if(10<=this._end-d){if(c=a[d++],b|=c&127,0!==(c&128)&&(c=a[d++],b|=(c&127)<<7,
0!==(c&128)&&(c=a[d++],b|=(c&127)<<14,0!==(c&128)&&(c=a[d++],b|=(c&127)<<21,0!==(c&128)&&(c=a[d++],b+=268435456*(c&127),0!==(c&128)&&(c=a[d++],b+=34359738368*(c&127),0!==(c&128)&&(c=a[d++],b+=4398046511104*(c&127),0!==(c&128)&&(c=a[d++],b+=562949953421312*(c&127),0!==(c&128)&&(c=a[d++],b+=72057594037927936*(c&127),0!==(c&128)&&(c=a[d++],b+=0x7fffffffffffffff*(c&127),0!==(c&128)))))))))))throw Error("Varint too long!");}else{for(var f=1;d!==this._end;){c=a[d];if(0===(c&128))break;++d;b+=(c&127)*f;
f*=128}if(d===this._end)throw Error("Varint overrun!");++d;b+=c*f}this._pos=d;return b};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,d,b){b=Math.min(this._end,b);if(b-d>g&&l)return a=a.subarray(d,b),l.decode(a);for(var c="",e="";d<b;++d){var f=a[d];f&128?e+="%"+f.toString(16):(c+=decodeURIComponent(e)+
String.fromCharCode(f),e="")}e.length&&(c+=decodeURIComponent(e));return c};a.prototype._toBytes=function(a,d,b){b=Math.min(this._end,b);return new Uint8Array(a.buffer,d,b-d)};a.pool=new m(a,!1,function(a){a._data=null;a._dataView=null});return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(k,a,h){return function(){function a(a,g){this.values={};var f=g.keys;for(g=g.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();
break;case 2:for(var e=a.getMessage(),d=this.values;!e.empty();){var b=e.getUInt32(),c=e.getUInt32();d[f[b]]=g[c]}e.release();break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var g=this._pbfGeometry;this._pbfGeometry=null;var f,e;a?a.reset(this.type):f=[];for(var d=1,b=0,c=0,k=0;!g.empty();)switch(0===b&&(b=g.getUInt32(),d=
b&7,b>>=3),b--,d){case 1:c+=g.getSInt32();k+=g.getSInt32();a?a.moveTo(c,k):(e&&f.push(e),e=[],e.push(new h.Point(c,k)));break;case 2:c+=g.getSInt32();k+=g.getSInt32();a?a.lineTo(c,k):e.push(new h.Point(c,k));break;case 7:a?a.close():e&&!e[0].equals(c,k)&&e.push(e[0].clone());break;default:throw g.release(),Error("Invalid path operation");}a?a=a.result():(e&&f.push(e),a=f);g.release();return this._geometry=a};return a}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require",
"exports"],function(k,a){return function(){function a(h){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=h.clone();h.next();)switch(h.tag()){case 1:this.name=h.getString();break;case 3:this.keys.push(h.getString());break;case 4:this.values.push(h.processMessage(a._parseValue));break;case 5:this.extent=h.getUInt32();break;default:h.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();
case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){return function(a,d,b){this.ratio=a;this.x=d;this.y=b}}();k=function(){function a(a,b,c,e,f){void 0===e&&
(e=8);void 0===f&&(f=8);this.lines=[];this.starts=[];this.pixelRatio=e;this.pixelMargin=f;this.tileSize=h.TILE_SIZE*e;this.dz=a;this.yPos=b;this.xPos=c}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=
null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new m.Point(a,b);this._firstPt=new m.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),d=new m.Point(a,b),e=m.Point.distance(this._prevPt,d),f,h,k;if(c)this._prevIsIn?this._lineTo(a,b,!0):(f=this._prevPt,h=d,a=this._intersect(h,f),this.start=this._dist+e*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,h.y,!0));else if(this._prevIsIn)h=
this._prevPt,f=d,a=this._intersect(h,f),this._lineTo(a.x,a.y,!0),this._lineTo(f.x,f.y,!1);else{var l=this._prevPt;if(!(l.x<=this.xmin&&d.x<=this.xmin||l.x>=this.xmax&&d.x>=this.xmax||l.y<=this.ymin&&d.y<=this.ymin||l.y>=this.ymax&&d.y>=this.ymax)){a=[];if(l.x<this.xmin&&d.x>this.xmin||l.x>this.xmin&&d.x<this.xmin)b=(this.xmin-l.x)/(d.x-l.x),k=l.y+b*(d.y-l.y),k<=this.ymin?h=!1:k>=this.ymax?h=!0:a.push(new g(b,this.xmin,k));if(l.x<this.xmax&&d.x>this.xmax||l.x>this.xmax&&d.x<this.xmax)b=(this.xmax-
l.x)/(d.x-l.x),k=l.y+b*(d.y-l.y),k<=this.ymin?h=!1:k>=this.ymax?h=!0:a.push(new g(b,this.xmax,k));if(l.y<this.ymin&&d.y>this.ymin||l.y>this.ymin&&d.y<this.ymin)b=(this.ymin-l.y)/(d.y-l.y),k=l.x+b*(d.x-l.x),k<=this.xmin?f=!1:k>=this.xmax?f=!0:a.push(new g(b,k,this.ymin));if(l.y<this.ymax&&d.y>this.ymax||l.y>this.ymax&&d.y<this.ymax)b=(this.ymax-l.y)/(d.y-l.y),k=l.x+b*(d.x-l.x),k<=this.xmin?f=!1:k>=this.xmax?f=!0:a.push(new g(b,k,this.ymax));if(0===a.length)f?h?this._lineTo(this.xmax,this.ymax,!0):
this._lineTo(this.xmax,this.ymin,!0):h?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+e*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+e*a[0].ratio,f=0;f<a.length;f++)this._lineTo(a[f].x,a[f].y,!0)}this._lineTo(d.x,d.y,!1)}this._dist+=e;this._prevIsIn=c;this._prevPt=d};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;
a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&f.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");
this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var c=[],e=0;e<b;e++)c.push({line:a[e],start:this.starts[e]||0});return c};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-
a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),g=(d-a.y)/(b.y-a.y);f<g?(e=f,d=a.y+f*(b.y-a.y)):(e=g,c=a.x+g*(b.x-a.x))}this._r=e;return new m.Point(c,d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),
this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,c){3!==this.type?c&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,b))):(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new m.Point(a,
b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,c){if(3!==this.type)if(c){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(c=this.line[this.line.length-1],c.equals(a,b)))return;this.line.push(new m.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-
(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){c=this.line[this.line.length-1];var d=c.x===a,e=c.y===b;d&&e||(this._is_h&&d?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):this._is_v&&e?(c.x=a,c.y=b,c=this.line[this.line.length-
2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):(this.line.push(new m.Point(a,b)),this._is_h=d,this._is_v=e))}else this.line.push(new m.Point(a,b))};return a}();a.TileClipper=k;k=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=
function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new m.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&f.simplify(4096,
64,this.lines);return this.lines};return a}();a.SimpleBuilder=k;var f=function(){function a(){}a.simplify=function(d,b,c){if(c){var e=-b,f=d+b,g=-b,h=d+b;d=[];b=[];for(var k=c.length,l=0;l<k;++l){var m=c[l];if(m&&!(2>m.length))for(var A=m[0],q=void 0,D=m.length,y=1;y<D;++y)q=m[y],A.x===q.x&&(A.x<=e&&(A.y>q.y?(d.push(l),d.push(y),d.push(0),d.push(-1)):(b.push(l),b.push(y),b.push(0),b.push(-1))),A.x>=f&&(A.y<q.y?(d.push(l),d.push(y),d.push(1),d.push(-1)):(b.push(l),b.push(y),b.push(1),b.push(-1)))),
A.y===q.y&&(A.y<=g&&(A.x<q.x?(d.push(l),d.push(y),d.push(2),d.push(-1)):(b.push(l),b.push(y),b.push(2),b.push(-1))),A.y>=h&&(A.x>q.x?(d.push(l),d.push(y),d.push(3),d.push(-1)):(b.push(l),b.push(y),b.push(3),b.push(-1)))),A=q}0!==d.length&&0!==b.length&&(a.fillParent(c,b,d),a.fillParent(c,d,b),e=[],a.calcDeltas(e,b,d),a.calcDeltas(e,d,b),a.addDeltas(e,c))}};a.fillParent=function(a,b,c){for(var d=c.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],h=b[f+1],k=b[f+2],m=a[g][h-1],g=a[g][h],h=8092,A=-1,q=
0;q<d;q+=4)if(c[q+2]===k){var D=c[q],y=c[q+1],z=a[D][y-1],D=a[D][y];switch(k){case 0:case 1:l.between(m.y,z.y,D.y)&&l.between(g.y,z.y,D.y)&&(z=Math.abs(D.y-z.y),z<h&&(h=z,A=q));break;case 2:case 3:l.between(m.x,z.x,D.x)&&l.between(g.x,z.x,D.x)&&(z=Math.abs(D.x-z.x),z<h&&(h=z,A=q))}}b[f+3]=A}};a.calcDeltas=function(d,b,c){for(var e=b.length,f=0;f<e;f+=4){var g=a.calcDelta(f,b,c,[]);d.push(b[f]);d.push(b[f+1]);d.push(b[f+2]);d.push(g)}};a.calcDelta=function(d,b,c,e){d=b[d+3];if(-1===d)return 0;var f=
e.length;if(1<f&&e[f-2]===d)return 0;e.push(d);return a.calcDelta(d,c,b,e)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,e=0;e<c;e+=4){var f=a[e+3];f>d&&(d=f)}for(e=0;e<c;e+=4){var g=b[a[e]],h=a[e+1],f=d-a[e+3];switch(a[e+2]){case 0:g[h-1].x-=f;g[h].x-=f;1===h&&(g[g.length-1].x-=f);h===g.length-1&&(g[0].x-=f);break;case 1:g[h-1].x+=f;g[h].x+=f;1===h&&(g[g.length-1].x+=f);h===g.length-1&&(g[0].x+=f);break;case 2:g[h-1].y-=f;g[h].y-=f;1===h&&(g[g.length-1].y-=f);h===g.length-1&&(g[0].y-=f);break;
case 3:g[h-1].y+=f,g[h].y+=f,1===h&&(g[g.length-1].y+=f),h===g.length-1&&(g[0].y+=f)}}};return a}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(k,a){function h(a,g){a%=g;return 0<=a?a:a+g}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;
a.C_SQRT2_INV=1/a.C_SQRT2;var m=1/Math.LN2;a.positiveMod=h;a.radToByte=function(k){return h(k*a.C_RAD_TO_256,256)};a.degToByte=function(k){return h(k*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*m};a.sqr=function(a){return a*a};a.interpolate=function(a,g,f){return a*(1-f)+g*f};a.between=function(a,g,f){return a>=g&&a<=f||a>=f&&a<=g}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(k,a){Object.defineProperty(a,"__esModule",{value:!0});k=a.TileStatus||(a.TileStatus=
{});k[k.INITIALIZED=0]="INITIALIZED";k[k.NO_DATA=1]="NO_DATA";k[k.READY=2]="READY";k[k.MODIFIED=3]="MODIFIED";k[k.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./GeometryUtils","./MemoryBuffer"],function(k,a,h,m,l){Object.defineProperty(a,"__esModule",{value:!0});var g=new Float32Array(1),f=new Uint32Array(g.buffer);k=function(a){function d(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=
b;return c}h(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,h,k,m,B){var b=this.array;a=l.i1616to32(a,c);b.push(a);a=l.i8888to32(Math.round(31*d),Math.round(31*e),Math.round(31*h),Math.round(31*k));b.push(a);a=l.i1616to32(m,0);b.push(a);if(this._isDataDriven){if(!B)throw Error("Expecting data driven values.");d=B.color;e=d[3]*B.opacity*255;b.push(l.i8888to32(d[0]*e,d[1]*e,d[2]*e,e));g[0]=B.size;b.push(f[0])}};return d}(l);a.LineVertexBuffer=k;
k=function(a){function d(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}h(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d){var b=this.array;b.push(l.i1616to32(a,c));if(this._isDataDriven){if(!d)throw Error("Expecting data driven values.");a=d.color;d=a[3]*d.opacity*255;b.push(l.i8888to32(a[0]*d,a[1]*d,a[2]*d,d))}};return d}(l);a.FillVertexBuffer=k;k=function(a){function d(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}
h(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,f,g,h){var b=this.array,k=this.index;a=l.i1616to32(a,c);b.push(a);a=l.i8888to32(Math.round(15*d),Math.round(15*e),f,g);b.push(a);if(this._isDataDriven){if(!h)throw Error("Expecting data driven values.");d=h.color;h=d[3]*h.opacity*255;b.push(l.i8888to32(d[0]*h,d[1]*h,d[2]*h,h))}return k};return d}(l);a.OutlineVertexBuffer=k;k=function(a){function d(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=
b;return c}h(d,a);d.prototype.isDataDriven=function(){return this._isDataDriven};d.prototype.add=function(a,c,d,e,h,k,t,B,C,A,q){var b=this.array;a=l.i1616to32(a,c);b.push(a);a=l.i1616to32(Math.round(8*d),Math.round(8*e));b.push(a);a=l.i8888to32(h/4,k/4,0,0);b.push(a);a=l.i8888to32(Math.ceil(10*A),m.radToByte(t),10*B,Math.min(10*C,255));b.push(a);if(this._isDataDriven){if(!q)throw Error("Expecting data driven values.");d=q.color;e=d[3]*q.opacity*255;b.push(l.i8888to32(d[0]*e,d[1]*e,d[2]*e,e));g[0]=
q.size;b.push(f[0])}};return d}(l);a.SymbolVertexBuffer=k;k=function(a){function d(){return a.call(this,16)||this}h(d,a);d.prototype.add=function(a,c,d,e,f,g,h,k,m,A,q){var b=this.array;a=l.i1616to32(2*a+d,2*c+e);b.push(a);h=g[3]*h*255;a=l.i8888to32(g[0]*h,g[1]*h,g[2]*h,h);b.push(a);g=A[3]*q*255;a=l.i8888to32(A[0]*g,A[1]*g,A[2]*g,g);b.push(a);a=l.i8888to32(Math.min(32*k,255),Math.min(4*m,255),Math.min(f,255),0);b.push(a)};return d}(l);a.CircleVertexBuffer=k})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require",
"exports","../../../../../core/has","./StyleLayer"],function(k,a,h,m){return function(){function a(g,f){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=g;this.version=parseFloat(g.version);this.sprite=f?f.spriteUrl:g.sprite;this.glyphs=f?f.glyphsUrl:g.glyphs;if(this.layers=(g.layers||[]).map(a._create))for(g=void 0,f=0;f<this.layers.length;f++)g=this.layers[f],this._layerByName[g.id.toLowerCase()]=g,0===g.type&&this.backgroundBucketIds.push(f);this._identifyRefLayers()}a.prototype.isPainterDataDriven=
function(a){return(a=this._layerByName[a.toLowerCase()])?a.isPainterDataDriven():!1};a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.layout:null};a.prototype.getPaintProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(g,f){g=this._layerByName[g.toLowerCase()];if(!g)return"";var e=this.layers.indexOf(g);
this.styleJSON.layers[e].paint=f;f=a._recreateLayer({id:g.id,type:g.typeName,source:g.source,sourceLayer:g["source-layer"],minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:g.layout,paint:f},g);this.layers[e]=f;this._layerByName[g.id.toLowerCase()]=f;return g.id};a.prototype.setLayoutProperties=function(g,f){g=this._layerByName[g.toLowerCase()];if(!g)return"";var e=this.layers.indexOf(g);this.styleJSON.layers[e].layout=f;f=a._recreateLayer({id:g.id,type:g.typeName,source:g.source,sourceLayer:g["source-layer"],
minzoom:g.minzoom,maxzoom:g.maxzoom,filter:g.filter,layout:f,paint:g.paint},g);this.layers[e]=f;this._layerByName[g.id.toLowerCase()]=f;return g.id};a.prototype._identifyRefLayers=function(){for(var a=[],f=[],e=0,d=0,b=this.layers;d<b.length;d++){var c=b[d];if(1===c.type){var h=c,k=c.source+"|"+c.sourceLayer,k=k+("|"+JSON.stringify(c.layout&&c.layout.visibility)),k=k+("|"+JSON.stringify(c.minzoom)),k=k+("|"+JSON.stringify(c.maxzoom)),k=k+("|"+JSON.stringify(c.filter));if(h.hasDataDrivenFill||h.hasDataDrivenOutline)k+=
"|"+JSON.stringify(e);a.push({key:k,layer:c})}2===c.type&&(h=c,k=c.source+"|"+c.sourceLayer,k+="|"+JSON.stringify(c.layout&&c.layout.visibility),k+="|"+JSON.stringify(c.minzoom),k+="|"+JSON.stringify(c.maxzoom),k+="|"+JSON.stringify(c.filter),k+="|"+JSON.stringify(c.layout&&c.layout["line-cap"]),k+="|"+JSON.stringify(c.layout&&c.layout["line-join"]),h.hasDataDrivenLine&&(k+="|"+JSON.stringify(e)),f.push({key:k,layer:c}));++e}this._assignRefLayers(a);this._assignRefLayers(f)};a.prototype._assignRefLayers=
function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var f,e,d=a.length,b=0;b<d;b++){var c=a[b];if(c.key===f)c.layer.refLayerId=e;else if(f=c.key,e=c.layer.id,1===c.layer.type&&!c.layer.getPaintProperty("fill-outline-color"))for(var g=b+1;g<d;g++){var h=a[g];if(h.key===f){if(h.layer.getPaintProperty("fill-outline-color")){a[b]=h;a[g]=c;e=h.layer.id;break}}else break}}};a._create=function(a,f,e){f=1-1/(e.length+1)*(1+f);switch(a.type){case "background":return new m.BackgroundStyleLayer(0,
a,f);case "fill":return new m.FillStyleLayer(1,a,f);case "line":return new m.LineStyleLayer(2,a,f);case "symbol":return new m.SymbolStyleLayer(3,a,f);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,a,f)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,f){switch(a.type){case "background":return new m.BackgroundStyleLayer(0,a,f.z);case "fill":return new m.FillStyleLayer(1,a,f.z);case "line":return new m.LineStyleLayer(2,
a,f.z);case "symbol":return new m.SymbolStyleLayer(3,a,f.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new m.CircleStyleLayer(4,a,f.z)}};return a}()})},"*noref":1}});require.boot&&require.apply(null,require.boot);