{"version":3,"sources":["../node_modules/arcgis-js-api/symbols/support/defaultsJSON.js","../node_modules/arcgis-js-api/layers/support/FieldsIndex.js","../node_modules/arcgis-js-api/core/MemCache.js","../node_modules/arcgis-js-api/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/arcgis-js-api/layers/graphics/sources/support/CSVSourceWorker.js","../node_modules/dojo-dstore/Csv.js"],"names":["define","e","o","Object","defineProperty","value","defaultColor","defaultOutlineColor","defaultPointSymbolJSON","type","style","size","color","outline","width","defaultPolylineSymbolJSON","defaultPolygonSymbolJSON","defaultTextSymbolJSON","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","xoffset","yoffset","angle","errorPointSymbolJSON","errorPolylineSymbolJSON","errorPolygonSymbolJSON","t","i","s","n","toLowerCase","trim","this","fields","_fieldsMap","Map","_dateFieldsSet","Set","dateFields","r","length","a","name","d","set","push","add","sort","uid","join","prototype","destroy","clear","has","get","isDateField","normalizeFieldName","MIN_PRIORITY","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","enumerable","configurable","maxSize","resetHitRate","deregisterRemoveFunc","deregister","put","pop","updateSize","clearAll","getStats","resetStats","MemCache","_maxSize","_db","_size","_removeFuncs","_users","removeUnordered","filter","Math","max","_checkSizeLimit","delete","entry","_notifyRemoved","console","warn","lifetime","lives","Size","round","_getHitRate","Entries","toString","Array","forEach","namespace","startsWith","isNaN","hitRate","h","keys","u","someMap","MemCacheStorage","queryCapabilities","supportsStatistics","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","l","f","c","p","m","y","g","v","F","I","N","_","b","createDrawingInfo","x","csvLatitudeFieldNames","csvLongitudeFieldNames","csvDetectedDelimiters","T","w","D","E","_parseInfo","RegExp","regexp","group","factor","exec","NaN","replace","decimal","S","Number","isInteger","isFinite","floor","j","_fieldsIndex","_queryEngine","load","label","all","_fetch","url","_checkProjection","parsing","spatialReference","sent","_parse","_createQueryEngine","layerDefinition","extent","fullExtent","timeInfo","timeExtent","start","end","applyEdits","queryFeatures","executeQuery","signal","queryFeatureCount","executeQueryForCount","queryObjectIds","executeQueryForIds","queryExtent","executeQueryForExtent","urlToObject","path","query","responseType","data","columnDelimiter","locationInfo","latitudeFieldName","latitudeField","longitudeFieldName","longitudeField","_readFirstLine","csv","_inferDelimiter","split","drawingInfo","geometryType","objectIdField","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","wkid","_inferLocationInfo","_inferFields","mixin","some","alias","editable","nullable","unshift","startTimeField","endTimeField","trackIdField","indexOf","_sampleLines","map","_inferFieldType","test","Date","_isValidDate","reduce","call","getTime","match","substring","q","O","L","C","delimiter","fieldNames","newline","V","parse","k","shift","R","P","M","G","_parseCoordinateValue","Q","U","Y","W","equals","isWebMercator","$","z","A","lngLatToXY","projectMany","SpatialReference","WGS84","Z","default","hasM","hasZ","B","cacheSpatialQueries","featureStore","H","J","X","K","ee","te","addMany","abs","parseFloat","trys","checkProjectionSupport","lang","declare","quoteRx","doubleQuoteRx","singleQuoteRx","arrays2hash","values","obj","len","str","parts","part","numlines","numparts","lines","numquotes","prefix","lineloop","toCsv","options","stringify","alwaysQuote","output","undefined","trailingNewline"],"mappings":"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","file":"static/js/98.35e5514b.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\"],function(e,o){Object.defineProperty(o,\"__esModule\",{value:!0}),o.defaultColor=[252,146,31,255],o.defaultOutlineColor=[153,153,153,255],o.defaultPointSymbolJSON={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:o.defaultColor,outline:{width:.75,color:[153,153,153,255]}},o.defaultPolylineSymbolJSON={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:o.defaultColor},o.defaultPolygonSymbolJSON={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{width:.75,color:[255,255,255,191]}},o.defaultTextSymbolJSON={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},o.errorPointSymbolJSON={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},o.errorPolylineSymbolJSON={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},o.errorPolygonSymbolJSON={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null}});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/extendsHelper\"],function(t,e,i){function s(t){return\"date\"===t.type||\"esriFieldTypeDate\"===t.type}function n(t){return t.toLowerCase().trim()}return function(){function t(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){for(var e=[],i=0,r=t;i<r.length;i++){var o=r[i],a=o&&o.name;if(a){var d=n(a);this._fieldsMap.set(a,o),this._fieldsMap.set(d,o),e.push(d),s(o)&&(this.dateFields.push(o),this._dateFieldsSet.add(o))}}e.sort(),this.uid=e.join(\",\")}}return t.prototype.destroy=function(){this._fieldsMap.clear()},t.prototype.has=function(t){return null!=this.get(t)},t.prototype.get=function(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(n(t)):void 0},t.prototype.isDateField=function(t){return this._dateFieldsSet.has(this.get(t))},t.prototype.normalizeFieldName=function(t){var e=this.get(t);if(e)return e.name},t}()});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"./iteratorUtils\",\"./PooledArray\",\"./string\"],function(t,e,i,s,r){Object.defineProperty(e,\"__esModule\",{value:!0}),e.MIN_PRIORITY=-3;var o=function(){function t(t,e,i){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}return Object.defineProperty(t.prototype,\"namespace\",{get:function(){return this._namespace.slice(0,-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"hitRate\",{get:function(){return this._hit/(this._hit+this._miss)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return this._storage.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxSize\",{get:function(){return this._storage.maxSize},enumerable:!0,configurable:!0}),t.prototype.resetHitRate=function(){this._hit=this._miss=0},t.prototype.destroy=function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)},t.prototype.put=function(t,e,i,s){void 0===s&&(s=0),this._storage.put(this._namespace+t,e,i,s)},t.prototype.get=function(t){var e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e},t.prototype.pop=function(t){var e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e},t.prototype.updateSize=function(t,e,i){this._storage.updateSize(this._namespace+t,e,i)},t.prototype.clear=function(){this._storage.clear(this._namespace)},t.prototype.clearAll=function(){this._storage.clearAll()},t.prototype.getStats=function(){return this._storage.getStats()},t.prototype.resetStats=function(){this._storage.resetStats()},t}();e.MemCache=o;var n=function(){function t(t){void 0===t&&(t=10485760),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new s}return t.prototype.register=function(t){this._users.push(t)},t.prototype.deregister=function(t){this._users.removeUnordered(t)},t.prototype.registerRemoveFunc=function(t,e){this._removeFuncs.push([t,e])},t.prototype.deregisterRemoveFunc=function(t){this._removeFuncs=this._removeFuncs.filter(function(e){return e[0]!==t})},Object.defineProperty(t.prototype,\"size\",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxSize\",{get:function(){return this._maxSize},set:function(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,i,s,r){var o=this._db.get(t);if(o&&(this._size-=o.size,this._db.delete(t),o.entry!==i&&this._notifyRemoved(t,o.entry)),s>this._maxSize)return void this._notifyRemoved(t,i);if(void 0===i)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);var n=1+Math.max(r,e.MIN_PRIORITY)-e.MIN_PRIORITY;this._db.set(t,{entry:i,size:s,lifetime:n,lives:n}),this._size+=s,this._checkSizeLimit()},t.prototype.updateSize=function(t,e,i){var s=this._db.get(t);if(s&&s.entry===e){if(this._size-=s.size,i>this._maxSize)return void this._notifyRemoved(t,e);s.size=i,this._size+=i,this._checkSizeLimit()}},t.prototype.pop=function(t){var e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss},t.prototype.get=function(t){var e=this._db.get(t);return void 0===e?void++this._miss:(this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry)},t.prototype.getStats=function(){var t=this,i={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},s={},o=new Array;this._db.forEach(function(e,i){var n=e.lifetime;o[n]=(o[n]||0)+e.size,t._users.forEach(function(t){var o=t.namespace;if(r.startsWith(i,o)){var n=s[o]||0;s[o]=n+e.size}})});var n={};this._users.forEach(function(t){var e=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){var i=s[e]||0;s[e]=i,n[e]=Math.round(100*t.hitRate)+\"%\"}else n[e]=\"0%\"});var h=Object.keys(s);h.forEach(function(e){return s[e]=s[e]/t._size*100}),h.sort(function(t,e){return s[e]-s[t]}),h.forEach(function(t){return i[t]=Math.round(s[t])+\"% / \"+n[t]});for(var a=o.length-1;a>=0;--a){var u=o[a];u&&(i[\"Priority \"+(a+e.MIN_PRIORITY-1)]=Math.round(u/this.size*100)+\"%\")}return i},t.prototype.resetStats=function(){this._hit=this._miss=0,this._users.forEach(function(t){return t.resetHitRate()})},t.prototype.clear=function(t){var e=this;this._db.forEach(function(i,s){r.startsWith(s,t)&&(e._size-=i.size,e._db.delete(s),e._notifyRemoved(s,i.entry))})},t.prototype.clearAll=function(){var t=this;this._db.forEach(function(e,i){t._notifyRemoved(i,e.entry)}),this._size=0,this._db.clear()},t.prototype._getHitRate=function(){return this._hit/(this._hit+this._miss)},t.prototype._notifyRemoved=function(t,e){this._removeFuncs.forEach(function(i){r.startsWith(t,i[0])&&i[1](e)})},t.prototype._checkSizeLimit=function(){var t=this;this._size<=this._maxSize||i.someMap(this._db,function(e,i){return t._db.delete(i),e.lives<=1?(t._size-=e.size,t._notifyRemoved(i,e.entry)):(--e.lives,t._db.set(i,e)),t._size<=.9*t.maxSize})},t}();e.MemCacheStorage=n});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\"],function(t,s){Object.defineProperty(s,\"__esModule\",{value:!0}),s.queryCapabilities={supportsStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../core/tsSupport/generatorHelper\",\"../../../../core/tsSupport/awaiterHelper\",\"dojo/number\",\"dstore/Csv\",\"../../../../geometry\",\"../../../../request\",\"../../../../core/Error\",\"../../../../core/has\",\"../../../../core/lang\",\"../../../../core/promiseUtils\",\"../../../../core/urlUtils\",\"../../../../geometry/projection\",\"../../../../geometry/support/spatialReferenceUtils\",\"../../../../geometry/support/webMercatorUtils\",\"../../OptimizedFeature\",\"../../OptimizedGeometry\",\"../../data/FeatureStore\",\"../../data/projectionSupport\",\"../../data/QueryEngine\",\"./clientSideDefaults\",\"../../../support/FieldsIndex\"],function(e,t,i,n,r,o,a,l,u,s,d,f,c,p,m,y,g,h,v,F,I,N,_){Object.defineProperty(t,\"__esModule\",{value:!0});var b=N.createDrawingInfo(\"esriGeometryPoint\"),x=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"];t.csvLatitudeFieldNames=[\"lat\",\"latitude\",\"y\",\"ycenter\",\"latitude83\",\"latdecdeg\",\"point-y\"],t.csvLongitudeFieldNames=[\"lon\",\"lng\",\"long\",\"longitude\",\"x\",\"xcenter\",\"longitude83\",\"longdecdeg\",\"point-x\"],t.csvDetectedDelimiters=[\",\",\" \",\";\",\"|\",\"\\t\"];var T=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,w=[0,0],D=function(){function e(e,t){this.x=e,this.y=t}return e}(),E=function(){var e=r._parseInfo(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),n=e.factor;return function(r){var o=t.exec(r);if(e.factor=n,!o)return NaN;var a=o[1];if(!o[1]){if(!o[2])return NaN;a=o[2],e.factor*=-1}return+(a=a.replace(i,\"\").replace(e.decimal,\".\"))*e.factor}}(),S=function(){return\"isInteger\"in Number?Number.isInteger:function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e}}(),j=function(){function e(){this._fieldsIndex=null,this._queryEngine=null}return e.prototype.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null},e.prototype.load=function(e,t){return void 0===t&&(t={}),n(this,void 0,void 0,function(){var n,r,o,a,l;return i(this,function(i){switch(i.label){case 0:return[4,f.all([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)])];case 1:return n=i.sent()[0],r=this._parse(n,e.parsing),this._queryEngine=this._createQueryEngine(n,r),r.layerDefinition.extent=this._queryEngine.fullExtent,r.layerDefinition.timeInfo&&(o=this._queryEngine.timeExtent,a=o.start,l=o.end,r.layerDefinition.timeInfo.timeExtent=[a,l]),[2,r]}})})},e.prototype.applyEdits=function(){return n(this,void 0,void 0,function(){return i(this,function(e){throw new u(\"csv-source:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")})})},e.prototype.queryFeatures=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),n(this,void 0,void 0,function(){return i(this,function(i){return[2,this._queryEngine.executeQuery(e,t.signal)]})})},e.prototype.queryFeatureCount=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),n(this,void 0,void 0,function(){return i(this,function(i){return[2,this._queryEngine.executeQueryForCount(e,t.signal)]})})},e.prototype.queryObjectIds=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),n(this,void 0,void 0,function(){return i(this,function(i){return[2,this._queryEngine.executeQueryForIds(e,t.signal)]})})},e.prototype.queryExtent=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),n(this,void 0,void 0,function(){return i(this,function(i){return[2,this._queryEngine.executeQueryForExtent(e,t.signal)]})})},e.prototype._fetch=function(e,t){return n(this,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:if(!e)throw new u(\"csv-source:invalid-source\",\"url not defined\");return n=c.urlToObject(e),[4,l(n.path,{query:n.query,responseType:\"text\",signal:t.signal})];case 1:return r=i.sent(),[2,r.data]}})})},e.prototype._parse=function(e,t){void 0===t&&(t={});for(var i={columnDelimiter:t.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:t.latitudeField,longitudeFieldName:t.longitudeField}};e&&\"\\n\"===e[0];)e=e.slice(1);\"\\n\"!==e[e.length-1]&&(e+=\"\\n\");var n=this._readFirstLine(e);if(!n)throw new u(\"csv\",\"CSV is empty\",{csv:e});if(!t.columnDelimiter){var r=this._inferDelimiter(n);if(!r)throw new u(\"csv-source:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");i.columnDelimiter=r}var o=n.split(i.columnDelimiter),a=i.layerDefinition={name:\"csv\",drawingInfo:b,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:t.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:t.spatialReference||{wkid:102100}}};if(!t.latitudeField||!t.longitudeField){var l=this._inferLocationInfo(o);if(!t.longitudeField&&!l.longitudeFieldName||!t.latitudeField&&!l.latitudeFieldName)throw new u(\"csv\",\"Unable to identify latitudeField and/or longitudeField from CSV\");i.locationInfo={longitudeFieldName:t.longitudeField||l.longitudeFieldName,latitudeFieldName:t.latitudeField||l.latitudeFieldName}}var s=this._inferFields(e,i.columnDelimiter,o,i.locationInfo);if(t.fields&&t.fields.length){for(var f=new Map,c=0,p=t.fields;c<p.length;c++){var m=p[c];f.set(m.name.toLowerCase(),m)}for(var y=0,g=s;y<g.length;y++){var m=g[y],h=f.get(m.name.toLowerCase());if(h){var v=m.name;d.mixin(m,h),m.name=v}}}if(a.fields=s,!a.fields.some(function(e){return\"esriFieldTypeOID\"===e.type&&(a.objectIdField=e.name,!0)})){var m={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};a.objectIdField=m.name,a.fields.unshift(m)}if(this._fieldsIndex=new _(a.fields),a.timeInfo){var F=a.timeInfo;if(F.startTimeField){var I=this._fieldsIndex.get(F.startTimeField);I?(F.startTimeField=I.name,I.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){var N=this._fieldsIndex.get(F.endTimeField);N?(F.endTimeField=N.name,N.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){var x=this._fieldsIndex.get(F.trackIdField);F.trackIdField=x?x.name:null}F.startTimeField||F.endTimeField||(a.timeInfo=null)}return i},e.prototype._inferLocationInfo=function(e){var i=null,n=null;return e.forEach(function(e){var r,o=e.toLowerCase();r=t.csvLatitudeFieldNames.indexOf(o),-1===r||n||(n=e),-1===(r=t.csvLongitudeFieldNames.indexOf(o))||i||(i=e)}),{longitudeFieldName:i,latitudeFieldName:n}},e.prototype._inferFields=function(e,t,i,n){for(var r=[],o=this._sampleLines(e).map(function(e){return e.split(t).map(function(e){return e.trim()})}),a=this,l=0;l<i.length;l++)!function(e){var t=i[e];if(t===n.longitudeFieldName||t===n.latitudeFieldName)r.push({name:t,type:\"esriFieldTypeDouble\",alias:t});else{var l=o.map(function(t){return t[e]}),u=a._inferFieldType(l),s={name:t,type:null,alias:t};switch(u){case\"integer\":s.type=\"esriFieldTypeInteger\";break;case\"double\":s.type=\"esriFieldTypeDouble\";break;case\"date\":s.type=\"esriFieldTypeDate\",s.length=36;break;default:s.type=\"esriFieldTypeString\",s.length=255}r.push(s)}}(l);return r},e.prototype._inferFieldType=function(e){var t=this;if(!e.length)return\"string\";var i=/[^+-.,0-9]/;return e.map(function(e){var n=!1;if(\"\"===e||i.test(e))n=!0;else{var r=E(e);if(!isNaN(r))return/[.,]/.test(e)?\"double\":!S(r)||r>214783647||r<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))n=!0;else{if(r=Number(e),!isNaN(r))return\"double\";if(-1===e.indexOf(\",\"))n=!0;else{if(e=e.replace(\",\",\".\"),r=Number(e),!isNaN(r))return\"double\";n=!0}}}if(n){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){var o=new Date(e);return t._isValidDate(o,e)?\"date\":\"string\"}return\"string\"}return\"string\"}).reduce(function(e,t){return e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0})},e.prototype._isValidDate=function(e,t){if(!e||\"[object Date]\"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;var i=!0;if(s(\"chrome\")&&/\\d+\\W*$/.test(t)){var n=t.match(/[a-zA-Z]{2,}/);if(n){for(var r=!1,o=0;!r&&o<=n.length;)r=!T.test(n[o]),o++;i=!r}}return i},e.prototype._readFirstLine=function(e){return e.substring(0,e.indexOf(\"\\n\")).trim()},e.prototype._sampleLines=function(e,t){void 0===t&&(t=10);for(var i=!1,n=[],r=e.indexOf(\"\\n\")+1;!i&&n.length<t;){var o=e.indexOf(\"\\n\",r);if(-1!==o){var a=void 0;a=-1===o&&r<e.length-1?e.substring(r).trim():e.substring(r,o).trim(),a&&n.push(a),r=o+1}else i=!0}return n},e.prototype._inferDelimiter=function(e){var i=0,n=\"\";return t.csvDetectedDelimiters.forEach(function(t){var r=e.split(t).length;r>i&&(i=r,n=t)}),\"\"===n?null:n},e.prototype._createQueryEngine=function(e,t){for(var i,n=t.locationInfo,r=n.latitudeFieldName,l=n.longitudeFieldName,u=t.layerDefinition,s=u.objectIdField,d=u.fields,f=u.extent,c=u.timeInfo,F=[],N=[],_=new Set,b=new Set,T=[],S=0,j=d;S<j.length;S++){var q=j[S],O=q.name,L=q.type;\"esriFieldTypeDate\"===L?_.add(O):x.indexOf(L)>-1&&b.add(O),O!==s&&T.push(O)}var C=new o;C.delimiter=t.columnDelimiter,C.fieldNames=T,C.newline=\"\\n\";var V=C.parse(e),k=0;V.shift();for(var R=0,P=V;R<P.length;R++){var M=P[R],G=this._parseCoordinateValue(M[r]),Q=this._parseCoordinateValue(M[l]);if(null!=Q&&null!=G&&!isNaN(G)&&!isNaN(Q)){M[r]=G,M[l]=Q;for(var U in M)if(U!==r&&U!==l)if(_.has(U)){var Y=new Date(M[U]);M[U]=this._isValidDate(Y,M[U])?Y.getTime():null}else if(b.has(U)){var W=E(M[U]);isNaN(W)?M[U]=null:M[U]=W}M[s]=k,k++,F.push(new D(Q,G)),N.push(M)}}if(!m.equals({wkid:4326},f.spatialReference))if(m.isWebMercator(f.spatialReference))for(var $=0,z=F;$<z.length;$++){var A=z[$];i=y.lngLatToXY(A.x,A.y,w),A.x=i[0],A.y=i[1]}else F=p.projectMany(F,a.SpatialReference.WGS84,f.spatialReference,null,!0);for(var Z=new v.default({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1}),B=new I.default({fields:t.layerDefinition.fields,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:c,objectIdField:s,spatialReference:f.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:Z}),H=[],J=0;J<F.length;J++){var X=F[J],K=X.x,ee=X.y,te=N[J];te[s]=J+1,H.push(new g.default(new h.default([],[K,ee]),te,null,te[s]))}return Z.addMany(H),B},e.prototype._parseCoordinateValue=function(e){if(null==e||\"\"===e)return null;var t=E(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t},e.prototype._checkProjection=function(e){return n(this,void 0,void 0,function(){var t;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,F.checkProjectionSupport(m.WGS84,e)];case 1:return i.sent(),[3,3];case 2:throw t=i.sent(),new u(\"csv-layer\",\"Projection not supported\");case 3:return[2]}})})},e}();t.default=j});","define([\n\t'dojo/_base/lang',\n\t'dojo/_base/declare'\n], function (lang, declare) {\n\t// originally from https://github.com/kfranqueiro/dojo-smore/blob/master/Csv.js\n\tvar quoteRx = /^\\s*\"([\\S\\s]*)\"\\s*$/,\n\t\tdoubleQuoteRx = /\"\"/g,\n\t\tsingleQuoteRx = /\"/g;\n\t\n\tfunction arrays2hash(keys, values) {\n\t\t// Takes 2 arrays and builds a hash where the keys are from the first array,\n\t\t// and the values are from the second.\n\t\tvar obj = {},\n\t\t\tlen = keys.length,\n\t\t\ti;\n\t\t\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tobj[keys[i]] = values[i];\n\t\t}\n\t\treturn obj;\n\t}\n\t\n\treturn declare(null, {\n\t\t// summary:\n\t\t//\t\tA store mixin for supporting CSV format.\n\t\t\n\t\t// fieldNames: Array?\n\t\t//\t\tIf specified, indicates names of fields in the order they appear in\n\t\t//\t\tCSV records.  If unspecified, the first line of the CSV will be treated\n\t\t//\t\tas a header row, and field names will be populated from there.\n\t\tfieldNames: null,\n\t\t\n\t\t// delimiter: String\n\t\t//\t\tDelimiter between fields; default is a comma.\n\t\tdelimiter: ',',\n\t\t\n\t\t// newline: String\n\t\t//\t\tCharacter sequence to consider a newline.\n\t\t//\t\tDefaults to '\\r\\n' (CRLF) as per RFC 4180.\n\t\tnewline: '\\r\\n',\n\t\t\n\t\t// trim: Boolean\n\t\t//\t\tIf true, leading/trailing space will be trimmed from any unquoted values.\n\t\ttrim: false,\n\t\t\n\t\tparse: function (str) {\n\t\t\t// handles the parsing of the incoming data as CSV.\t\t\t\n\n\t\t\tvar data = [],\n\t\t\t\tlines = str.split(this.newline),\n\t\t\t\tfieldNames = this.fieldNames,\n\t\t\t\tnumquotes = 0, // tracks number of \" characters encountered\n\t\t\t\tvalues = [], // records values in the current record\n\t\t\t\tvalue = '',\n\t\t\t\tprefix = '', // used to re-add delimiters and newlines to a spanning value\n\t\t\t\tparts, part, numlines, numparts, match,\n\t\t\t\ti, j, k;\n\t\t\t\n\t\t\t// Outer loop iterates over lines.  It's labeled so that inner loop\n\t\t\t// can jump out if an invalid value is encountered.\n\t\t\tlineloop:\n\t\t\tfor (i = 0, numlines = lines.length; i < numlines; i++) {\n\t\t\t\tif (!lang.trim(lines[i])) { continue; } // ignore blank lines\n\t\t\t\tparts = lines[i].split(this.delimiter);\n\t\t\t\t\n\t\t\t\t// Inner loop iterates over \"parts\" (pieces of the line, split by\n\t\t\t\t// the configured delimiter).\n\t\t\t\tfor (j = 0, numparts = parts.length; j < numparts; j++) {\n\t\t\t\t\tpart = parts[j];\n\t\t\t\t\tk = -1;\n\t\t\t\t\t\n\t\t\t\t\t// Apply any leftovers in prefix before the next part, then clear it.\n\t\t\t\t\tvalue += prefix + part;\n\t\t\t\t\tprefix = '';\n\t\t\t\t\t\n\t\t\t\t\t// Count number of quotes in part to see whether we have a matching set.\n\t\t\t\t\twhile ((k = part.indexOf('\"', k + 1)) >= 0) { numquotes++; }\n\t\t\t\t\t\n\t\t\t\t\tif (numquotes % 2 === 0) {\n\t\t\t\t\t\t// Even number of quotes: we're done with this value.\n\t\t\t\t\t\tif (numquotes > 0) {\n\t\t\t\t\t\t\tmatch = quoteRx.exec(value);\n\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t// Good quoted string; unescape any quotes within.\n\t\t\t\t\t\t\t\tvalues.push(match[1].replace(doubleQuoteRx, '\"'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If the completed value didn't match the RegExp, it's invalid\n\t\t\t\t\t\t\t\t// (e.g. quotes were inside the value but not surrounding it).\n\t\t\t\t\t\t\t\t// Jump out of the outer loop and start fresh on the next line.\n\t\t\t\t\t\t\t\tconsole.warn('Csv: discarding row with invalid value: ' + value);\n\t\t\t\t\t\t\t\tvalues = [];\n\t\t\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t\t\t\tnumquotes = 0;\n\t\t\t\t\t\t\t\tcontinue lineloop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// No quotes; push value as-is or trimmed.\n\t\t\t\t\t\t\t// (If this is the header row, trim regardless of setting.)\n\t\t\t\t\t\t\tvalues.push(this.trim || !fieldNames ? lang.trim(value) : value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t\tnumquotes = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Open quoted value: add delimiter to current value on next run.\n\t\t\t\t\t\t// (i.e., we split on an instance of the delimiter character that is\n\t\t\t\t\t\t// actually *inside* a quoted value.)\n\t\t\t\t\t\tprefix = this.delimiter;\n\t\t\t\t\t}\n\t\t\t\t} // End of inner loop (delimited parts)\n\t\t\t\t\n\t\t\t\tif (numquotes === 0) {\n\t\t\t\t\t// Line ended cleanly, push values and reset.\n\t\t\t\t\tif (!fieldNames) {\n\t\t\t\t\t\t// We don't know any field names yet, so pick them up from the\n\t\t\t\t\t\t// first row of data.\n\t\t\t\t\t\tfieldNames = this.fieldNames = values;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.push(arrays2hash(fieldNames, values));\n\t\t\t\t\t}\n\t\t\t\t\tvalues = [];\n\t\t\t\t} else {\n\t\t\t\t\t// We're in the middle of a quoted value with a newline in it,\n\t\t\t\t\t// so add a newline to it on the next iteration.\n\t\t\t\t\tprefix = this.newline;\n\t\t\t\t}\n\t\t\t} // End of outer loop (lines)\n\t\t\t\n\t\t\t// The data is assembled; return\n\t\t\treturn data;\n\t\t},\n\t\ttoCsv: function (options) {\n\t\t\t// summary:\n\t\t\t//\t\tReturns data from Memory store, re-exported to CSV format.\n\t\t\treturn this.stringify(this.data, options);\n\t\t},\n\t\tstringify: function (data, options) {\n\t\t\t// summary:\n\t\t\t//\t\tSerializes data as CSV\n\t\t\t// options: Object?\n\t\t\t//\t\tOptional object specifying options affecting the CSV output.\n\t\t\t//\t\t* alwaysQuote: if true (default), all values will be quoted;\n\t\t\t//\t\t\tif false, values will be quoted only if they need to be.\n\t\t\t//\t\t* trailingNewline: if true, a newline will be included at the end\n\t\t\t//\t\t\tof the string (after the last record).  Default is false.\n\t\t\t\n\t\t\toptions = options || {};\n\t\t\t\n\t\t\tvar alwaysQuote = options.alwaysQuote,\n\t\t\t\tfieldNames = this.fieldNames,\n\t\t\t\tdelimiter = this.delimiter,\n\t\t\t\tnewline = this.newline,\n\t\t\t\toutput = '',\n\t\t\t\ti, j, value, needsQuotes;\n\t\t\t\n\t\t\t// Process header row first (-1 case), then all data rows.\n\t\t\tfor (i = -1; i < data.length; i++) {\n\t\t\t\tif (i > -1) { output += newline; }\n\t\t\t\tfor (j = 0; j < fieldNames.length; j++) {\n\t\t\t\t\tvalue = i < 0 ? fieldNames[j] : data[i][fieldNames[j]];\n\t\t\t\t\tif (value === null || value === undefined) {\n\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof value !== 'string') {\n\t\t\t\t\t\tvalue = value.toString();\n\t\t\t\t\t}\n\t\t\t\t\tneedsQuotes = alwaysQuote ||\n\t\t\t\t\t\tvalue.indexOf('\"') >= 0 || value.indexOf(delimiter) >= 0;\n\t\t\t\t\toutput += (j > 0 ? delimiter : '') +\n\t\t\t\t\t\t(needsQuotes ? '\"' + value.replace(singleQuoteRx, '\"\"') + '\"' : value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (options.trailingNewline) { output += newline; }\n\t\t\t\n\t\t\treturn output;\n\t\t}\n\t});\n});"],"sourceRoot":""}