(function(){(this||window).webpackJsonpareactgis.registerAbsMids({"esri/core/libs/gl-matrix-2/vec4":568,"esri/core/libs/gl-matrix-2/math/vec4":628,"esri/geometry/support/meshUtils/deduplicate":630,"esri/views/3d/support/buffer/BufferView":909,"esri/views/3d/support/buffer/InterleavedLayout":910,"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":911,"esri/views/3d/support/buffer/glUtil":912,"esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":2084,"esri/views/3d/support/meshProcessing":2085,"esri/views/3d/support/buffer/workerHelper":2086,"esri/views/3d/support/buffer/internals/Mat3":2087,"esri/views/3d/support/buffer/internals/Mat4":2088,"esri/views/3d/support/buffer/internals/Scalar":2089,"esri/views/3d/support/buffer/internals/Vec2":2090,"esri/views/3d/support/buffer/internals/Vec3":2091,"esri/views/3d/support/buffer/internals/Vec4":2092,"esri/views/3d/support/buffer/types":2093,"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":2094,"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":2095})})(),(this.webpackJsonpareactgis=this.webpackJsonpareactgis||[]).push([[71],{2084:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(32),r(31),r(459),r(630),r(2085),r(2086),r(911),r(2094),r(2095)],void 0===(i=function(e,t,r,n,i,f,u,o,a,s,c){return function(){function e(){this.regularWriter=new s.RegularEdgeBufferWriter,this.silhouetteWriter=new s.SilhouetteEdgeBufferWriter}return e.prototype.process=function(e,t){return r(this,void 0,void 0,(function(){var r,i,f;return n(this,(function(n){switch(n.label){case 0:return t?(r=new Array,i=this.packInput(e,r),this.wrappedWork,[4,t.invoke("wrappedWork",i,{transferList:r})]):[3,2];case 1:return f=n.sent(),[2,this.unpackOutput(f)];case 2:return[2,this.work(e)]}}))}))},e.prototype.wrappedWork=function(e){return r(this,void 0,void 0,(function(){var t,r,i;return n(this,(function(n){return t=this.unpackInput(e),r=this.work(t),i=new Array,this.packInputTransferables(t,i),[2,{result:this.packOutput(r,i),transferList:i}]}))}))},e.prototype.work=function(e){var t=this.extractEdgeInformation(e.data,e.skipDeduplicate,e.originalIndices);return this.regularWriter.updateSettings(e.writerSettings),this.silhouetteWriter.updateSettings(e.writerSettings),c.extractEdges(t,this.regularWriter,this.silhouetteWriter)},e.prototype.packInputTransferables=function(e,t){t.push(e.data.buffer)},e.prototype.packInput=function(e,t){this.packInputTransferables(e,t);var r={dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate};return e.originalIndices&&(r.originalIndicesBuffer=e.originalIndices.buffer,r.originalIndicesType=i.isUint32Array(e.originalIndices)?"Uint32Array":"Uint16Array"),r},e.prototype.unpackInput=function(e){return{data:a.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}},e.prototype.packOutput=function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:o.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:o.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}},e.prototype.unpackOutput=function(e){return{regular:{instancesData:o.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:o.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},e.prototype.extractEdgeInformation=function(e,t,r){if(t&&r)return{faces:r,neighbors:i=u.computeNeighbors(r,e.count),vertices:e};var n=f.default(e.buffer,e.stride/4,{originalIndices:r}),i=u.computeNeighbors(n.indices,n.uniqueCount);return{faces:n.indices,neighbors:i,vertices:a.EdgeInputBufferLayout.createView(n.buffer)}},e}()}.apply(null,n))||(e.exports=i)},2085:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.computeNeighbors=function(e,t){for(var r=e.length/3,n=new Uint32Array(t+1),i=new Uint32Array(t+1),f=function(e,t){e<t?n[e+1]++:i[t+1]++},u=0;u<r;u++){var o=e[3*u],a=e[3*u+1],s=e[3*u+2];f(o,a),f(a,s),f(s,o)}var c=0,p=0;for(u=0;u<t;u++){var y=n[u+1],l=i[u+1];n[u+1]=c,i[u+1]=p,c+=y,p+=l}var d=new Uint32Array(6*r),h=n[t],v=function(e,t,r){if(e<t){var f=n[e+1]++;d[2*f]=t,d[2*f+1]=r}else{f=i[t+1]++;d[2*h+2*f]=e,d[2*h+2*f+1]=r}};for(u=0;u<r;u++){o=e[3*u],a=e[3*u+1],s=e[3*u+2];v(o,a,u),v(a,s,u),v(s,o,u)}var B=function(e,t){for(var r=2*e,n=t-e,i=1;i<n;i++){for(var f=d[r+2*i],u=d[r+2*i+1],o=i-1;o>=0&&d[r+2*o]>f;o--)d[r+2*o+2]=d[r+2*o],d[r+2*o+3]=d[r+2*o+1];d[r+2*o+2]=f,d[r+2*o+3]=u}};for(u=0;u<t;u++)B(n[u],n[u+1]),B(h+i[u],h+i[u+1]);var m=new Int32Array(3*r),w=function(t,r){return t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1},b=function(e,t){var r=w(e,t);m[3*t+r]=-1};for(u=0;u<t;u++){for(var g=n[u],V=n[u+1],E=i[u],T=i[u+1];g<V&&E<T;){var A=d[2*g];A===(I=d[2*h+2*E])?(function(e,t,r,n){var i=w(e,t);m[3*t+i]=n;var f=w(r,n);m[3*n+f]=t}(u,d[2*g+1],I,d[2*h+2*E+1]),g++,E++):A<I?(b(u,d[2*g+1]),g++):(b(I,d[2*h+2*E+1]),E++)}for(;g<V;)b(u,d[2*g+1]),g++;for(;E<T;){var I;b(I=d[2*h+2*E],d[2*h+2*E+1]),E++}}return m}}.apply(null,n))||(e.exports=i)},2086:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(26),r(909),r(910)],void 0===(i=function(e,t,r,n,i){function f(e){var t=new Array;return e.fields.forEach((function(e,n){var i=r({},e,{constructor:o(e.constructor)});t.push([n,i])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}function u(e){var t=i.newLayout();return t.stride=e.stride,t.fieldNames=e.fieldNames,e.fields.forEach((function(e){return t.fields.set(e[0],r({},e[1],{constructor:a(e[1].constructor)}))})),t}function o(e){return e.ElementType+"_"+e.ElementCount}function a(e){return c.get(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:f(e.layout)}},t.unpackInterleavedBuffer=function(e){return u(e.layout).createView(e.buffer)},t.packLayout=f,t.unpackLayout=u;var s=[n.BufferViewFloat,n.BufferViewVec2f,n.BufferViewVec3f,n.BufferViewVec4f,n.BufferViewMat3f,n.BufferViewMat4f,n.BufferViewFloat64,n.BufferViewVec2f64,n.BufferViewVec3f64,n.BufferViewVec4f64,n.BufferViewMat3f64,n.BufferViewMat4f64,n.BufferViewUint8,n.BufferViewVec2u8,n.BufferViewVec3u8,n.BufferViewVec4u8,n.BufferViewUint16,n.BufferViewVec2u16,n.BufferViewVec3u16,n.BufferViewVec4u16,n.BufferViewUint32,n.BufferViewVec2u32,n.BufferViewVec3u32,n.BufferViewVec4u32,n.BufferViewInt8,n.BufferViewVec2i8,n.BufferViewVec3i8,n.BufferViewVec4i8,n.BufferViewInt16,n.BufferViewVec2i16,n.BufferViewVec3i16,n.BufferViewVec4i16,n.BufferViewInt32,n.BufferViewVec2i32,n.BufferViewVec3i32,n.BufferViewVec4i32],c=new Map;s.forEach((function(e){return c.set(o(e),e)}))}.apply(null,n))||(e.exports=i)},2087:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=9;var f=this.TypedArrayConstructor;void 0===n&&(n=9*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<9;n++)t[n]=this.typedBuffer[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<9;n++)this.typedBuffer[r+n]=t[n]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<9;++o)n[f+o]=i[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=9,e}();t.BufferViewMat3Impl=r}.apply(null,n))||(e.exports=i)},2088:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=16;var f=this.TypedArrayConstructor;void 0===n&&(n=16*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<16;n++)t[n]=this.typedBuffer[r+n];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,n=0;n<16;n++)this.typedBuffer[r+n]=t[n]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<16;++o)n[f+o]=i[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=16,e}();t.BufferViewMat4Impl=r}.apply(null,n))||(e.exports=i)},2089:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=1;var f=this.TypedArrayConstructor;void 0===n&&(n=f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.get=function(e){return this.typedBuffer[e*this.typedBufferStride]},e.prototype.set=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=1,e}();t.BufferViewScalarImpl=r}.apply(null,n))||(e.exports=i)},2090:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(44)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=2;var f=this.TypedArrayConstructor;void 0===n&&(n=2*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec2.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=2,e}();t.BufferViewVec2Impl=n}.apply(null,n))||(e.exports=i)},2091:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(286)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=3;var f=this.TypedArrayConstructor;void 0===n&&(n=3*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec3.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1],n[f+2]=i[u+2]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=3,e}();t.BufferViewVec3Impl=n}.apply(null,n))||(e.exports=i)},2092:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(568)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n,i){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=4;var f=this.TypedArrayConstructor;void 0===n&&(n=4*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==i?new f(t,u):new f(t,u,(i-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=n/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec4.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2],this.typedBuffer[e*this.typedBufferStride+3])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2],this.typedBuffer[e*this.typedBufferStride+3]=t[3]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var n=this.typedBuffer,i=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;n[f]=i[u],n[f+1]=i[u+1],n[f+2]=i[u+2],n[f+3]=i[u+3]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=4,e}();t.BufferViewVec4Impl=n}.apply(null,n))||(e.exports=i)},2093:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(104)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.elementTypeSize=function(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return void r.neverReached(e)}},t.isSigned=function(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return void r.neverReached(e)}},t.isInteger=function(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return void r.neverReached(e)}},t.maximumValue=function(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return void r.neverReached(e)}}}.apply(null,n))||(e.exports=i)},2094:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(26),r(21),r(359),r(286),r(296),r(912),r(911)],void 0===(i=function(e,t,r,n,i,f,u,o,a){function s(e){var t=p;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],l[0]=5381;for(var r=0;r<y.length;r++)l[0]=31*l[0]+y[r];return l[0]}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){}return e.prototype.updateSettings=function(e){this.settings=e},e.prototype.write=function(e,t,r){var n=s(r);d.seed=n;var i=d.getIntRange(0,255),f=d.getIntRange(0,this.settings.variants-1),u=d.getFloat(),o=255*(.5*function(e,t){var r=e<0?-1:1;return Math.pow(Math.abs(e),t)*r}(-(1-Math.min(u/.7,1))+Math.max(0,u-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,f),e.variantExtension.set(t,o)},e.prototype.trim=function(e,t){return e.slice(0,t)},e}();t.CommonBufferWriter=c;var p=new Float32Array(6),y=new Uint32Array(p.buffer),l=new Uint32Array(1),d=new i,h=function(){function e(){this.commonWriter=new c}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return a.RegularEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),f.vec3.add(B,r.faceNormal0,r.faceNormal1),f.vec3.normalize(B,B),e.normal.setVec(t,B)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=a.RegularEdgeInstancesLayout,e.glLayout=o.glLayout(a.RegularEdgeInstancesLayout,{divisor:1}),e}();t.RegularEdgeBufferWriter=h;var v=function(){function e(){this.commonWriter=new c}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return a.SilhouetteEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=a.SilhouetteEdgeInstancesLayout,e.glLayout=o.glLayout(a.SilhouetteEdgeInstancesLayout,{divisor:1}),e}();t.SilhouetteEdgeBufferWriter=v;var B=u.vec3f64.create()}.apply(null,n))||(e.exports=i)},2095:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(325),r(43),r(459),r(286),r(296),r(604)],void 0===(i=function(e,t,r,n,i,f,u,o){function a(e,t){return e.cosAngle<t}function s(e,t){return e.cosAngle>t}function c(e,t){var r=n.acosClamped(e.cosAngle),i=l.fwd,u=l.ortho;return o.directionFromTo(i,e.position1,e.position0),r*(f.vec3.dot(f.vec3.cross(u,e.faceNormal0,e.faceNormal1),i)>0?-1:1)>t}function p(e){for(var t=e.faces.length/3,r=e.vertices.position,n=e.faces,i=d.v0,u=d.v1,o=d.v2,a=new Float32Array(3*t),s=0;s<t;s++){var c=n[3*s+0],p=n[3*s+1],y=n[3*s+2];r.getVec(c,i),r.getVec(p,u),r.getVec(y,o),f.vec3.subtract(u,u,i),f.vec3.subtract(o,o,i),f.vec3.cross(i,u,o),f.vec3.normalize(i,i),a[3*s+0]=i[0],a[3*s+1]=i[1],a[3*s+2]=i[2]}return a}Object.defineProperty(t,"__esModule",{value:!0});var y=-1;t.extractEdges=function(e,t,u,o){void 0===o&&(o=h);var d=e.vertices.position,v=e.vertices.componentIndex,B=n.deg2rad(o.anglePlanar),m=n.deg2rad(o.angleSignificantEdge),w=Math.cos(m),b=Math.cos(B),g=l.edge,V=g.position0,E=g.position1,T=g.faceNormal0,A=g.faceNormal1,I=p(e),M=function(e){for(var t=e.faces.length/3,r=e.faces,n=e.neighbors,i=0,f=0;f<t;f++){var u=n[3*f+0],o=n[3*f+1],a=n[3*f+2],s=r[3*f+0],c=r[3*f+1],p=r[3*f+2];i+=u===y||s<c?1:0,i+=o===y||c<p?1:0,i+=a===y||p<s?1:0}var l=new Int32Array(4*i),d=0;for(f=0;f<t;f++){u=n[3*f+0],o=n[3*f+1],a=n[3*f+2],s=r[3*f+0],c=r[3*f+1],p=r[3*f+2];(u===y||s<c)&&(l[d++]=s,l[d++]=c,l[d++]=f,l[d++]=u),(o===y||c<p)&&(l[d++]=c,l[d++]=p,l[d++]=f,l[d++]=o),(a===y||p<s)&&(l[d++]=p,l[d++]=s,l[d++]=f,l[d++]=a)}return l}(e),S=M.length/4,L=t.allocate(S),O=0,_=S,P=u.allocate(_),N=0,F=0,x=0,j=r.range(0,S),R=new Float32Array(S);i.forEach(R,(function(e,t,r){d.getVec(M[4*t+0],V),d.getVec(M[4*t+1],E),r[t]=f.vec3.distance(V,E)})),j.sort((function(e,t){return R[t]-R[e]}));for(var U=new Array,C=new Array,k=0;k<S;k++){var W=j[k],Y=R[W],D=M[4*W+0],q=M[4*W+1],z=M[4*W+2],J=M[4*W+3],H=J===y;if(d.getVec(D,V),d.getVec(q,E),H)f.vec3.set(T,I[3*z+0],I[3*z+1],I[3*z+2]),f.vec3.copy(A,T),g.componentIndex=v.get(D),g.cosAngle=f.vec3.dot(T,A);else{if(f.vec3.set(T,I[3*z+0],I[3*z+1],I[3*z+2]),f.vec3.set(A,I[3*J+0],I[3*J+1],I[3*J+2]),g.componentIndex=v.get(D),g.cosAngle=f.vec3.dot(T,A),s(g,b))continue;g.cosAngle<-.9999&&f.vec3.copy(A,T)}F+=Y,x++,H||a(g,w)?(t.write(L,O++,g),U.push(Y)):c(g,B)&&(u.write(P,N++,g),C.push(Y))}var G=new Float32Array(U.reverse()),Q=new Float32Array(C.reverse());return{regular:{instancesData:t.trim(L,O),lodInfo:{lengths:G}},silhouette:{instancesData:u.trim(P,N),lodInfo:{lengths:Q}},averageEdgeLength:F/x}};var l={edge:{position0:u.vec3f64.create(),position1:u.vec3f64.create(),faceNormal0:u.vec3f64.create(),faceNormal1:u.vec3f64.create(),componentIndex:0,cosAngle:0},ortho:u.vec3f64.create(),fwd:u.vec3f64.create()},d={v0:u.vec3f64.create(),v1:u.vec3f64.create(),v2:u.vec3f64.create()},h={anglePlanar:4,angleSignificantEdge:35}}.apply(null,n))||(e.exports=i)},568:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(628)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=r}.apply(null,n))||(e.exports=i)},628:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(383)],void 0===(i=function(e,t,r){function n(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function i(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],f=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+f*f)}function o(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],f=t[3]-e[3];return r*r+n*n+i*i+f*f}function a(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}Object.defineProperty(t,"__esModule",{value:!0}),t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},t.set=function(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e},t.subtract=n,t.multiply=i,t.divide=f,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},t.min=function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},t.max=function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},t.scale=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},t.scaleAndAdd=function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},t.distance=u,t.squaredDistance=o,t.length=a,t.squaredLength=s,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},t.normalize=function(e,t){var r=t[0],n=t[1],i=t[2],f=t[3],u=r*r+n*n+i*i+f*f;return u>0&&(u=1/Math.sqrt(u),e[0]=r*u,e[1]=n*u,e[2]=i*u,e[3]=f*u),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},t.lerp=function(e,t,r,n){var i=t[0],f=t[1],u=t[2],o=t[3];return e[0]=i+n*(r[0]-i),e[1]=f+n*(r[1]-f),e[2]=u+n*(r[2]-u),e[3]=o+n*(r[3]-o),e},t.random=function(e,t){var n,i,f,u,o,a;t=t||1;do{o=(n=2*r.RANDOM()-1)*n+(i=2*r.RANDOM()-1)*i}while(o>=1);do{a=(f=2*r.RANDOM()-1)*f+(u=2*r.RANDOM()-1)*u}while(a>=1);var s=Math.sqrt((1-o)/a);return e[0]=t*n,e[1]=t*i,e[2]=t*f*s,e[3]=t*u*s,e},t.transformMat4=function(e,t,r){var n=t[0],i=t[1],f=t[2],u=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*f+r[12]*u,e[1]=r[1]*n+r[5]*i+r[9]*f+r[13]*u,e[2]=r[2]*n+r[6]*i+r[10]*f+r[14]*u,e[3]=r[3]*n+r[7]*i+r[11]*f+r[15]*u,e},t.transformQuat=function(e,t,r){var n=t[0],i=t[1],f=t[2],u=r[0],o=r[1],a=r[2],s=r[3],c=s*n+o*f-a*i,p=s*i+a*n-u*f,y=s*f+u*i-o*n,l=-u*n-o*i-a*f;return e[0]=c*s+l*-u+p*-a-y*-o,e[1]=p*s+l*-o+y*-u-c*-a,e[2]=y*s+l*-a+c*-o-p*-u,e[3]=t[3],e},t.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.equals=function(e,t){var n=e[0],i=e[1],f=e[2],u=e[3],o=t[0],a=t[1],s=t[2],c=t[3];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(f-s)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},t.sub=n,t.mul=i,t.div=f,t.dist=u,t.sqrDist=o,t.len=a,t.sqrLen=s}.apply(null,n))||(e.exports=i)},630:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(43)],void 0===(i=function(e,t,r){function n(e,t,n){var a=e.byteLength/(4*t),s=new Uint32Array(e,0,a*t),c=new Uint32Array(a),p=n&&n.minReduction||0,y=n&&n.originalIndices||null,l=n&&n.componentOffsets||null,d=0;if(l)for(var h=0;h<l.length-1;h++){var v=l[h+1]-l[h];v>d&&(d=v)}else d=a;var B=Math.floor(1.1*d)+1;(null==o||o.length<2*B)&&(o=new Uint32Array(r.nextHighestPowerOfTwo(2*B)));for(h=0;h<2*B;h++)o[h]=0;var m=0,w=1.96,b=0!==p?Math.ceil(4*w*w/(p*p)*p*(1-p)):a,g=1,V=l?l[1]:a;for(h=0;h<a;h++){if(h===b){var E=1-m/h;if(E+w*Math.sqrt(E*(1-E)/h)<p)return null;b*=2}if(h===V){for(var T=0;T<2*B;T++)o[T]=0;V=l[++g]}for(var A=h*t,I=u(s,A,t),M=I%B,S=m;0!==o[2*M+1];){if(o[2*M]===I){var L=o[2*M+1]-1;if(i(s,A,L*t,t)){S=c[L];break}}++M>=B&&(M-=B)}S===m&&(o[2*M]=I,o[2*M+1]=h+1,m++),c[h]=S}if(0!==p&&1-m/a<p)return null;var O=new Uint32Array(t*m);m=0;for(h=0;h<a;h++)c[h]===m&&(f(s,h*t,O,m*t,t),m++);if(y){var _=new Uint32Array(y.length);for(h=0;h<_.length;h++)_[h]=c[y[h]];c=_}return{buffer:O.buffer,indices:c,uniqueCount:m}}function i(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function f(e,t,r,n,i){for(var f=0;f<i;f++)r[n+f]=e[t+f]}function u(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=n;var o=null;t.default=n}.apply(null,n))||(e.exports=i)},909:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(21),r(2087),r(2088),r(2089),r(2090),r(2091),r(2092)],void 0===(i=function(e,t,r,n,i,f,u,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(f.BufferViewScalarImpl);t.BufferViewFloat=s;var c=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(u.BufferViewVec2Impl);t.BufferViewVec2f=c;var p=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(o.BufferViewVec3Impl);t.BufferViewVec3f=p;var y=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(a.BufferViewVec4Impl);t.BufferViewVec4f=y;var l=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(n.BufferViewMat3Impl);t.BufferViewMat3f=l;var d=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(n.BufferViewMat3Impl);t.BufferViewMat3f64=d;var h=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,n,i)||this;return f.elementType="f32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f32",t}(i.BufferViewMat4Impl);t.BufferViewMat4f=h;var v=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(i.BufferViewMat4Impl);t.BufferViewMat4f64=v;var B=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(f.BufferViewScalarImpl);t.BufferViewFloat64=B;var m=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(u.BufferViewVec2Impl);t.BufferViewVec2f64=m;var w=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(o.BufferViewVec3Impl);t.BufferViewVec3f64=w;var b=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,n,i)||this;return f.elementType="f64",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="f64",t}(a.BufferViewVec4Impl);t.BufferViewVec4f64=b;var g=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(f.BufferViewScalarImpl);t.BufferViewUint8=g;var V=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(u.BufferViewVec2Impl);t.BufferViewVec2u8=V;var E=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(o.BufferViewVec3Impl);t.BufferViewVec3u8=E;var T=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,n,i)||this;return f.elementType="u8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u8",t}(a.BufferViewVec4Impl);t.BufferViewVec4u8=T;var A=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(f.BufferViewScalarImpl);t.BufferViewUint16=A;var I=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(u.BufferViewVec2Impl);t.BufferViewVec2u16=I;var M=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(o.BufferViewVec3Impl);t.BufferViewVec3u16=M;var S=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,n,i)||this;return f.elementType="u16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u16",t}(a.BufferViewVec4Impl);t.BufferViewVec4u16=S;var L=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(f.BufferViewScalarImpl);t.BufferViewUint32=L;var O=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(u.BufferViewVec2Impl);t.BufferViewVec2u32=O;var _=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(o.BufferViewVec3Impl);t.BufferViewVec3u32=_;var P=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,n,i)||this;return f.elementType="u32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="u32",t}(a.BufferViewVec4Impl);t.BufferViewVec4u32=P;var N=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(f.BufferViewScalarImpl);t.BufferViewInt8=N;var F=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(u.BufferViewVec2Impl);t.BufferViewVec2i8=F;var x=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(o.BufferViewVec3Impl);t.BufferViewVec3i8=x;var j=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,n,i)||this;return f.elementType="i8",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i8",t}(a.BufferViewVec4Impl);t.BufferViewVec4i8=j;var R=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(f.BufferViewScalarImpl);t.BufferViewInt16=R;var U=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(u.BufferViewVec2Impl);t.BufferViewVec2i16=U;var C=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(o.BufferViewVec3Impl);t.BufferViewVec3i16=C;var k=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,n,i)||this;return f.elementType="i16",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i16",t}(a.BufferViewVec4Impl);t.BufferViewVec4i16=k;var W=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(f.BufferViewScalarImpl);t.BufferViewInt32=W;var Y=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(u.BufferViewVec2Impl);t.BufferViewVec2i32=Y;var D=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(o.BufferViewVec3Impl);t.BufferViewVec3i32=D;var q=function(e){function t(t,r,n,i){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,n,i)||this;return f.elementType="i32",f}return r(t,e),t.fromTypedArray=function(e,r){return new t(e.buffer,e.byteOffset,r,e.byteOffset+e.byteLength)},t.ElementType="i32",t}(a.BufferViewVec4Impl);t.BufferViewVec4i32=q}.apply(null,n))||(e.exports=i)},910:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(909),r(2093)],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(var r=0,n=e.fieldNames;r<n.length;r++){var i=n[r],f=e.fields.get(i);this[i]=new f.constructor(this.buffer,f.offset,this.stride)}}return Object.defineProperty(e.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),e.prototype.getField=function(e,t){var r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null},e.prototype.slice=function(t,r){return new e(this.layout,this.buffer.slice(t*this.stride,r*this.stride))},e.prototype.copyFrom=function(e,t,r,n){var i=this.stride;if(i%4==0){var f=new Uint32Array(e.buffer,t*i,n*i/4);new Uint32Array(this.buffer,r*i,n*i/4).set(f)}else{f=new Uint8Array(e.buffer,t*i,n*i);new Uint8Array(this.buffer,r*i,n*i).set(f)}},e}();t.InterleavedBuffer=i;var f=function(){function e(){this.stride=0,this.fields=new Map,this.fieldNames=[]}return e.prototype.vec2f=function(e,t){return this.appendField(e,r.BufferViewVec2f,t),this},e.prototype.vec2f64=function(e,t){return this.appendField(e,r.BufferViewVec2f64,t),this},e.prototype.vec3f=function(e,t){return this.appendField(e,r.BufferViewVec3f,t),this},e.prototype.vec3f64=function(e,t){return this.appendField(e,r.BufferViewVec3f64,t),this},e.prototype.vec4f=function(e,t){return this.appendField(e,r.BufferViewVec4f,t),this},e.prototype.vec4f64=function(e,t){return this.appendField(e,r.BufferViewVec4f64,t),this},e.prototype.mat3f=function(e,t){return this.appendField(e,r.BufferViewMat3f,t),this},e.prototype.mat3f64=function(e,t){return this.appendField(e,r.BufferViewMat3f64,t),this},e.prototype.mat4f=function(e,t){return this.appendField(e,r.BufferViewMat4f,t),this},e.prototype.mat4f64=function(e,t){return this.appendField(e,r.BufferViewMat4f64,t),this},e.prototype.vec4u8=function(e,t){return this.appendField(e,r.BufferViewVec4u8,t),this},e.prototype.f32=function(e,t){return this.appendField(e,r.BufferViewFloat,t),this},e.prototype.f64=function(e,t){return this.appendField(e,r.BufferViewFloat64,t),this},e.prototype.u8=function(e,t){return this.appendField(e,r.BufferViewUint8,t),this},e.prototype.u16=function(e,t){return this.appendField(e,r.BufferViewUint16,t),this},e.prototype.i8=function(e,t){return this.appendField(e,r.BufferViewInt8,t),this},e.prototype.vec2i8=function(e,t){return this.appendField(e,r.BufferViewVec2i8,t),this},e.prototype.vec2i16=function(e,t){return this.appendField(e,r.BufferViewVec2i16,t),this},e.prototype.vec2u8=function(e,t){return this.appendField(e,r.BufferViewVec2u8,t),this},e.prototype.vec4u16=function(e,t){return this.appendField(e,r.BufferViewVec4u16,t),this},e.prototype.u32=function(e,t){return this.appendField(e,r.BufferViewUint32,t),this},e.prototype.appendField=function(e,t,r){var i=t.ElementCount*n.elementTypeSize(t.ElementType),f=this.stride;this.fields.set(e,{size:i,constructor:t,offset:f,optional:r}),this.stride+=i,this.fieldNames.push(e)},e.prototype.alignTo=function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this},e.prototype.hasField=function(e){return this.fieldNames.indexOf(e)>=0},e.prototype.createBuffer=function(e){return new i(this,e)},e.prototype.createView=function(e){return new i(this,e)},e.prototype.clone=function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach((function(e,r){return t.fields.set(r,e)})),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t},e}();t.InterleavedLayout=f,t.newLayout=function(){return new f}}.apply(null,n))||(e.exports=i)},911:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(912),r(910)],void 0===(i=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeInputBufferLayout=n.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),t.VertexLayout=n.newLayout().vec2u8("sideness"),t.glVertexLayout=r.glLayout(t.VertexLayout),t.CommonInstancesLayout=n.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}).u16("_padding2",{glPadding:!0}),t.RegularEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normal"),t.SilhouetteEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB"),t.EdgeShaderAttributeLocations={position0:0,position1:1,componentIndex:2,variantOffset:4,variantStroke:5,variantExtension:6,normal:7,normalA:7,normalB:8,sideness:9}}.apply(null,n))||(e.exports=i)},912:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(26)],void 0===(i=function(e,t,r){function n(e){var t=f[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}Object.defineProperty(t,"__esModule",{value:!0});var i={divisor:0};t.glLayout=function(e,t){void 0===t&&(t={}),t=r({},i,t);var f=e.stride;return e.fieldNames.filter((function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)})).map((function(r){var i=e.fields.get(r),u=i.constructor.ElementCount,o=n(i.constructor.ElementType),a=i.offset,s=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:f,count:u,type:o,offset:a,normalized:s,divisor:t.divisor}}))};var f={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}.apply(null,n))||(e.exports=i)}}]);
//# sourceMappingURL=71.e9237086.chunk.js.map