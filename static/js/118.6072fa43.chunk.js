(function(){(this||window).webpackJsonpareactgis.registerAbsMids({"esri/layers/mixins/PortalLayer":116,"esri/layers/GroupLayer":303})})(),(this.webpackJsonpareactgis=this.webpackJsonpareactgis||[]).push([[118],{116:function(e,t,i){var r,o;r=[i.dj.c(e.i),t,i(22),i(20),i(31),i(32),i(27),i(24),i(28),i(50),i(23),i(172),i(183)],void 0===(o=function(e,t,r,o,s,a,n,l,p,y,u,h,c){Object.defineProperty(t,"__esModule",{value:!0});var d=l.getLogger("esri.layers.mixins.PortalLayer");t.PortalLayer=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"portalItem",{set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))},enumerable:!0,configurable:!0}),t.prototype.readPortalItem=function(e,t,i){if(t.itemId)return new c({id:t.itemId,portal:i&&i.portal})},t.prototype.writePortalItem=function(e,t){e&&e.id&&(t.itemId=e.id)},t.prototype.loadFromPortal=function(e,t){return a(this,void 0,void 0,(function(){var r,o;return s(this,(function(s){switch(s.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,p.create((function(e){return i.e(106).then(function(){var t=[i(335)];e.apply(null,t)}.bind(this)).catch(i.oe)}))];case 2:return r=s.sent(),p.throwIfAborted(t),[4,r.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),d.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+o),o;case 5:return[2]}}))}))},t.prototype.read=function(e,t){var i=arguments;t&&(t.layer=this),this.inherited(i)},t.prototype.write=function(e,t){var i=t&&t.portal,r=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||h.getDefault());return i&&r&&!y.hasSamePortal(r.restUrl,i.restUrl)?(t.messages&&t.messages.push(new n("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):this.inherited(arguments)},o([u.property({type:c})],t.prototype,"portalItem",null),o([u.reader("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),o([u.writer("portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),o([u.subclass("esri.layers.mixins.PortalLayer")],t)}(u.declared(e))}}.apply(null,r))||(e.exports=o)},303:function(e,t,i){var r,o;r=[i.dj.c(e.i),t,i(22),i(20),i(31),i(32),i(498),i(289),i(23),i(175),i(295),i(155),i(116),i(666),i(285)],void 0===(o=function(e,t,i,r,o,s,a,n,l,p,y,u,h,c){return function(e){function t(t){var i=e.call(this,t)||this;return i._visibilityHandles={},i.fullExtent=void 0,i.operationalLayerType="GroupLayer",i.spatialReference=void 0,i.type="group",i._visibilityWatcher=i._visibilityWatcher.bind(i),i}return i(t,e),t.prototype.initialize=function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)},t.prototype._writeLayers=function(e,t,i,r){var o=[];if(!e)return o;e.forEach((function(e){if("write"in e&&e.write){var t=e.write(null,r);t&&t.layerType&&o.push(t)}})),t.layers=o},Object.defineProperty(t.prototype,"portalItem",{set:function(e){this._set("portalItem",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibilityMode",{set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)},enumerable:!0,configurable:!0}),t.prototype.load=function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),this.when()},t.prototype.loadAll=function(){var e=this;return a.loadAll(this,(function(t){t(e.layers)}))},t.prototype.layerAdded=function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)},t.prototype.layerRemoved=function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)},t.prototype._turnOffOtherLayers=function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))},t.prototype._enforceVisibility=function(e,t){if(p.getProperties(this).initialized){var i=this.layers,r=i.find((function(e){return e.visible}));switch(e){case"exclusive":i.length&&!r&&((r=i.getItemAt(0)).visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach((function(e){e.visible=t}))}}},t.prototype._visibleWatcher=function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))},t.prototype._visibilityWatcher=function(e,t,i,r){var o=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(o):this._isAnyLayerVisible()||(o.visible=!0);break;case"inherited":o.visible=this.visible}},t.prototype._isAnyLayerVisible=function(){return this.layers.some((function(e){return e.visible}))},r([l.property()],t.prototype,"fullExtent",void 0),r([l.property({json:{read:!1,write:{ignoreOrigin:!0}}})],t.prototype,"layers",void 0),r([l.writer("layers")],t.prototype,"_writeLayers",null),r([l.property({type:["GroupLayer"]})],t.prototype,"operationalLayerType",void 0),r([l.property({json:{origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"portalItem",null),r([l.property()],t.prototype,"spatialReference",void 0),r([l.property({json:{read:!1},readOnly:!0,value:"group"})],t.prototype,"type",void 0),r([l.property({type:String,value:"independent",json:{write:!0}})],t.prototype,"visibilityMode",null),r([l.subclass("esri.layers.GroupLayer")],t)}(l.declared(u.OperationalLayer(h.PortalLayer(c.LayersMixin(n.MultiOriginJSONMixin(y))))))}.apply(null,r))||(e.exports=o)}}]);
//# sourceMappingURL=118.6072fa43.chunk.js.map