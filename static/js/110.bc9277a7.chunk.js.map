{"version":3,"sources":["../node_modules/arcgis-js-api/symbols/support/styleUtils.js","../node_modules/arcgis-js-api/core/devEnvironmentUtils.js","../node_modules/arcgis-js-api/support/featureFlags.js"],"names":["define","e","t","r","n","l","o","a","s","i","u","m","y","f","c","b","d","portal","getDefault","url","user","username","D","load","then","disableExtraQuery","query","E","F","queryItems","results","toLowerCase","Array","isArray","length","typeKeywords","some","type","owner","styleName","v","fetchData","data","baseUrl","itemUrl","h","styleUrl","O","removeFile","p","reject","g","urlToObject","origin","items","name","fromJSON","w","thumbnail","href","imageData","isDevEnvironment","adjustStaticAGOUrl","value","N","isSymbol3D","default","styleOrigin","symbolName","symbol","cimRef","formatInfos","enableWebStyleForceWOSR","webRef","responseType","normalize","Object","defineProperty","fetchStyle","resolveWebStyleSymbol","R","replace","j","fetchSymbolFromStyle","styleNameFromItem","test","location","hostname","match","isTelemetryDevEnvironment","concat","hasEnableFeature","enableEditing3D"],"mappings":"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","file":"static/js/110.bc9277a7.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/assignHelper\",\"../../request\",\"../../symbols\",\"../../core/devEnvironmentUtils\",\"../../core/Error\",\"../../core/promiseUtils\",\"../../core/urlUtils\",\"../../portal/Portal\",\"../../portal/PortalQueryParams\",\"../../support/featureFlags\",\"./jsonUtils\",\"./StyleOrigin\",\"./Thumbnail\"],function(e,t,r,n,l,o,a,s,i,u,m,y,f,c,b){function p(e,t){return O(e,t).then(function(t){return{data:t.data,baseUrl:i.removeFile(e),styleUrl:e}})}function d(e,t,r){var n,l=t.portal||u.getDefault(),o=l.url+\" - \"+(l.user&&l.user.username)+\" - \"+e;return D[o]||(D[o]=v(e,l,r).then(function(e){return n=e,e.fetchData()}).then(function(t){return{data:t,baseUrl:n.itemUrl,styleName:e}})),D[o]}function v(e,t,r){return t.load(r).then(function(){var n=new m({disableExtraQuery:!0,query:\"owner:\"+E+\" AND type:\"+F+' AND typekeywords:\"'+e+'\"'});return t.queryItems(n,r)}).then(function(t){var n=t.results,l=null,o=e.toLowerCase();if(n&&Array.isArray(n))for(var s=0,i=n;s<i.length;s++){var u=i[s],m=u.typeKeywords.some(function(e){return e.toLowerCase()===o});if(m&&u.type===F&&u.owner===E){l=u;break}}if(!l)throw new a(\"symbolstyleutils:style-not-found\",\"The style '\"+e+\"' could not be found\",{styleName:e});return l.load(r)})}function h(e,t,r){return e.styleUrl?p(e.styleUrl,r):e.styleName?d(e.styleName,t,r):s.reject(new a(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function S(e,t,r,n){return e.name?e.styleName&&\"Esri2DPointSymbolsStyle\"===e.styleName?j(e,t,n):h(e,t,n).then(function(l){return g(l,e.name,t,r,n)}):s.reject(new a(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function g(e,t,r,n,u){for(var m=e.data,y={portal:r.portal,url:i.urlToObject(e.baseUrl),origin:\"portal-item\"},p=0,d=m.items;p<d.length;p++){var v=d[p],h=function(a){if(a.name!==t)return\"continue\";var s=i.fromJSON(w(a,n),y),m=a.thumbnail&&a.thumbnail.href,p=a.thumbnail&&a.thumbnail.imageData;o.isDevEnvironment()&&(s=o.adjustStaticAGOUrl(s),m=o.adjustStaticAGOUrl(m));var d={portal:r.portal,url:i.urlToObject(i.removeFile(s)),origin:\"portal-item\"};return{value:O(s,u).then(function(o){var a=\"cimRef\"===n?N(o.data):o.data,s=f.fromJSON(a,d);if(s&&l.isSymbol3D(s)){if(m){var u=i.fromJSON(m,y);s.thumbnail=new b.default({url:u})}else p&&(s.thumbnail=new b.default({url:\"data:image/png;base64,\"+p}));e.styleUrl?s.styleOrigin=new c({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(s.styleOrigin=new c({portal:r.portal,styleName:e.styleName,name:t}))}return s})}}(v);if(\"object\"==typeof h)return h.value}return s.reject(new a(\"symbolstyleutils:symbol-name-not-found\",\"The symbol name '\"+t+\"' could not be found\",{symbolName:t}))}function N(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function w(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!y.enableWebStyleForceWOSR())for(var r=0,n=e.formatInfos;r<n.length;r++){var l=n[r];if(\"gltf\"===l.type)return l.href}return e.webRef}function U(e){for(var t=0,r=e.typeKeywords;t<r.length;t++){var n=r[t];if(/^Esri.*Style$/.test(n)&&\"Esri Style\"!==n)return n}}function j(e,t,r){var n=R.replace(/\\{SymbolName\\}/gi,e.name);return O(n,r).then(function(e){var r=N(e.data);return f.fromJSON(r,{portal:t.portal,url:i.urlToObject(i.removeFile(n)),origin:\"portal-item\"})})}function O(e,t){var l=r({responseType:\"json\",query:{f:\"json\"}},t);return n(i.normalize(e),l)}Object.defineProperty(t,\"__esModule\",{value:!0});var D={};t.fetchStyle=h,t.resolveWebStyleSymbol=S,t.fetchSymbolFromStyle=g,t.styleNameFromItem=U;var E=\"esri_en\",F=\"Style\",R=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\"});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"./global\"],function(c,t,a){function e(c){return c=c||a.location.hostname,g.some(function(t){return null!=c.match(t)})}function r(c,t){return c?(t=t||a.location.hostname,null!=t.match(n)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(l)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(s)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):null!=t.match(u)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c):c}function i(c){return c=c||a.location.hostname,[/^zrh-.+?\\.esri\\.com$/].concat(g).some(function(t){return null!=c.match(t)})}Object.defineProperty(t,\"__esModule\",{value:!0}),t.isDevEnvironment=e,t.adjustStaticAGOUrl=r,t.isTelemetryDevEnvironment=i;var o=/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,n=/^devext.arcgis.com$/,s=/^qaext.arcgis.com$/,m=/^jsapps.esri.com$/,l=/^[\\w-]*\\.mapsdevext.arcgis.com$/,u=/^[\\w-]*\\.mapsqa.arcgis.com$/,g=[o,n,s,m,l,u]});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../core/has\"],function(e,n,r){function t(e,n){return!!r(\"enable-feature:\"+e+\"/\"+n)}Object.defineProperty(n,\"__esModule\",{value:!0}),n.hasEnableFeature=t,n.enableWebStyleForceWOSR=function(){return t(\"jschmid\",\"force-wosr\")},n.enableEditing3D=function(){return t(\"editing\",\"3d\")}});"],"sourceRoot":""}