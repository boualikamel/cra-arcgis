{"version":3,"sources":["../node_modules/arcgis-js-api/tasks/support/Query.js","../node_modules/arcgis-js-api/tasks/support/StatisticDefinition.js","../node_modules/arcgis-js-api/layers/graphics/data/FeatureFilter.js"],"names":["define","t","e","r","o","i","n","s","p","a","l","u","y","c","d","m","h","v","w","default","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","f","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","call","this","cacheHint","datumTransformation","distance","gdbVersion","geometry","geometryPrecision","groupByFieldsForStatistics","having","historicMoment","maxAllowableOffset","maxRecordCountFactor","multipatchOption","num","objectIds","orderByFields","outFields","outSpatialReference","outStatistics","parameterValues","pixelSize","quantizationParameters","rangeValues","relationParameter","resultType","returnCentroid","returnDistinctValues","returnExceededLimitFeatures","returnGeometry","returnQueryGeometry","returnM","returnZ","source","spatialRelationship","start","sqlFormat","text","timeExtent","units","where","from","ensureClass","prototype","castDatumTransformation","writeHistoricMoment","getTime","writeParameterValues","Array","isArray","map","Date","writeStart","resultOffset","resultRecordCount","writeWhere","clone","MAX_MAX_RECORD_COUNT_FACTOR","property","type","Boolean","json","write","cast","Number","overridePolicy","enabled","String","types","geometryTypes","read","fromJSON","writer","SpatialReference","target","symbolTypes","Object","reader","subclass","declared","JSONSupport","maxPointCount","maxRecordCount","maxVertexCount","onStatisticField","outStatisticFieldName","statisticType","_","defineProperty","value","g","getLogger","I","_geometryBounds","create","_idToVisibility","Map","check","objectId","_applyFilter","set","b","get","_serviceInfo","_hash","enumerable","configurable","clear","_resetAllHiddenIds","update","show","hide","invalidate","forEach","setKnownIds","length","setTrue","createSetFromValues","has","push","createQuery","spatialRel","label","JSON","stringify","normalizeQueryLike","sent","all","_setGeometryFilter","_setIdFilter","_setAttributeFilter","_setTimeFilter","_clause","getWhereClause","fieldsIndex","isStandardized","error","_idsToShow","_idsToHide","hiddenIds","getSpatialQueryOperator","_spatialQueryOperator","getBoundsXY","_timeOperator","timeInfo","getTimeOperator","optimizedFeatureQueryEngineAdapter","_filterByGeometry","_filterById","_filterByTime","_filterByExpression","testFeature","_earlyGeometryReject","isSome","coords","centroid","containsPoint"],"mappings":"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","file":"static/js/113.37de95c7.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../geometry\",\"../../geometry\",\"../../symbols\",\"../../TimeExtent\",\"../../core/jsonMap\",\"../../core/JSONSupport\",\"../../core/lang\",\"../../core/accessorSupport/decorators\",\"../../core/accessorSupport/ensureType\",\"../../geometry/support/jsonUtils\",\"../../symbols/support/jsonUtils\",\"./QuantizationParameters\",\"./StatisticDefinition\"],function(t,e,r,o,i,n,s,p,a,l,u,y,c,d,m,h,v){var w=new a.default({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),f=new a.default({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});return function(t){function e(e){var r=t.call(this,e)||this;return r.cacheHint=!1,r.datumTransformation=null,r.distance=void 0,r.gdbVersion=null,r.geometry=null,r.geometryPrecision=void 0,r.groupByFieldsForStatistics=null,r.having=null,r.historicMoment=null,r.maxAllowableOffset=void 0,r.maxRecordCountFactor=1,r.multipatchOption=null,r.num=void 0,r.objectIds=null,r.orderByFields=null,r.outFields=null,r.outSpatialReference=null,r.outStatistics=null,r.parameterValues=null,r.pixelSize=null,r.quantizationParameters=null,r.rangeValues=null,r.relationParameter=null,r.resultType=null,r.returnCentroid=!1,r.returnDistinctValues=!1,r.returnExceededLimitFeatures=!0,r.returnGeometry=!1,r.returnQueryGeometry=!1,r.returnM=void 0,r.returnZ=void 0,r.source=null,r.spatialRelationship=\"intersects\",r.start=void 0,r.sqlFormat=null,r.text=null,r.timeExtent=null,r.units=null,r.where=null,r}r(e,t),a=e,e.from=function(t){return c.ensureClass(a,t)},e.prototype.castDatumTransformation=function(t){return\"number\"==typeof t||\"object\"==typeof t?t:null},e.prototype.writeHistoricMoment=function(t,e){e.historicMoment=t&&t.getTime()},e.prototype.writeParameterValues=function(t,e){if(t){var r={};for(var o in t){var i=t[o];Array.isArray(i)?r[o]=i.map(function(t){return t instanceof Date?t.getTime():t}):i instanceof Date?r[o]=i.getTime():r[o]=i}e.parameterValues=r}},e.prototype.writeStart=function(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,e.where=\"1=1\"},e.prototype.writeWhere=function(t,e){e.where=t||\"1=1\"},e.prototype.clone=function(){return new a(u.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var a;return e.MAX_MAX_RECORD_COUNT_FACTOR=5,o([y.property({type:Boolean,json:{write:!0,default:!1}})],e.prototype,\"cacheHint\",void 0),o([y.property({json:{write:!0}})],e.prototype,\"datumTransformation\",void 0),o([y.cast(\"datumTransformation\")],e.prototype,\"castDatumTransformation\",null),o([y.property({type:Number,json:{write:{overridePolicy:function(t){return{enabled:t>0}}}}})],e.prototype,\"distance\",void 0),o([y.property({type:String,json:{write:!0}})],e.prototype,\"gdbVersion\",void 0),o([y.property({types:n.geometryTypes,json:{read:d.fromJSON,write:!0}})],e.prototype,\"geometry\",void 0),o([y.property({type:Number,json:{write:!0}})],e.prototype,\"geometryPrecision\",void 0),o([y.property({type:[String],json:{write:!0}})],e.prototype,\"groupByFieldsForStatistics\",void 0),o([y.property({type:String,json:{write:!0}})],e.prototype,\"having\",void 0),o([y.property({type:Date})],e.prototype,\"historicMoment\",void 0),o([y.writer(\"historicMoment\")],e.prototype,\"writeHistoricMoment\",null),o([y.property({type:Number,json:{write:!0}})],e.prototype,\"maxAllowableOffset\",void 0),o([y.property({type:Number,cast:function(t){return t<1?1:t>a.MAX_MAX_RECORD_COUNT_FACTOR?a.MAX_MAX_RECORD_COUNT_FACTOR:t},json:{write:{overridePolicy:function(t){return{enabled:t>1}}}}})],e.prototype,\"maxRecordCountFactor\",void 0),o([y.property({type:String,json:{write:!0}})],e.prototype,\"multipatchOption\",void 0),o([y.property({type:Number,json:{read:{source:\"resultRecordCount\"}}})],e.prototype,\"num\",void 0),o([y.property({type:[Number],json:{write:!0}})],e.prototype,\"objectIds\",void 0),o([y.property({type:[String],json:{write:!0}})],e.prototype,\"orderByFields\",void 0),o([y.property({type:[String],json:{write:!0}})],e.prototype,\"outFields\",void 0),o([y.property({type:i.SpatialReference,json:{read:{source:\"outSR\"},write:{target:\"outSR\"}}})],e.prototype,\"outSpatialReference\",void 0),o([y.property({type:[v],json:{write:!0}})],e.prototype,\"outStatistics\",void 0),o([y.property({json:{write:!0}})],e.prototype,\"parameterValues\",void 0),o([y.writer(\"parameterValues\")],e.prototype,\"writeParameterValues\",null),o([y.property({types:s.symbolTypes,json:{read:m.read,write:!0}})],e.prototype,\"pixelSize\",void 0),o([y.property({type:h.default,json:{write:!0}})],e.prototype,\"quantizationParameters\",void 0),o([y.property({type:[Object],json:{write:!0}})],e.prototype,\"rangeValues\",void 0),o([y.property({type:String,json:{read:{source:\"relationParam\"},write:{target:\"relationParam\",overridePolicy:function(){return{enabled:\"relation\"===this.spatialRelationship}}}}})],e.prototype,\"relationParameter\",void 0),o([y.property({type:String,json:{write:!0}})],e.prototype,\"resultType\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:t}}}}})],e.prototype,\"returnCentroid\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:t}}}}})],e.prototype,\"returnDistinctValues\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:!t}}}}})],e.prototype,\"returnExceededLimitFeatures\",void 0),o([y.property({type:Boolean,json:{write:!0}})],e.prototype,\"returnGeometry\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:t}}}}})],e.prototype,\"returnQueryGeometry\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:t}}}}})],e.prototype,\"returnM\",void 0),o([y.property({type:Boolean,json:{write:{overridePolicy:function(t){return{enabled:t}}}}})],e.prototype,\"returnZ\",void 0),o([y.property({json:{write:!0}})],e.prototype,\"source\",void 0),o([y.property({type:String,json:{read:{source:\"spatialRel\",reader:w.read},write:{target:\"spatialRel\",writer:w.write}}})],e.prototype,\"spatialRelationship\",void 0),o([y.property({type:Number,json:{read:{source:\"resultOffset\"}}})],e.prototype,\"start\",void 0),o([y.writer(\"start\"),y.writer(\"num\")],e.prototype,\"writeStart\",null),o([y.property({type:String,json:{write:!0}})],e.prototype,\"sqlFormat\",void 0),o([y.property({type:String,json:{write:!0}})],e.prototype,\"text\",void 0),o([y.property({type:p,json:{write:!0}})],e.prototype,\"timeExtent\",void 0),o([y.property({type:String,json:{read:f.read,write:{writer:f.write,overridePolicy:function(t){return{enabled:t&&this.distance>0}}}}})],e.prototype,\"units\",void 0),o([y.property({type:String,json:{write:{overridePolicy:function(t){return{enabled:null!=t||this.start>0}}}}})],e.prototype,\"where\",void 0),o([y.writer(\"where\")],e.prototype,\"writeWhere\",null),e=a=o([y.subclass(\"esri.tasks.support.Query\")],e)}(y.declared(l.JSONSupport))});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/JSONSupport\",\"../../core/accessorSupport/decorators\"],function(t,e,o,i,r,p){return function(t){function e(e){var o=t.call(this,e)||this;return o.maxPointCount=void 0,o.maxRecordCount=void 0,o.maxVertexCount=void 0,o.onStatisticField=null,o.outStatisticFieldName=null,o.statisticType=null,o}o(e,t),r=e,e.prototype.clone=function(){return new r({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})};var r;return i([p.property({type:Number,json:{write:!0}})],e.prototype,\"maxPointCount\",void 0),i([p.property({type:Number,json:{write:!0}})],e.prototype,\"maxRecordCount\",void 0),i([p.property({type:Number,json:{write:!0}})],e.prototype,\"maxVertexCount\",void 0),i([p.property({type:String,json:{write:!0}})],e.prototype,\"onStatisticField\",void 0),i([p.property({type:String,json:{write:!0}})],e.prototype,\"outStatisticFieldName\",void 0),i([p.property({type:String,json:{write:!0}})],e.prototype,\"statisticType\",void 0),e=r=i([p.subclass(\"esri.tasks.support.StatisticDefinition\")],e)}(p.declared(r.JSONSupport))});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../core/tsSupport/awaiterHelper\",\"../../../core/tsSupport/assignHelper\",\"../../../core/tsSupport/generatorHelper\",\"../../../core/Error\",\"../../../core/iteratorUtils\",\"../../../core/Logger\",\"../../../core/maybe\",\"../../../core/promiseUtils\",\"../../../geometry/support/aaBoundingRect\",\"../../../geometry/support/boundsUtils\",\"./attributeSupport\",\"./optimizedFeatureQueryEngineAdapter\",\"./spatialQuerySupport\",\"./timeSupport\",\"./utils\",\"../../../tasks/support/Query\"],function(e,t,i,r,o,s,n,a,l,u,p,h,d,c,y,f,_,m){Object.defineProperty(t,\"__esModule\",{value:!0});var g=a.getLogger(\"esri.views.2d.layers.features.controllers.FeatureFilter\"),b=1,v=2,I=function(){function e(e){var t=this;this._geometryBounds=p.create(),this._idToVisibility=new Map,this.check=function(e){var i=e.objectId,r=t._idToVisibility,o=t._applyFilter(e);return r.set(i,o?b|v:v),!!(r.get(i)&b)},this._serviceInfo=e}return Object.defineProperty(e.prototype,\"hash\",{get:function(){return this._hash},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this._resetAllHiddenIds();return this.update(),{show:e,hide:[]}},e.prototype.invalidate=function(){var e=this;this._idToVisibility.forEach(function(t,i){e._idToVisibility.set(i,0)})},e.prototype.setKnownIds=function(e){for(var t=0,i=e;t<i.length;t++){var r=i[t];this._idToVisibility.set(r,b)}},e.prototype.setTrue=function(e){var t=this,i=[],r=[],o=n.createSetFromValues(e);return this._idToVisibility.forEach(function(e,s){var n=!!(t._idToVisibility.get(s)&b),a=o.has(s);!n&&a?i.push(s):n&&!a&&r.push(s),t._idToVisibility.set(s,a?b|v:0)}),{show:i,hide:r}},e.prototype.createQuery=function(){var e=this,t=e.geometry,i=e.spatialRel,r=e.where,o=e.timeExtent,s=e.objectIds;return m.fromJSON({geometry:t,spatialRel:i,where:r,timeExtent:o,objectIds:s})},e.prototype.update=function(e,t){return i(this,void 0,void 0,function(){var i;return o(this,function(r){switch(r.label){case 0:return this._hash=JSON.stringify(e),[4,_.normalizeQueryLike(e,null,t)];case 1:return i=r.sent(),[4,u.all([this._setGeometryFilter(i),this._setIdFilter(i),this._setAttributeFilter(i),this._setTimeFilter(i)])];case 2:return r.sent(),[2]}})})},e.prototype._setAttributeFilter=function(e){if(!e||!e.where)return this._clause=null,void(this.where=null);var t=d.getWhereClause(e.where,this._serviceInfo.fieldsIndex);if(t.isStandardized)this._clause=t;else{var i=new s(\"mapview - bad input\",\"Unable to apply filter's definition expression, as expression is not standardized.\",t);g.error(i)}this.where=e.where},e.prototype._setIdFilter=function(e){this._idsToShow=e&&e.objectIds&&n.createSetFromValues(e.objectIds),this._idsToHide=e&&e.hiddenIds&&n.createSetFromValues(e.hiddenIds),this.objectIds=e&&e.objectIds},e.prototype._setGeometryFilter=function(e){return i(this,void 0,void 0,function(){var t,i,r;return o(this,function(o){switch(o.label){case 0:return e&&e.geometry?(t=e.geometry,i=e.spatialRel||\"esriSpatialRelIntersects\",[4,y.getSpatialQueryOperator(i,t,this._serviceInfo)]):(this._spatialQueryOperator=null,this.geometry=null,this.spatialRel=null,[2]);case 1:return r=o.sent(),h.getBoundsXY(this._geometryBounds,t),this._spatialQueryOperator=r,this.geometry=t,this.spatialRel=i,[2]}})})},e.prototype._setTimeFilter=function(e){if(this.timeExtent=this._timeOperator=null,e&&e.timeExtent){if(!this._serviceInfo.timeInfo){var t=new s(\"feature-layer-view:time-filter-not-available\",\"Unable to apply time filter, as layer doesn't have time metadata.\",e.timeExtent);return void g.error(t)}this.timeExtent=e.timeExtent,this._timeOperator=f.getTimeOperator(this._serviceInfo.timeInfo,e.timeExtent,c.optimizedFeatureQueryEngineAdapter)}},e.prototype._applyFilter=function(e){return this._filterByGeometry(e)&&this._filterById(e)&&this._filterByTime(e)&&this._filterByExpression(e)},e.prototype._filterByExpression=function(e){return!this.where||this._clause.testFeature(e)},e.prototype._filterById=function(e){return(!this._idsToHide||!this._idsToHide.has(e.objectId))&&(!this._idsToShow||this._idsToShow.has(e.objectId))},e.prototype._filterByGeometry=function(e){return!this.geometry||!!this._earlyGeometryReject(e)&&this._spatialQueryOperator(e.geometry)},e.prototype._filterByTime=function(e){return!l.isSome(this._timeOperator)||this._timeOperator(e)},e.prototype._earlyGeometryReject=function(e){return!(!e.geometry||!e.geometry.coords.length)&&(!e.centroid||\"esriSpatialRelContains\"!==this.spatialRel||p.containsPoint(this._geometryBounds,e.centroid.coords))},e.prototype._resetAllHiddenIds=function(){var e=this,t=[];return this._idToVisibility.forEach(function(i,r){i&b||(e._idToVisibility.set(r,b),t.push(r))}),t},e}();t.default=I});"],"sourceRoot":""}