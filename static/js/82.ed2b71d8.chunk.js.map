{"version":3,"sources":["../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js","../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js","../node_modules/arcgis-js-api/core/libs/gl-matrix-2/mat4f64.js","../node_modules/arcgis-js-api/core/libs/gl-matrix-2/mat3f64.js","../node_modules/arcgis-js-api/core/libs/gl-matrix-2/factories/mat3f64.js","../node_modules/arcgis-js-api/core/libs/gl-matrix-2/factories/mat4f64.js","../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js","../node_modules/arcgis-js-api/views/3d/layers/support/FastSymbolUpdates.js","../node_modules/arcgis-js-api/views/3d/support/debugFlags.js","../node_modules/arcgis-js-api/views/2d/engine/FeatureContainer.js","../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js"],"names":["define","e","t","i","r","a","s","l","o","n","u","p","f","d","c","Object","defineProperty","value","y","apply","this","arguments","prototype","install","WGLFeatureView","tileInfoView","layerView","layer","featuresView","addChild","uninstall","removeChild","destroy","hitTest","supportsRenderer","indexOf","type","onConfigUpdate","simplifyVVRenderer","visualVariables","map","clone","normalizationField","valueExpression","field","convertVisualVariables","setRendererInfo","effects","setClips","clips","onTileData","tiles","get","tileKey","data","view","labelManager","requestUpdate","onTileError","forceAttributeTextureUpload","attributeView","forceTextureUpload","lockAttributeTextureUpload","lockTextureUpload","unlockAttributeTextureUpload","unlockTextureUpload","getMaterialItems","invalidateLabels","labelingInfo","labelsVisible","forEach","isDirty","createTile","getTileBounds","create","WGLTile","addTile","disposeTile","removeTile","key","id","subclass","declared","default","call","_pointToCallbacks","Map","_layer","_layerView","renderChildren","hasAnimation","painter","integrate","draw","createResolver","set","requestRender","promise","doRender","minScale","maxScale","state","scale","hasLabels","enumerable","configurable","length","prepareRenderPasses","registerRenderPass","name","brushes","Label","target","children","drawPhase","WGLDrawPhase","LABEL","LABEL_ALPHA","Fill","Line","Marker","Text","highlight","enable","hasHighlight","hittest","size","args","concat","FeatureContainer","mat4f64","mat3f64","fromValues","createView","Float64Array","w","IDENTITY","toPt","expression","stops","values","opacities","Utils","isString","Math","min","opacity","S","enums","WGLVVFlag","getVisualVariableSizeValueRepresentationRatio","sqrt","stopToSizeStop","normalizeSizeStops","normalizeSizeElement","getVisualVariablesFields","z","push","NAN_MAGIC_NUMBER","pt2px","Float32Array","sizes","vvFields","vvRanges","v","getTypeOfSizeVisualVariable","SIZE_MINMAX_VALUE","minMaxValue","minDataValue","maxDataValue","minSize","maxSize","SIZE_SCALE_STOPS","scaleStops","SIZE_FIELD_STOPS","levels","m","fieldStops","SIZE_UNIT_VALUE","unitValue","unit","valueUnit","valueRepresentation","modelSize","symbolSize","unitInMeters","transformation","color","V","premultiplyAlpha","colors","g","rotation","rotationType","D","console","warn","info","x","useSymbolValue","offset","factor","h","meterIn","abs","axis","M","b","F","E","supportedTypes","reduce","opacityValues","T","O","neverReached","C","U","I","P","vvSizeEnabled","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorEnabled","vvColorValues","vvColorColors","vvOpacityEnabled","vvOpacityValues","vvOpacityOpacities","vvSymbolAnchor","vvSymbolRotationMatrix","anchor","mat4","identity","k","rotateZ","PI","rotateX","rotateY","mat3","fromMat4","R","_","initFastSymbolUpdatesState","enabled","DISABLE_FAST_UPDATES","materialParameters","requiresShaderTransformation","updateFastSymbolUpdatesState","getMaterialParams","vec3f64","evaluateModelTransform","copy","multiply","clamp","translate","evaluateModelTransformScale","vec3","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED","HIGHLIGHTS_VISUALIZE_BLOCKS","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_OUTLINES","DECONFLICTOR_SHOW_OUTLINES_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_TEST_TEXTURE","OVERLAY_SHOW_CENTER","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","ENABLE_PROFILE_DEPTH_RANGE","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","property","_rendererInfo","WGLRendererInfo","AttributeStoreView","removeAllChildren","whenAttached","attached","resolve","once","setInfo","label","sent","stage","textureManager","rasterizeItem","symbol","glyphIds","all","mosaicItem","addOrUpdate","setData","TileData","decode","contains","clear","update","bindTextures","context","_tileInfoView","destroyTile","attach","_initializeExtensions","createRenderParams","rendererInfo","capabilities","textureFloat","vao","TileContainer","isUpdating","acquireTile","notifyChange","forEachTile","releaseTile","delete","isReady","setHighlight","HandleOwner"],"mappings":"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","file":"static/js/82.ed2b71d8.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../core/tsSupport/declareExtendsHelper\",\"../../../../../core/tsSupport/decorateHelper\",\"../../../../../core/tsSupport/assignHelper\",\"../../../../../core/tsSupport/generatorHelper\",\"../../../../../core/tsSupport/awaiterHelper\",\"../../../../../core/accessorSupport/decorators\",\"../../../../../geometry/support/aaBoundingRect\",\"../../../engine\",\"../support/rendererUtils\",\"./BaseTileRenderer\",\"./support/visualVariablesUtils\",\"./support/WGLFeatureView\"],function(e,t,i,r,a,s,l,o,n,u,p,f,d,c){Object.defineProperty(t,\"__esModule\",{value:!0});var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.install=function(e){var t=new c.WGLFeatureView(this.tileInfoView,this.layerView,this.layer);this.featuresView=t,e.addChild(t)},t.prototype.uninstall=function(e){e.removeChild(this.featuresView),this.featuresView.destroy()},t.prototype.hitTest=function(e,t){return this.featuresView.hitTest(e,t)},t.prototype.supportsRenderer=function(e){return null!=e&&-1!==[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\"].indexOf(e.type)},t.prototype.onConfigUpdate=function(e,t){var i=null;if(\"visualVariables\"in e){var r=p.simplifyVVRenderer(e),a=(r.visualVariables||[]).map(function(e){var t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t});i=d.convertVisualVariables(a)}this.featuresView.setRendererInfo(e,i,this.layerView.effects),this.featuresView.setClips(this.layerView.clips)},t.prototype.onTileData=function(e){var t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()},t.prototype.onTileError=function(e){var t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)},t.prototype.forceAttributeTextureUpload=function(){this.featuresView.attributeView.forceTextureUpload()},t.prototype.lockAttributeTextureUpload=function(){this.featuresView.attributeView.lockTextureUpload()},t.prototype.unlockAttributeTextureUpload=function(){this.featuresView.attributeView.unlockTextureUpload()},t.prototype.getMaterialItems=function(e){return l(this,void 0,void 0,function(){return s(this,function(t){return[2,this.featuresView.getMaterialItems(e)]})})},t.prototype.invalidateLabels=function(){this.layer.labelingInfo&&this.layer.labelsVisible&&(this.tiles.forEach(function(e){return e.isDirty=!0}),this.layerView.view.labelManager.requestUpdate())},t.prototype.createTile=function(e){var t=this.tileInfoView.getTileBounds(n.create(),e),i=new u.WGLTile(e,t);return this.layer.labelingInfo&&this.layerView.view.labelManager.addTile(this.layerView,i),i},t.prototype.disposeTile=function(e){this.featuresView.removeChild(e),this.layer.labelingInfo&&this.layerView.view.labelManager.removeTile(this.layerView,e.key.id),e.destroy(),this.layerView.view.labelManager.requestUpdate()},t=r([o.subclass(\"esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],t)}(o.declared(f.default));t.default=y});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../../core/tsSupport/assignHelper\",\"../../../../../../core/tsSupport/extendsHelper\",\"../../../../../../core/tsSupport/generatorHelper\",\"../../../../../../core/tsSupport/awaiterHelper\",\"../../../../../../core/promiseUtils\",\"../../../../engine\",\"../../../../engine/FeatureContainer\",\"../../../../engine/webgl/enums\"],function(e,r,t,n,a,i,s,l,o,p){Object.defineProperty(r,\"__esModule\",{value:!0});var u=function(e){function r(r,t,n){var a=e.call(this,r,t.clips)||this;return a._pointToCallbacks=new Map,a._layer=n,a._layerView=t,a}return n(r,e),r.prototype.renderChildren=function(r){if(this.hasAnimation){r.painter.effects.integrate.draw(r,r.attributeView)}e.prototype.renderChildren.call(this,r)},r.prototype.hitTest=function(e,r){var t=[e,r],n=s.createResolver();return this._pointToCallbacks.set(t,n),this.requestRender(),n.promise},r.prototype.doRender=function(r){var t=this._layer,n=t.minScale,a=t.maxScale,i=r.state.scale;i<=(n||1/0)&&i>=a&&e.prototype.doRender.call(this,r)},Object.defineProperty(r.prototype,\"hasAnimation\",{get:function(){return this.hasLabels},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"hasLabels\",{get:function(){return!(!this._layer.labelingInfo||!this._layer.labelingInfo.length)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"labelsVisible\",{get:function(){return this._layer.labelsVisible},enumerable:!0,configurable:!0}),r.prototype.prepareRenderPasses=function(r){var t=this,n=r.registerRenderPass({name:\"label\",brushes:[l.brushes.Label],target:function(){return t._layer.labelsVisible?t.children:null},drawPhase:p.WGLDrawPhase.LABEL|p.WGLDrawPhase.LABEL_ALPHA}),a=r.registerRenderPass({name:\"geometry\",brushes:[l.brushes.Fill,l.brushes.Line,l.brushes.Marker,l.brushes.Text],target:function(){return t.children},effects:[{apply:r.effects.highlight,enable:function(){return!!t._layerView.hasHighlight()}},{apply:r.effects.hittest,enable:function(){return!!t._pointToCallbacks.size},args:function(){return t._pointToCallbacks}}]});return e.prototype.prepareRenderPasses.call(this,r).concat([a,n])},r}(o.FeatureContainer);r.WGLFeatureView=u});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"./factories/mat4f64\"],function(e,t,f){Object.defineProperty(t,\"__esModule\",{value:!0}),t.mat4f64=f});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"./factories/mat3f64\"],function(e,t,f){Object.defineProperty(t,\"__esModule\",{value:!0}),t.mat3f64=f});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\"],function(e,n){function r(){return[1,0,0,0,1,0,0,0,1]}function t(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function u(e,n,r,t,u,o,c,i,f){return[e,n,r,t,u,o,c,i,f]}function o(e,n){return new Float64Array(e,n,9)}Object.defineProperty(n,\"__esModule\",{value:!0}),n.create=r,n.clone=t,n.fromValues=u,n.createView=o});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\"],function(e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function t(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function u(e,n,r,t,u,o,c,i,f,a,l,d,s,p,w,y){return[e,n,r,t,u,o,c,i,f,a,l,d,s,p,w,y]}function o(e,n){return new Float64Array(e,n,16)}Object.defineProperty(n,\"__esModule\",{value:!0}),n.create=r,n.clone=t,n.fromValues=u,n.createView=o,n.IDENTITY=r()});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../../core/tsSupport/assignHelper\",\"../../../../../../core/screenUtils\",\"../../../../engine\",\"../../../../engine/webgl/definitions\",\"../../../../../3d/layers/support/FastSymbolUpdates\"],function(e,t,i,a,s,r,n){function l(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function o(e){return{value:e.value,size:a.toPt(e.size)}}function u(e){return e.map(function(e){return o(e)})}function p(e){if(\"string\"==typeof e||\"number\"==typeof e)return a.toPt(e);var t=e;return{type:\"size\",expression:t.expression,stops:u(t.stops)}}function v(e){var t=e&&e.length>0?{}:null;return t&&e.forEach(function(e){var i=e.type;e.field&&(t[i]=e.field)}),t}function c(e){var t=e&&e.length>0?{}:null,a=t?{}:null;if(!t)return{vvFields:t,vvRanges:a};for(var r=0,l=e;r<l.length;r++){var o=l[r],v=o.type;if(o.field&&(t[v]=o.field),\"size\"===v){a.size||(a.size={});var c=o;switch(s.getTypeOfSizeVisualVariable(c)){case S.SIZE_MINMAX_VALUE:a.size.minMaxValue={minDataValue:c.minDataValue,maxDataValue:c.maxDataValue,minSize:p(c.minSize),maxSize:p(c.maxSize)};break;case S.SIZE_SCALE_STOPS:a.size.scaleStops={stops:u(c.stops)};break;case S.SIZE_FIELD_STOPS:if(c.levels){var d={};for(var m in c.levels)d[m]=z(c.levels[m]);a.size.fieldStops={type:\"level-dependent\",levels:d}}else a.size.fieldStops=i({type:\"static\"},z(c.stops));break;case S.SIZE_UNIT_VALUE:a.size.unitValue={unit:c.valueUnit,valueRepresentation:c.valueRepresentation}}}else if(\"color\"===v){var y=n.convertVisualVariables([o],{modelSize:null,symbolSize:null,unitInMeters:1,transformation:null});a.color=y.color;for(var V=0;V<32;V+=4)s.color.premultiplyAlpha(a.color.colors,V,!0)}else if(\"opacity\"===v)a.opacity=f(o);else if(\"rotation\"===v){var g=o;a.rotation={type:g.rotationType}}}return{vvFields:t,vvRanges:a}}function f(e){var t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(s.Utils.isString(e.field)){if(!e.stops)return null;if(e.stops.length>8)return null;for(var i=e.stops,a=0;a<8;++a){var r=Math.min(a,i.length-1),n=i[r];t.values[a]=n.value,t.opacities[a]=n.opacity}}else{if(!(e.stops&&e.stops.length>=0))return null;for(var l=e.stops&&e.stops.length>=0&&e.stops[0].opacity,a=0;a<8;a++)t.values[a]=1/0,t.opacities[a]=l}return t}Object.defineProperty(t,\"__esModule\",{value:!0});var S=s.enums.WGLVVFlag;t.getVisualVariableSizeValueRepresentationRatio=l,t.stopToSizeStop=o,t.normalizeSizeStops=u,t.normalizeSizeElement=p,t.getVisualVariablesFields=v;var z=function(e){for(var t=[],i=[],s=u(e),n=s.length,l=0;l<6;l++){var o=s[Math.min(l,n-1)];t.push(o.value),i.push(null==o.size?r.NAN_MAGIC_NUMBER:a.pt2px(o.size))}return{values:new Float32Array(t),sizes:new Float32Array(i)}};t.convertVisualVariables=c});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../core/compilerUtils\",\"../../../../core/mathUtils\",\"../../../../core/libs/gl-matrix-2/mat3\",\"../../../../core/libs/gl-matrix-2/mat3f64\",\"../../../../core/libs/gl-matrix-2/mat4\",\"../../../../core/libs/gl-matrix-2/mat4f64\",\"../../../../core/libs/gl-matrix-2/vec3\",\"../../../../core/libs/gl-matrix-2/vec3f64\",\"../../../../renderers/support/utils\",\"../../support/debugFlags\"],function(e,t,o,i,a,n,r,l,s,u,f,c){function p(e){return null!==e&&void 0!==e}function v(e){return\"number\"==typeof e}function d(e){return\"string\"==typeof e}function z(e){return null==e||d(e)}function m(e,t){e&&e.push(t),y(t)}function S(e){D&&console.warn(\"[FastSymbolUpdates] \"+e)}function y(e){D&&console.info(\"[FastSymbolUpdates] \"+e)}function b(e,t,o,i){void 0===i&&(i=l.mat4f64.create());var a=e||0,n=t||0,s=o||0;return 0!==a&&r.mat4.rotateZ(i,i,-a/180*Math.PI),0!==n&&r.mat4.rotateX(i,i,n/180*Math.PI),0!==s&&r.mat4.rotateY(i,i,s/180*Math.PI),i}function x(e,t,o,i,a){var n=e.minSize,r=e.maxSize;if(e.expression)return m(a,\"Could not convert size info: expression not supported\"),!1;if(e.useSymbolValue){var l=i.symbolSize[o];return t.minSize[o]=l,t.maxSize[o]=l,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=1,!0}if(p(e.field))return p(e.stops)?2===e.stops.length&&v(e.stops[0].size)&&v(e.stops[1].size)?(h(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,t,o),t.type[o]=1,!0):(m(a,\"Could not convert size info: stops only supported with 2 elements\"),!1):v(n)&&v(r)&&p(e.minDataValue)&&p(e.maxDataValue)?(h(n,r,e.minDataValue,e.maxDataValue,t,o),t.type[o]=1,!0):null!=f.meterIn[e.valueUnit]?(t.minSize[o]=-1/0,t.maxSize[o]=1/0,t.offset[o]=0,t.factor[o]=1/f.meterIn[e.valueUnit],t.type[o]=1,!0):\"unknown\"===e.valueUnit?(m(a,\"Could not convert size info: proportional size not supported\"),!1):(m(a,\"Could not convert size info: scale-dependent size not supported\"),!1);if(!p(e.field)){if(e.stops&&e.stops[0]&&v(e.stops[0].size))return t.minSize[o]=e.stops[0].size,t.maxSize[o]=e.stops[0].size,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=1,!0;if(v(n))return t.minSize[o]=n,t.maxSize[o]=n,t.offset[o]=n,t.factor[o]=0,t.type[o]=1,!0}return m(a,\"Could not convert size info: unsupported variant of sizeInfo\"),!1}function h(e,t,o,i,a,n){var r=Math.abs(i-o)>0?(t-e)/(i-o):0;a.minSize[n]=r>0?e:t,a.maxSize[n]=r>0?t:e,a.offset[n]=e-o*r,a.factor[n]=r}function g(e,t,o,i){if(e.normalizationField||e.valueRepresentation)return m(i,\"Could not convert size info: unsupported property\"),null;if(!z(e.field))return m(i,\"Could not convert size info: field is not a string\"),null;if(t.size){if(e.field)if(t.size.field){if(e.field!==t.size.field)return m(i,\"Could not convert size info: multiple fields in use\"),null}else t.size.field=e.field}else t.size={field:e.field,minSize:[0,0,0],maxSize:[0,0,0],offset:[0,0,0],factor:[0,0,0],type:[0,0,0]};var a;switch(e.axis){case\"width\":return a=x(e,t.size,0,o,i),a?t:null;case\"height\":return a=x(e,t.size,2,o,i),a?t:null;case\"depth\":return a=x(e,t.size,1,o,i),a?t:null;case\"width-and-depth\":return a=x(e,t.size,0,o,i),a&&x(e,t.size,1,o,i),a?t:null;case null:case void 0:case\"all\":return a=x(e,t.size,0,o,i),a=a&&x(e,t.size,1,o,i),a=a&&x(e,t.size,2,o,i),a?t:null;default:return m(i,'Could not convert size info: unknown axis \"'+e.axis+'\"\"'),null}}function C(e,t,o){for(var i=0;i<3;++i){var a=t.unitInMeters;1===e.type[i]&&(a*=t.modelSize[i],e.type[i]=2),e.minSize[i]=e.minSize[i]/a,e.maxSize[i]=e.maxSize[i]/a,e.offset[i]=e.offset[i]/a,e.factor[i]=e.factor[i]/a}var n;if(0!==e.type[0])n=0;else if(0!==e.type[1])n=1;else{if(0===e.type[2])return m(o,\"No size axis contains a valid size or scale\"),!1;n=2}for(var i=0;i<3;++i)0===e.type[i]&&(e.minSize[i]=e.minSize[n],e.maxSize[i]=e.maxSize[n],e.offset[i]=e.offset[n],e.factor[i]=e.factor[n],e.type[i]=e.type[n]);return!0}function M(e,t,o){e[4*t+0]=o.r/255,e[4*t+1]=o.g/255,e[4*t+2]=o.b/255,e[4*t+3]=o.a}function V(e,t,o){if(e.normalizationField)return m(o,\"Could not convert color info: unsupported property\"),null;if(d(e.field)){if(!e.stops)return m(o,\"Could not convert color info: missing stops or colors\"),null;if(e.stops.length>8)return m(o,\"Could not convert color info: too many color stops\"),null;t.color={field:e.field,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var i=e.stops,a=0;a<8;++a){var n=Math.min(a,i.length-1),r=i[n];t.color.values[a]=r.value,M(t.color.colors,a,r.color)}}else{if(!(e.stops&&e.stops.length>=0))return m(o,\"Could not convert color info: no field and no colors/stops\"),null;var l=e.stops&&e.stops.length>=0&&e.stops[0].color;t.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(var a=0;a<8;a++)t.color.values[a]=1/0,M(t.color.colors,a,l)}return t}function T(e,t,o){if(e.normalizationField)return m(o,\"Could not convert opacity info: unsupported property\"),null;if(d(e.field)){if(!e.stops)return m(o,\"Could not convert opacity info: missing stops or opacities\"),null;if(e.stops.length>8)return m(o,\"Could not convert opacity info: too many opacity stops\"),null;t.opacity={field:e.field,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(var i=e.stops,a=0;a<8;++a){var n=Math.min(a,i.length-1),r=i[n];t.opacity.values[a]=r.value,t.opacity.opacityValues[a]=r.opacity}}else{if(!(e.stops&&e.stops.length>=0))return m(o,\"Could not convert opacity info: no field and no opacities/stops\"),null;var l=e.stops&&e.stops.length>=0&&e.stops[0].opacity;t.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(var a=0;a<8;a++)t.opacity.values[a]=1/0,t.opacity.opacityValues[a]=l}return t}function F(e,t,o){var i=2===o&&\"arithmetic\"===e.rotationType;t.offset[o]=i?90:0,t.factor[o]=i?-1:1,t.type[o]=1}function O(e,t,o){if(!d(e.field))return m(o,\"Could not convert rotation info: field is not a string\"),null;if(t.rotation){if(e.field)if(t.rotation.field){if(e.field!==t.rotation.field)return m(o,\"Could not convert rotation info: multiple fields in use\"),null}else t.rotation.field=e.field}else t.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case\"tilt\":return F(e,t.rotation,0),t;case\"roll\":return F(e,t.rotation,1),t;case null:case void 0:case\"heading\":return F(e,t.rotation,2),t;default:return m(o,'Could not convert rotation info: unknown axis \"'+e.axis+'\"\"'),null}}function E(e,t,i){if(!e)return null;var a=!t.supportedTypes||!!t.supportedTypes.size,n=!t.supportedTypes||!!t.supportedTypes.color,r=!t.supportedTypes||!!t.supportedTypes.rotation,l=!!t.supportedTypes&&!!t.supportedTypes.opacity;D&&(i=i||[]);var s=e.reduce(function(e,s){if(!e)return e;if(s.valueExpression)return m(i,\"Could not convert visual variables: arcade expressions not supported\"),null;switch(s.type){case\"size\":return a?g(s,e,t,i):e;case\"color\":return n?V(s,e,i):e;case\"opacity\":return l?T(s,e,i):null;case\"rotation\":return r?O(s,e,i):e;default:return o.neverReached(s),null}},{size:null,color:null,opacity:null,rotation:null});return!(e.length>0&&s)||s.size||s.color||s.opacity||s.rotation?s&&s.size&&!C(s.size,t,i)?null:s:null}function U(e){return e&&null!=e.size}function w(e,t){if(_)return S(\"State not initialized, fast updates disabled (globally disabled)\"),{enabled:!1};if(!e)return S(\"State not initialized, fast updates disabled (no renderer)\"),{enabled:!1};if(c.DISABLE_FAST_UPDATES)return S(\"State not initialized, fast updates disabled (DISABLE_FAST_SYMBOL_UPDATES set)\"),{enabled:!1};var o=E(e.visualVariables,t);return o?(y(\"State initialized, fast updates enabled\"),{enabled:!0,visualVariables:o,materialParameters:P(o,t),requiresShaderTransformation:U(o)}):(S(\"State not initialized, fast updates disabled (conversion failed)\"),{enabled:!1})}function A(e,t,o){if(!t||!e.enabled)return!1;var i=e.visualVariables,a=E(t.visualVariables,o);return a?!!(I(i.size,a.size,\"size\")&&I(i.color,a.color,\"color\")&&I(i.rotation,a.rotation,\"rotation\")&&I(i.opacity,a.opacity,\"opacity\"))&&(e.visualVariables=a,e.materialParameters=P(a,o),e.requiresShaderTransformation=U(a),y(\"State updated\"),!0):(S(\"State update failed (conversion failed)\"),!1)}function I(e,t,o){if(!!e!=!!t)return S(\"State update failed ({$name} enabled/disabled)\"),!1;if(e&&e.field!==t.field)return S(\"State update failed ({$name} field changed)\"),!1;if(e&&\"rotation\"===o)for(var i=e,a=t,n=0;n<3;n++)if(i.type[n]!==a.type[n]||i.offset[n]!==a.offset[n]||i.factor[n]!==a.factor[n])return!1;return!0}function P(e,t){var o={vvSizeEnabled:!1,vvSizeMinSize:null,vvSizeMaxSize:null,vvSizeOffset:null,vvSizeFactor:null,vvSizeValue:null,vvColorEnabled:!1,vvColorValues:null,vvColorColors:null,vvOpacityEnabled:!1,vvOpacityValues:null,vvOpacityOpacities:null,vvSymbolAnchor:null,vvSymbolRotationMatrix:null},i=U(e);return e&&e.size?(o.vvSizeEnabled=!0,o.vvSizeMinSize=e.size.minSize,o.vvSizeMaxSize=e.size.maxSize,o.vvSizeOffset=e.size.offset,o.vvSizeFactor=e.size.factor):e&&i&&(o.vvSizeValue=t.transformation.scale),e&&i&&(o.vvSymbolAnchor=t.transformation.anchor,o.vvSymbolRotationMatrix=n.mat3f64.create(),r.mat4.identity(k),b(t.transformation.rotation[2],t.transformation.rotation[0],t.transformation.rotation[1],k),a.mat3.fromMat4(o.vvSymbolRotationMatrix,k)),e&&e.color&&(o.vvColorEnabled=!0,o.vvColorValues=e.color.values,o.vvColorColors=e.color.colors),e&&e.opacity&&(o.vvOpacityEnabled=!0,o.vvOpacityValues=e.opacity.values,o.vvOpacityOpacities=e.opacity.opacityValues),o}Object.defineProperty(t,\"__esModule\",{value:!0});var D=!1,_=!1;t.convertVisualVariables=E,t.initFastSymbolUpdatesState=w,t.updateFastSymbolUpdatesState=A,t.getMaterialParams=P;var R;!function(e){function t(e,t,o){if(!e.vvSizeEnabled)return o;r.mat4.copy(a,o);var l=e.vvSymbolRotationMatrix;r.mat4.set(k,l[0],l[1],l[2],0,l[3],l[4],l[5],0,l[6],l[7],l[8],0,0,0,0,1),r.mat4.multiply(a,a,k);for(var s=0;s<3;++s){var u=e.vvSizeOffset[s]+t[0]*e.vvSizeFactor[s];n[s]=i.clamp(u,e.vvSizeMinSize[s],e.vvSizeMaxSize[s])}return r.mat4.scale(a,a,n),r.mat4.translate(a,a,e.vvSymbolAnchor),a}function o(e,t,o){if(!t.vvSizeEnabled)return s.vec3.set(e,1,1,1);for(var a=0;a<3;++a){var n=t.vvSizeOffset[a]+o[0]*t.vvSizeFactor[a];e[a]=i.clamp(n,t.vvSizeMinSize[a],t.vvSizeMaxSize[a])}return e}var a=l.mat4f64.create(),n=u.vec3f64.create();e.evaluateModelTransform=t,e.evaluateModelTransformScale=o}(R||(R={}));var k=l.mat4f64.create();t.evaluateModelTransform=R.evaluateModelTransform,t.evaluateModelTransformScale=R.evaluateModelTransformScale});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../core/tsSupport/declareExtendsHelper\",\"../../../core/tsSupport/decorateHelper\",\"../../../core/Accessor\",\"../../../core/accessorSupport/decorators\"],function(E,_,o,I,T,S){return new(function(E){function _(){var _=null!==E&&E.apply(this,arguments)||this;return _.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,_.SCENEVIEW_LOCKING_LOG=!1,_.HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED=!1,_.HIGHLIGHTS_VISUALIZE_BLOCKS=!1,_.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,_.DECONFLICTOR_SHOW_OUTLINES=!1,_.DECONFLICTOR_SHOW_OUTLINES_INVISIBLE=!1,_.DECONFLICTOR_SHOW_GRID=!1,_.LABELS_SHOW_BORDER=!1,_.OVERLAY_DRAW_TEST_TEXTURE=!1,_.OVERLAY_SHOW_CENTER=!1,_.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,_.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,_.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,_.DRAW_MESH_GEOMETRY_NORMALS=!1,_.FEATURE_TILE_FETCH_SHOW_TILES=!1,_.FEATURE_TILE_TREE_SHOW_TILES=!1,_.TERRAIN_TILE_TREE_SHOW_TILES=!1,_.I3S_TREE_SHOW_TILES=!1,_.ENABLE_PROFILE_DEPTH_RANGE=!1,_.DISABLE_FAST_UPDATES=!1,_.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,_.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,_.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,_}return o(_,E),I([S.property()],_.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),I([S.property()],_.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),I([S.property()],_.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED\",void 0),I([S.property()],_.prototype,\"HIGHLIGHTS_VISUALIZE_BLOCKS\",void 0),I([S.property()],_.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),I([S.property()],_.prototype,\"DECONFLICTOR_SHOW_OUTLINES\",void 0),I([S.property()],_.prototype,\"DECONFLICTOR_SHOW_OUTLINES_INVISIBLE\",void 0),I([S.property()],_.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),I([S.property()],_.prototype,\"LABELS_SHOW_BORDER\",void 0),I([S.property()],_.prototype,\"OVERLAY_DRAW_TEST_TEXTURE\",void 0),I([S.property()],_.prototype,\"OVERLAY_SHOW_CENTER\",void 0),I([S.property()],_.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),I([S.property()],_.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),I([S.property()],_.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),I([S.property()],_.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),I([S.property()],_.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),I([S.property()],_.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),I([S.property()],_.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),I([S.property()],_.prototype,\"I3S_TREE_SHOW_TILES\",void 0),I([S.property()],_.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),I([S.property()],_.prototype,\"DISABLE_FAST_UPDATES\",void 0),I([S.property()],_.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),I([S.property()],_.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),I([S.property()],_.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),_=I([S.subclass(\"esri.views.3d.support.DebugFlags\")],_)}(S.declared(T)))});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../core/tsSupport/generatorHelper\",\"../../../core/tsSupport/awaiterHelper\",\"../../../core/tsSupport/extendsHelper\",\"../../../core/tsSupport/assignHelper\",\"../../../core/promiseUtils\",\"../../../core/promiseUtils\",\"../../../geometry/support/aaBoundingRect\",\"../engine\"],function(e,t,r,i,n,o,a,s,d,u){Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i._rendererInfo=new u.WGLRendererInfo,i.attributeView=new u.AttributeStoreView,i}return n(t,e),t.prototype.destroy=function(){this.removeAllChildren(),this.children.forEach(function(e){return e.destroy()}),this.attributeView.destroy()},t.prototype.whenAttached=function(){var e=this;return this.attached?a.resolve():a.create(function(t){return e.once(\"attached\",function(){return t()})})},t.prototype.setRendererInfo=function(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()},t.prototype.getMaterialItems=function(e,t){return i(this,void 0,void 0,function(){var i,n,o,a;return r(this,function(r){switch(r.label){case 0:return e&&0!==e.length?[4,this.whenAttached()]:[2,null];case 1:return r.sent(),i=this.stage.painter.textureManager,n=e.map(function(e){return i.rasterizeItem(e.symbol,e.glyphIds,t)}),[4,s.all(n)];case 2:return o=r.sent(),a=o.map(function(t,r){return{id:e[r].id,mosaicItem:t}}),[2,a]}})})},t.prototype.onTileData=function(e,t){if(t.addOrUpdate&&\"tileDisplayData\"in t.addOrUpdate)e.setData(t,this.hasLabels,this.labelsVisible);else{var r=t.addOrUpdate&&u.TileData.decode(t.addOrUpdate),i=o({},t,{addOrUpdate:r});e.setData(i,this.hasLabels,this.labelsVisible)}this.contains(e)||this.addChild(e),this.requestRender()},t.prototype.onTileError=function(e){e.clear(),this.contains(e)||this.addChild(e)},t.prototype.renderChildren=function(t){this._rendererInfo.update(t.state),this.attributeView.bindTextures(this.stage.context),e.prototype.renderChildren.call(this,t)},t.prototype.createTile=function(e){var t=this._tileInfoView.getTileBounds(d.create(),e);return new u.WGLTile(e,t)},t.prototype.destroyTile=function(e){this.removeChild(e),e.destroy()},t.prototype.attach=function(){return this._initializeExtensions(),e.prototype.attach.call(this)},t.prototype.createRenderParams=function(t){return o({},e.prototype.createRenderParams.call(this,t),{rendererInfo:this._rendererInfo,attributeView:this.attributeView})},t.prototype._initializeExtensions=function(){var e=this.stage.context.capabilities;e.textureFloat,e.vao},t}(u.TileContainer);t.FeatureContainer=l});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../core/tsSupport/declareExtendsHelper\",\"../../../../../core/tsSupport/decorateHelper\",\"../../../../../core/HandleOwner\",\"../../../../../core/accessorSupport/decorators\"],function(e,t,r,o,i,n){Object.defineProperty(t,\"__esModule\",{value:!0});var p=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,\"updating\",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once(\"isReady\",function(){return t.notifyChange(\"updating\")}),this.tiles.set(e.id,r),r},t.prototype.lockAttributeTextureUpload=function(){},t.prototype.unlockAttributeTextureUpload=function(){},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach(function(t){e=e&&t.isReady}),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},o([n.property()],t.prototype,\"layer\",void 0),o([n.property()],t.prototype,\"layerView\",void 0),o([n.property()],t.prototype,\"tileInfoView\",void 0),o([n.property()],t.prototype,\"updating\",null),t=o([n.subclass(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],t)}(n.declared(i.HandleOwner));t.default=p});"],"sourceRoot":""}