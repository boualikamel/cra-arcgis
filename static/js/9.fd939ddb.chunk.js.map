{"version":3,"sources":["../node_modules/arcgis-js-api/layers/mixins/PortalLayer.js","../node_modules/arcgis-js-api/layers/mixins/ScaleRangeLayer.js","../node_modules/arcgis-js-api/layers/mixins/ArcGISService.js","../node_modules/arcgis-js-api/layers/mixins/SceneService.js","../node_modules/arcgis-js-api/layers/support/I3SLayerDefinitions.js"],"names":["define","t","e","r","o","a","i","s","l","p","n","u","c","d","Object","defineProperty","value","h","getLogger","PortalLayer","apply","this","arguments","prototype","set","_get","removeOrigin","_set","enumerable","configurable","readPortalItem","itemId","id","portal","writePortalItem","loadFromPortal","label","portalItem","trys","push","create","sent","throwIfAborted","load","instance","supportedTypes","validateItem","supportsData","warn","title","read","layer","inherited","write","getDefault","hasSamePortal","restUrl","messages","property","type","reader","writer","String","subclass","declared","ScaleRangeLayer","minScale","maxScale","get","Number","json","readOnly","dependsOn","ArcGISService","originOf","url","parse","sanitizeUrl","y","f","v","m","SceneService","blendMode","spatialReference","fullExtent","heightModelInfo","version","major","NaN","minor","versionString","copyright","sublayerTitleMode","layerId","readSpatialReference","_readSpatialReference","fromJSON","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","length","readFullExtent","extent","Array","isArray","some","g","xmin","ymin","xmax","ymax","readVersion","toString","split","readTitlePortalItem","readTitleService","titleFromUrlAndName","name","cleanTitle","readLayerId","sanitizeUrlWithLayerId","writeUrl","writeUrlWithLayerId","urlToObject","isArcGISUrl","path","_verifyRootNodeAndUpdateExtent","_updateExtentFromRootPage","_fetchRootPage","concat","_updateExtentFromRootNode","_fetchRootNode","Math","floor","rootIndex","nodesPerPage","parsedUrl","responseType","signal","reject","data","nodes","obb","center","halfSize","sqrt","zmin","zmax","hasZ","mbs","rootNode","join","query","error","_fetchService","test","_fetchFirstLayerId","_fetchServiceLayer","layers","ssl","replace","origin","validateLayer","shared","origins","service","source","target","lodSelectionMetricType","JSONSupport","I3SNodePageDefinition","factor","I3SMaterialTexture","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","I3SMaterialPBRMetallicRoughness","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","enumeration","serializable","opaque","mask","blend","Boolean","none","back","front","I3SMaterialDefinition","index","jpg","png","dds","I3STextureFormat","atlas","I3STextureSetDefinition","Float32","UInt64","UInt32","UInt16","UInt8","I3SGeometryAttribute","draco","I3SGeometryCompressedAttributes","offset","I3SGeometryBuffer","triangle","I3SGeometryDefinition"],"mappings":"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","file":"static/js/9.fd939ddb.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/tsSupport/generatorHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../core/Error\",\"../../core/Logger\",\"../../core/promiseUtils\",\"../../core/urlUtils\",\"../../core/accessorSupport/decorators\",\"../../portal/Portal\",\"../../portal/PortalItem\"],function(t,e,r,o,a,i,s,l,p,n,u,c,d){Object.defineProperty(e,\"__esModule\",{value:!0});var h=l.getLogger(\"esri.layers.mixins.PortalLayer\");e.PortalLayer=function(e){return function(e){function l(){return null!==e&&e.apply(this,arguments)||this}return r(l,e),Object.defineProperty(l.prototype,\"portalItem\",{set:function(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))},enumerable:!0,configurable:!0}),l.prototype.readPortalItem=function(t,e,r){if(e.itemId)return new d({id:e.itemId,portal:r&&r.portal})},l.prototype.writePortalItem=function(t,e){t&&t.id&&(e.itemId=t.id)},l.prototype.loadFromPortal=function(e,r){return i(this,void 0,void 0,function(){var o,i;return a(this,function(a){switch(a.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,p.create(function(e){return t([\"../../portal/support/layersLoader\"],e)})];case 2:return o=a.sent(),p.throwIfAborted(r),[4,o.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},r)];case 3:return[2,a.sent()];case 4:throw i=a.sent(),h.warn(\"Failed to load layer (\"+this.title+\", \"+this.id+\") portal item (\"+this.portalItem.id+\")\\n  \"+i),i;case 5:return[2]}})})},l.prototype.read=function(t,e){var r=arguments;e&&(e.layer=this),this.inherited(r)},l.prototype.write=function(t,e){var r=e&&e.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return r&&o&&!n.hasSamePortal(o.restUrl,r.restUrl)?(e.messages&&e.messages.push(new s(\"layer:cross-portal\",\"The layer '\"+this.title+\" (\"+this.id+\")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer\",{layer:this})),null):this.inherited(arguments)},o([u.property({type:d})],l.prototype,\"portalItem\",null),o([u.reader(\"web-document\",\"portalItem\",[\"itemId\"])],l.prototype,\"readPortalItem\",null),o([u.writer(\"portalItem\",{itemId:{type:String}})],l.prototype,\"writePortalItem\",null),l=o([u.subclass(\"esri.layers.mixins.PortalLayer\")],l)}(u.declared(e))}});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/accessorSupport/decorators\"],function(e,r,t,n,a){Object.defineProperty(r,\"__esModule\",{value:!0}),r.ScaleRangeLayer=function(e){return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.minScale=0,r.maxScale=0,r}return t(r,e),Object.defineProperty(r.prototype,\"scaleRangeId\",{get:function(){return this.minScale+\",\"+this.maxScale},enumerable:!0,configurable:!0}),n([a.property({type:Number,json:{write:!0}})],r.prototype,\"minScale\",void 0),n([a.property({type:Number,json:{write:!0}})],r.prototype,\"maxScale\",void 0),n([a.property({readOnly:!0,dependsOn:[\"minScale\",\"maxScale\"]})],r.prototype,\"scaleRangeId\",null),r=n([a.subclass(\"esri.layers.mixins.ScaleRangeLayer\")],r)}(a.declared(e))}});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/Logger\",\"../../core/accessorSupport/decorators\",\"../support/arcgisLayerUrl\"],function(e,t,r,i,n,o,l){Object.defineProperty(t,\"__esModule\",{value:!0});var s=n.getLogger(\"esri.layers.mixins.ArcGISService\");t.ArcGISService=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,\"title\",{get:function(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){var e=l.parse(this.url);if(e&&e.title)return e.title}return this._get(\"title\")||\"\"},set:function(e){this._set(\"title\",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"url\",{set:function(e){this._set(\"url\",l.sanitizeUrl(e,s))},enumerable:!0,configurable:!0}),i([o.property({dependsOn:[\"url\"]})],t.prototype,\"title\",null),i([o.property({type:String})],t.prototype,\"url\",null),t=i([o.subclass(\"esri.layers.mixins.ArcGISService\")],t)}(o.declared(e))}});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\n//  copyright\n\n/**\n                 * The copyright text as defined by the scene service.\n                 *\n                 * @memberof module:esri/layers/mixins/SceneService\n                 * @name copyright\n                 * @type {string}\n                 */\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/tsSupport/generatorHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../request\",\"../../core/Error\",\"../../core/Logger\",\"../../core/promiseUtils\",\"../../core/urlUtils\",\"../../core/accessorSupport/decorators\",\"../../geometry/Extent\",\"../../geometry/HeightModelInfo\",\"../../geometry/SpatialReference\",\"../support/arcgisLayerUrl\",\"../support/commonProperties\"],function(e,t,r,o,n,i,a,l,s,p,u,c,d,y,h,f,v){Object.defineProperty(t,\"__esModule\",{value:!0});var m=s.getLogger(\"esri.layers.mixins.SceneService\");t.SceneService=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blendMode=null,t.spatialReference=null,t.fullExtent=null,t.heightModelInfo=null,t.minScale=0,t.maxScale=0,t.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},t.copyright=null,t.sublayerTitleMode=\"item-title\",t.title=null,t.layerId=null,t}return r(t,e),t.prototype.readSpatialReference=function(e,t){return this._readSpatialReference(t)},t.prototype._readSpatialReference=function(e){if(null!=e.spatialReference)return h.fromJSON(e.spatialReference);var t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new h(o):null},t.prototype.readFullExtent=function(e,t){var r=t.store,o=this._readSpatialReference(t);return null==o||null==r||null==r.extent||!Array.isArray(r.extent)||r.extent.some(function(e){return e<g})?null:new d({xmin:r.extent[0],ymin:r.extent[1],xmax:r.extent[2],ymax:r.extent[3],spatialReference:o})},t.prototype.readVersion=function(e,t){var r=t.store,o=null!=r.version?r.version.toString():\"\",n={major:Number.NaN,minor:Number.NaN,versionString:o},i=o.split(\".\");return i.length>=2&&(n.major=parseInt(i[0],10),n.minor=parseInt(i[1],10)),n},t.prototype.readTitlePortalItem=function(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e},t.prototype.readTitleService=function(e,t){var r=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return f.titleFromUrlAndName(this.url,t.name);var o=t.name||f.parse(this.url).title;return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f.cleanTitle(o)},t.prototype.readLayerId=function(e,t){return t.id},Object.defineProperty(t.prototype,\"url\",{set:function(e){var t=f.sanitizeUrlWithLayerId(this,e,m);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)},enumerable:!0,configurable:!0}),t.prototype.writeUrl=function(e,t,r,o){f.writeUrlWithLayerId(this,e,\"layers\",t,o)},Object.defineProperty(t.prototype,\"parsedUrl\",{get:function(){var e=this._get(\"url\");if(!e)return null;var t=u.urlToObject(e);return null!=this.layerId&&f.isArcGISUrl(t.path)&&(t.path=t.path+\"/layers/\"+this.layerId),t},enumerable:!0,configurable:!0}),t.prototype._verifyRootNodeAndUpdateExtent=function(e,t){return i(this,void 0,void 0,function(){var r,o,i,a;return n(this,function(n){switch(n.label){case 0:if(!e)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),r=this._updateExtentFromRootPage,o=[e],[4,this._fetchRootPage(e,t)];case 2:return[2,r.apply(this,o.concat([n.sent()]))];case 3:return i=n.sent(),[3,4];case 4:return a=this._updateExtentFromRootNode,[4,this._fetchRootNode(t)];case 5:return[2,a.apply(this,[n.sent()])]}})})},t.prototype._fetchRootPage=function(e,t){return i(this,void 0,void 0,function(){var r,o,i;return n(this,function(n){switch(n.label){case 0:return e?(r=Math.floor(e.rootIndex/e.nodesPerPage),o=this.parsedUrl.path+\"/nodepages/\"+r,[4,a(o,{responseType:\"json\",signal:t})]):[2,p.reject()];case 1:return i=n.sent(),[2,i.data]}})})},t.prototype._updateExtentFromRootPage=function(e,t){if(null==t||null==t.nodes)throw new l(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");var r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new l(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");var o=r.obb.halfSize,n=r.obb.center[2],i=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=n-i,this.fullExtent.zmax=n+i},t.prototype._updateExtentFromRootNode=function(e){if(null!=this.fullExtent&&!this.fullExtent.hasZ&&null!=e&&Array.isArray(e.mbs)&&4===e.mbs.length){var t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}},t.prototype._fetchRootNode=function(e){return i(this,void 0,void 0,function(){var t,r,o;return n(this,function(n){switch(n.label){case 0:if(!this.rootNode)return[2];t=u.join(this.parsedUrl.path,this.rootNode),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a(t,{query:{f:\"json\"},responseType:\"json\",signal:e})];case 2:return r=n.sent(),[2,r.data];case 3:throw o=n.sent(),new l(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:o,url:t});case 4:return[2]}})})},t.prototype._fetchService=function(e){return i(this,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:return null==this.layerId&&/SceneServer\\/*$/i.test(this.url)?[4,this._fetchFirstLayerId(e)]:[3,2];case 1:t=r.sent(),null!=t&&(this.layerId=t),r.label=2;case 2:return[2,this._fetchServiceLayer(e)]}})})},t.prototype._fetchFirstLayerId=function(e){return i(this,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:return[4,a(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e})];case 1:return t=r.sent(),t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0?[2,t.data.layers[0].id]:[2,void 0]}})})},t.prototype._fetchServiceLayer=function(e){return i(this,void 0,void 0,function(){var t,r;return n(this,function(o){switch(o.label){case 0:return[4,a(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e})];case 1:return t=o.sent(),t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),r=t.data,this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r),[2]}})})},t.prototype.validateLayer=function(e){},o([c.shared({id:{json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}}})],t.prototype,\"properties\",void 0),o([c.property({type:h})],t.prototype,\"spatialReference\",void 0),o([c.reader(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],t.prototype,\"readSpatialReference\",null),o([c.property({type:d})],t.prototype,\"fullExtent\",void 0),o([c.reader(\"fullExtent\",[\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],t.prototype,\"readFullExtent\",null),o([c.property({readOnly:!0,type:y})],t.prototype,\"heightModelInfo\",void 0),o([c.property({type:Number,json:{read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"},origins:{service:{read:{source:\"minScale\"},write:!1}}}})],t.prototype,\"minScale\",void 0),o([c.property({type:Number,json:{read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"},origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],t.prototype,\"maxScale\",void 0),o([c.property({readOnly:!0})],t.prototype,\"version\",void 0),o([c.reader(\"version\",[\"store.version\"])],t.prototype,\"readVersion\",null),o([c.property({type:String,json:{read:{source:\"copyrightText\"}}})],t.prototype,\"copyright\",void 0),o([c.property({type:String,json:{read:!1}})],t.prototype,\"sublayerTitleMode\",void 0),o([c.property({type:String})],t.prototype,\"title\",void 0),o([c.reader(\"portal-item\",\"title\")],t.prototype,\"readTitlePortalItem\",null),o([c.reader(\"service\",\"title\",[\"name\"])],t.prototype,\"readTitleService\",null),o([c.property({type:Number})],t.prototype,\"layerId\",void 0),o([c.reader(\"service\",\"layerId\",[\"id\"])],t.prototype,\"readLayerId\",null),o([c.property(v.url)],t.prototype,\"url\",null),o([c.writer(\"url\")],t.prototype,\"writeUrl\",null),o([c.property({dependsOn:[\"layerId\"]})],t.prototype,\"parsedUrl\",null),o([c.property({readOnly:!0})],t.prototype,\"store\",void 0),o([c.property({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],t.prototype,\"rootNode\",void 0),t=o([c.subclass(\"esri.layers.mixins.SceneService\")],t)}(c.declared(e))};var g=-1e38});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/declareExtendsHelper\",\"../../core/tsSupport/decorateHelper\",\"../../core/JSONSupport\",\"../../core/accessorSupport/decorators\"],function(e,t,r,o,p,i){Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodesPerPage=null,t.rootIndex=0,t.lodSelectionMetricType=null,t}return r(t,e),o([i.property({type:Number})],t.prototype,\"nodesPerPage\",void 0),o([i.property({type:Number})],t.prototype,\"rootIndex\",void 0),o([i.property({type:String})],t.prototype,\"lodSelectionMetricType\",void 0),t=o([i.subclass(\"esri.layer.support.I3SNodePageDefinition\")],t)}(i.declared(p.JSONSupport));t.I3SNodePageDefinition=n;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.factor=1,t}return r(t,e),o([i.property({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],t.prototype,\"id\",void 0),o([i.property({type:Number})],t.prototype,\"factor\",void 0),t=o([i.subclass(\"esri.layer.support.I3SMaterialTexture\")],t)}(i.declared(p.JSONSupport));t.I3SMaterialTexture=u;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseColorFactor=[1,1,1,1],t.baseColorTexture=null,t.metallicRoughnessTexture=null,t.metallicFactor=1,t.roughnessFactor=1,t}return r(t,e),o([i.property({type:[Number]})],t.prototype,\"baseColorFactor\",void 0),o([i.property({type:u})],t.prototype,\"baseColorTexture\",void 0),o([i.property({type:u})],t.prototype,\"metallicRoughnessTexture\",void 0),o([i.property({type:Number})],t.prototype,\"metallicFactor\",void 0),o([i.property({type:Number})],t.prototype,\"roughnessFactor\",void 0),t=o([i.subclass(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],t)}(i.declared(p.JSONSupport));t.I3SMaterialPBRMetallicRoughness=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alphaMode=\"opaque\",t.alphaCutoff=.25,t.doubleSided=!1,t.cullFace=\"none\",t.normalTexture=null,t.occlusionTexture=null,t.emissiveTexture=null,t.emissiveFactor=null,t.pbrMetallicRoughness=null,t}return r(t,e),o([i.enumeration.serializable()({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],t.prototype,\"alphaMode\",void 0),o([i.property({type:Number})],t.prototype,\"alphaCutoff\",void 0),o([i.property({type:Boolean})],t.prototype,\"doubleSided\",void 0),o([i.enumeration.serializable()({none:\"none\",back:\"back\",front:\"front\"})],t.prototype,\"cullFace\",void 0),o([i.property({type:u})],t.prototype,\"normalTexture\",void 0),o([i.property({type:u})],t.prototype,\"occlusionTexture\",void 0),o([i.property({type:u})],t.prototype,\"emissiveTexture\",void 0),o([i.property({type:[Number]})],t.prototype,\"emissiveFactor\",void 0),o([i.property({type:a})],t.prototype,\"pbrMetallicRoughness\",void 0),t=o([i.subclass(\"esri.layer.support.I3SMaterialDefinition\")],t)}(i.declared(p.JSONSupport));t.I3SMaterialDefinition=l;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.property({type:String,json:{read:{source:[\"name\",\"index\"],reader:function(e,t){return null!=e?e:\"\"+t.index}}}})],t.prototype,\"name\",void 0),o([i.enumeration.serializable()({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\"})],t.prototype,\"format\",void 0),t=o([i.subclass(\"esri.layer.support.I3STextureFormat\")],t)}(i.declared(p.JSONSupport));t.I3STextureFormat=s;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=!1,t}return r(t,e),o([i.property({type:[s]})],t.prototype,\"formats\",void 0),o([i.property({type:Boolean})],t.prototype,\"atlas\",void 0),t=o([i.subclass(\"esri.layer.support.I3STextureSetDefinition\")],t)}(i.declared(p.JSONSupport));t.I3STextureSetDefinition=y;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.enumeration.serializable()({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],t.prototype,\"type\",void 0),o([i.property({type:Number})],t.prototype,\"component\",void 0),t=o([i.subclass(\"esri.layer.support.I3SGeometryAttribute\")],t)}(i.declared(p.JSONSupport));t.I3SGeometryAttribute=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.enumeration.serializable()({draco:\"draco\"})],t.prototype,\"encoding\",void 0),o([i.property({type:[String]})],t.prototype,\"attributes\",void 0),t=o([i.subclass(\"esri.layer.support.I3SGeometryAttribute\")],t)}(i.declared(p.JSONSupport));t.I3SGeometryCompressedAttributes=c;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=0,t}return r(t,e),o([i.property({type:Number})],t.prototype,\"offset\",void 0),o([i.property({type:d})],t.prototype,\"position\",void 0),o([i.property({type:d})],t.prototype,\"normal\",void 0),o([i.property({type:d})],t.prototype,\"uv0\",void 0),o([i.property({type:d})],t.prototype,\"color\",void 0),o([i.property({type:d})],t.prototype,\"uvRegion\",void 0),o([i.property({type:d})],t.prototype,\"featureId\",void 0),o([i.property({type:d})],t.prototype,\"faceRange\",void 0),o([i.property({type:c})],t.prototype,\"compressedAttributes\",void 0),t=o([i.subclass(\"esri.layer.support.I3SGeometryBuffer\")],t)}(i.declared(p.JSONSupport));t.I3SGeometryBuffer=v;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([i.enumeration.serializable()({triangle:\"triangle\"})],t.prototype,\"topology\",void 0),o([i.property()],t.prototype,\"geometryBuffers\",void 0),t=o([i.subclass(\"esri.layer.support.I3SMeshDefinition\")],t)}(i.declared(p.JSONSupport));t.I3SGeometryDefinition=f});"],"sourceRoot":""}