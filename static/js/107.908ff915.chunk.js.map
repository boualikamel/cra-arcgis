{"version":3,"sources":["../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js","../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","../node_modules/arcgis-js-api/renderers/support/heatmapUtils.js","../node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer.js"],"names":["define","e","t","i","n","r","o","a","s","l","p","Object","defineProperty","value","u","call","this","_intensityInfo","minPixelIntensity","maxPixelIntensity","featuresView","attributeView","initialize","requestUpdate","requestRender","layerView","clips","_container","BitmapTileContainer","tileInfoView","handles","add","on","setClips","prototype","createTile","getTileCoords","bitmap","resolution","getTileResolution","onConfigUpdate","layer","renderer","type","_gradient","generateGradient","toJSON","tiles","forEach","source","gradient","invalidateTexture","hitTest","resolve","install","addChild","uninstall","removeAllChildren","removeChild","disposeTile","destroy","supportsRenderer","onTileData","get","tileKey","intensityInfo","HeatmapSource","intensities","matrix","onTileError","console","error","subclass","declared","default","height","width","render","drawHeatmap","Uint32Array","Float64Array","f","buffer","Uint8Array","c","length","h","g","Math","floor","clamp","round","exp","pow","sqrt","PI","document","createElement","getContext","clearRect","createLinearGradient","colorStops","ratio","color","addColorStop","max","fillStyle","fillRect","getImageData","data","calculateHeatmapIntensityInfo","blurRadius","fieldOffset","field","m","Number","NEGATIVE_INFINITY","d","y","v","geometry","M","attributes","b","x","w","I","A","min","U","F","D","N","R","C","canvas","set","Uint8ClampedArray","putImageData","createHeatmapImageData","createKernel","createValueFunction","Map","clear","isUpdating","enumerable","configurable","acquireTile","once","notifyChange","id","lockAttributeTextureUpload","unlockAttributeTextureUpload","forceAttributeTextureUpload","forEachTile","releaseTile","delete","key","isReady","setHighlight","invalidateLabels","property","HandleOwner"],"mappings":"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","file":"static/js/107.908ff915.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../core/tsSupport/decorateHelper\",\"../../../../../core/tsSupport/declareExtendsHelper\",\"../../../../../core/promiseUtils\",\"../../../../../core/accessorSupport/decorators\",\"../../../../../renderers/support/heatmapUtils\",\"../../../engine/BitmapTileContainer\",\"./BaseTileRenderer\",\"./support/HeatmapSource\"],function(e,t,i,n,r,o,a,s,l,p){Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(e){function t(t){var i=e.call(this,t)||this;i._intensityInfo={minPixelIntensity:0,maxPixelIntensity:0},i.featuresView={attributeView:{initialize:function(){},requestUpdate:function(){}},requestRender:function(){}};var n=t.layerView.clips;return i._container=new s.BitmapTileContainer(t.tileInfoView,t.layerView.clips),i.handles.add([n.on(\"change\",function(){return i._container.setClips(n)})]),i}return n(t,e),t.prototype.createTile=function(e){var t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t},t.prototype.onConfigUpdate=function(){var e=this,t=this.layer.renderer;if(\"heatmap\"===t.type){var i=t.minPixelIntensity,n=t.maxPixelIntensity;this._intensityInfo.minPixelIntensity=i,this._intensityInfo.maxPixelIntensity=n,this._gradient=a.generateGradient(t.toJSON()),this.tiles.forEach(function(t){var r=t.bitmap.source;r&&(r.minPixelIntensity=i,r.maxPixelIntensity=n,r.gradient=e._gradient,t.bitmap.invalidateTexture())})}},t.prototype.hitTest=function(){return r.resolve([])},t.prototype.install=function(e){e.addChild(this._container)},t.prototype.uninstall=function(e){this._container.removeAllChildren(),e.removeChild(this._container)},t.prototype.disposeTile=function(e){this._container.removeChild(e),e.destroy()},t.prototype.supportsRenderer=function(e){return e&&\"heatmap\"===e.type},t.prototype.onTileData=function(e){var t=this.tiles.get(e.tileKey);if(t){var i=e.intensityInfo,n=this._intensityInfo,r=n.minPixelIntensity,o=n.maxPixelIntensity,a=t.bitmap.source||new p.HeatmapSource;a.intensities=i&&i.matrix||null,a.minPixelIntensity=r,a.maxPixelIntensity=o,a.gradient=this._gradient,t.bitmap.source=a,this._container.addChild(t),this.requestUpdate()}},t.prototype.onTileError=function(e){console.error(e)},t=i([o.subclass(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],t)}(o.declared(l.default));t.default=u});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../../renderers/support/heatmapUtils\"],function(e,t,i){Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(){this.gradient=null,this.height=512,this.width=512}return e.prototype.render=function(e){i.drawHeatmap(e,512,this.intensities,this.gradient,this.minPixelIntensity,this.maxPixelIntensity)},e}();t.HeatmapSource=n});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/global\",\"../../core/mathUtils\"],function(t,e,r,a){function n(t,e,r,a){for(var n,i=e.blurRadius,o=e.fieldOffset,c=e.field,l=new Float64Array(r*a),h=u(i),g=Math.round(3*i),m=Number.NEGATIVE_INFINITY,d=f(c,o),y=0,v=t;y<v.length;y++)for(var p=v[y],s=p.geometry,M=p.attributes,b=s.x-g,w=s.y-g,I=Math.max(0,b),x=Math.max(0,w),A=Math.min(a,s.y+g),U=Math.min(r,s.x+g),F=+d(M),D=x;D<A;D++)for(var N=h[D-w],R=I;R<U;R++){var C=h[R-b],E=D*r+R;n=l[E]+=N*C*F,n>m&&(m=n)}return{matrix:l.buffer,max:m}}function i(t,e,r,a,n,i){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);var u=t.getImageData(0,0,e,e);r&&a&&u.data.set(new Uint8ClampedArray(o(e,r,a,n,i))),t.putImageData(u,0,0)}function o(t,e,r,n,i){for(var o=new Uint32Array(t*t),u=(\"buffer\"in e?e:new Float64Array(e)),f=(\"buffer\"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),c=f.length/(i-n),l=0;l<u.length;l++){var h=u[l],g=Math.floor((h-n)*c);o[l]=f[a.clamp(g,0,f.length-1)]}return o.buffer}function u(t){for(var e=Math.round(3*t),r=2*t*t,a=new Float64Array(2*e+1),n=0;n<=a.length;n++)a[n]=Math.exp(-Math.pow(n-e,2)/r)/Math.sqrt(2*Math.PI)*(t/2);return a}function f(t,e){return\"function\"==typeof t?t:t?\"string\"==typeof e?function(e){return-1*+e[t]}:function(r){return+r[t]+e}:function(){return 1}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.generateGradient=function(){if(!(\"document\"in r))return function(){return null};var t=document.createElement(\"canvas\"),e=t.getContext(\"2d\");return t.height=512,t.width=1,function(r){e.clearRect(0,0,1,t.height);for(var a=e.createLinearGradient(0,0,0,t.height),n=0,i=r.colorStops;n<i.length;n++){var o=i[n],u=o.ratio,f=o.color;a.addColorStop(Math.max(u,.001),\"rgba(\"+f[0]+\", \"+f[1]+\", \"+f[2]+\", \"+f[3]+\")\")}return e.fillStyle=a,e.fillRect(0,0,1,t.height),e.getImageData(0,0,1,t.height).data}}(),e.calculateHeatmapIntensityInfo=n,e.drawHeatmap=i,e.createHeatmapImageData=o,e.createKernel=u,e.createValueFunction=f});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../../../../core/tsSupport/declareExtendsHelper\",\"../../../../../core/tsSupport/decorateHelper\",\"../../../../../core/HandleOwner\",\"../../../../../core/accessorSupport/decorators\"],function(e,t,r,o,i,n){Object.defineProperty(t,\"__esModule\",{value:!0});var p=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,\"updating\",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once(\"isReady\",function(){return t.notifyChange(\"updating\")}),this.tiles.set(e.id,r),r},t.prototype.lockAttributeTextureUpload=function(){},t.prototype.unlockAttributeTextureUpload=function(){},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach(function(t){e=e&&t.isReady}),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},o([n.property()],t.prototype,\"layer\",void 0),o([n.property()],t.prototype,\"layerView\",void 0),o([n.property()],t.prototype,\"tileInfoView\",void 0),o([n.property()],t.prototype,\"updating\",null),t=o([n.subclass(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],t)}(n.declared(i.HandleOwner));t.default=p});"],"sourceRoot":""}