{"version":3,"sources":["../node_modules/arcgis-js-api/layers/graphics/editingSupport.js","../node_modules/arcgis-js-api/geometry/support/normalizeUtils.js","../node_modules/arcgis-js-api/tasks/geometry/cut.js","../node_modules/arcgis-js-api/tasks/geometry/simplify.js"],"names":["define","e","t","a","r","i","d","n","s","l","u","o","p","f","this","addFeatures","length","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","type","capabilities","data","isVersioned","gdbVersion","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsGlobalId","globalIdUsed","isCollection","toArray","map","F","forEach","b","y","g","attributes","globalIdField","globalId","feature","attachment","uploadId","File","name","supportsUploadWithItemId","dataComponents","isBase64","label","concat","geometry","normalizeCentralMeridian","sent","slice","Object","defineProperty","value","isEditableLayer","get","applyEdits","c","m","edits","result","create","emit","load","h","source","reject","layer","editingEnabled","trys","push","addedFeatures","filter","error","clone","addFeatureResults","updatedFeatures","updateFeatureResults","deletedFeatures","deleteFeatureResults","addedAttachments","addAttachmentResults","updatedAttachments","updateAttachmentResults","deletedAttachments","deleteAttachmentResults","v","x","rings","paths","M","Math","ceil","w","min","max","R","I","sqrt","L","W","P","S","floor","X","z","spatialReference","webMercatorToGeographic","Array","isArray","offset","cutIndexes","geometries","some","Number","toFixed","getPoint","setPoint","addRing","addPath","getLogger","U","102100","maxX","minX","plus180Line","WebMercator","minus180Line","4326","WGS84","straightLineDensify","k","A","T","D","_","G","q","E","H","N","j","C","O","B","J","K","Q","$","ee","re","ne","V","Y","Z","url","geometryServiceUrl","isNone","getInfo","isWebMercator","points","_normalize","extent","xmin","intersects","xmax","cut","shift","isSome","geographicToWebMercator","simplify","resolve","getDenormalizedExtent","valid","width","normalizeMapX","urlToObject","query","sr","JSON","stringify","target","geometryType","getJsonType","cutter","path","fromJSON","set","toJSON","getGeometryType","wkid"],"mappings":"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","file":"static/js/103.e73ae019.chunk.js","sourcesContent":["// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/generatorHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../core/tsSupport/assignHelper\",\"../../Graphic\",\"../../core/Collection\",\"../../core/Error\",\"../../core/lang\",\"../../core/promiseUtils\",\"../../core/urlUtils\",\"../../geometry/support/normalizeUtils\"],function(e,t,a,r,i,d,n,s,l,u,o,p){function c(e){return!0===e.get(\"capabilities.operations.supportsEditing\")}function h(e){return e&&null!=e.applyEdits}function m(e,t,i){return r(this,void 0,void 0,function(){var r,d,n,o,p,c,m,b,y;return a(this,function(a){switch(a.label){case 0:return n={edits:t,result:u.create(function(e,t){r=e,d=t})},e.emit(\"apply-edits\",n),[4,e.load()];case 1:if(a.sent(),o=e.source,!h(o))return[2,u.reject(new s(e.type+\"-layer:no-editing-support\",\"Layer source does not support applyEdits capability\",{layer:e}))];if(!e.editingEnabled)throw new s(e.type+\"-layer:editing-disabled\",\"Editing is disabled for layer\",{layer:e});return[4,f(e,t,i)];case 2:p=a.sent(),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,o.applyEdits(p,i)];case 4:return c=a.sent(),m=function(e){return e.filter(function(e){return!e.error}).map(l.clone)},b={addedFeatures:m(c.addFeatureResults),updatedFeatures:m(c.updateFeatureResults),deletedFeatures:m(c.deleteFeatureResults),addedAttachments:m(c.addAttachmentResults),updatedAttachments:m(c.updateAttachmentResults),deletedAttachments:m(c.deleteAttachmentResults)},(b.addedFeatures.length||b.updatedFeatures.length||b.deletedFeatures.length||b.addedAttachments.length||b.updatedAttachments.length||b.deletedAttachments.length)&&e.emit(\"edits\",b),r(b),[2,c];case 5:throw y=a.sent(),d(y),y;case 6:return[2]}})})}function f(e,t,d){return r(this,void 0,void 0,function(){var r,l,u,o;return a(this,function(a){if(r=t.addFeatures&&t.addFeatures.length||t.updateFeatures&&t.updateFeatures.length||t.deleteFeatures&&t.deleteFeatures.length,l=t.addAttachments&&t.addAttachments.length||t.updateAttachments&&t.updateAttachments.length||t.deleteAttachments&&t.deleteAttachments.length,!t||!r&&!l)throw new s(e.type+\"-layer:missing-parameters\",\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!e.capabilities.data.isVersioned&&d&&d.gdbVersion)throw new s(e.type+\"-layer:invalid-parameter\",\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!e.capabilities.editing.supportsRollbackOnFailure&&d&&d.rollbackOnFailureEnabled)throw new s(e.type+\"-layer:invalid-parameter\",\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");if(!e.capabilities.editing.supportsGlobalId&&d&&d.globalIdUsed)throw new s(e.type+\"-layer:invalid-parameter\",\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!e.capabilities.editing.supportsGlobalId&&l)throw new s(e.type+\"-layer:invalid-parameter\",\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if((!d||!d.globalIdUsed)&&l)throw new s(e.type+\"-layer:invalid-parameter\",\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");return u=i({},t),u.addFeatures=n.isCollection(u.addFeatures)?u.addFeatures.toArray():u.addFeatures||[],u.updateFeatures=n.isCollection(u.updateFeatures)?u.updateFeatures.toArray():u.updateFeatures||[],u.deleteFeatures=n.isCollection(u.deleteFeatures)?u.deleteFeatures.toArray():u.deleteFeatures||[],u.addAttachments=u.addAttachments||[],u.updateAttachments=u.updateAttachments||[],u.deleteAttachments=u.deleteAttachments||[],u.addFeatures=u.addFeatures.map(F),u.updateFeatures=u.updateFeatures.map(F),o=d&&d.globalIdUsed,u.addFeatures.forEach(function(t){return b(t,e,o)}),u.updateFeatures.forEach(function(t){return b(t,e,o)}),u.deleteFeatures.forEach(function(t){return b(t,e,o)}),u.addAttachments.forEach(function(t){return y(t,e)}),u.updateAttachments.forEach(function(t){return y(t,e)}),[2,g(u)]})})}function b(e,t,a){if(a){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new s(t.type+\"-layer:invalid-parameter\",\"Feature should have 'globalId' when 'globalIdUsed' is true\");if(!(\"attributes\"in e||e.globalId))throw new s(t.type+\"-layer:invalid-parameter\",\"'globalId' of the feature should be passed when 'globalIdUsed' is true\")}}function y(e,t){var a=e.feature,r=e.attachment;if(!a||\"attributes\"in a&&!a.attributes[t.globalIdField])throw new s(t.type+\"-layer:invalid-parameter\",\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in a||a.globalId))throw new s(t.type+\"-layer:invalid-parameter\",\"Attachment should have reference to 'globalId' of the parent feature\");if(!r.globalId)throw new s(t.type+\"-layer:invalid-parameter\",\"Attachment should have 'globalId'\");if(!r.data&&!r.uploadId)throw new s(t.type+\"-layer:invalid-parameter\",\"Attachment should have 'data' or 'uploadId'\");if(!(r.data instanceof File&&r.data.name||r.name))throw new s(t.type+\"-layer:invalid-parameter\",\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities.editing.supportsUploadWithItemId&&r.uploadId)throw new s(t.type+\"-layer:invalid-parameter\",\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof r.data){var i=o.dataComponents(r.data);if(i&&!i.isBase64)throw new s(t.type+\"-layer:invalid-parameter\",\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function g(e){return r(this,void 0,void 0,function(){var t,r,i,d,n,s;return a(this,function(a){switch(a.label){case 0:return t=e.addFeatures,r=e.updateFeatures,i=t.concat(r).map(function(e){return e.geometry}),[4,p.normalizeCentralMeridian(i)];case 1:return d=a.sent(),n=t.length,s=r.length,d.slice(0,n).forEach(function(t,a){e.addFeatures[a].geometry=t}),d.slice(n,n+s).forEach(function(t,a){e.updateFeatures[a].geometry=t}),[2,e]}})})}function F(e){var t=new d;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}Object.defineProperty(t,\"__esModule\",{value:!0}),t.isEditableLayer=c,t.applyEdits=m});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/generatorHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../config\",\"../../core/Error\",\"../../core/Logger\",\"../../core/maybe\",\"../../core/promiseUtils\",\"../Polygon\",\"../Polyline\",\"../SpatialReference\",\"./spatialReferenceUtils\",\"./webMercatorUtils\",\"../../tasks/geometry/cut\",\"../../tasks/geometry/simplify\"],function(e,r,n,t,i,a,o,s,u,f,l,p,h,c,g,m){function v(e){return\"polygon\"===e.type}function x(e){return\"polygon\"===e[0].type}function y(e){return\"polyline\"===e[0].type}function d(e){return v(e)?e.rings:e.paths}function M(e,r){return Math.ceil((e-r)/(2*r))}function w(e,r){for(var n=d(e),t=0,i=n;t<i.length;t++)for(var a=i[t],o=0,s=a;o<s.length;o++){var u=s[o];u[0]+=r}return e}function b(e){for(var r=[],n=0,t=0,i=0;i<e.length;i++){for(var a=e[i],o=null,s=0;s<a.length;s++)o=a[s],r.push(o),0===s?(n=o[0],t=n):(n=Math.min(n,o[0]),t=Math.max(t,o[0]));o&&r.push([(n+t)/2,0])}return r}function R(e,r){if(!(e instanceof l||e instanceof f)){var n=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw I.error(n),new a(n)}for(var t=d(e),i=[],o=0,s=t;o<s.length;o++){var u=s[o],p=[];i.push(p),p.push([u[0][0],u[0][1]]);for(var h=0;h<u.length-1;h++){var c=u[h][0],g=u[h][1],m=u[h+1][0],x=u[h+1][1],y=Math.sqrt((m-c)*(m-c)+(x-g)*(x-g)),M=(x-g)/y,w=(m-c)/y,b=y/r;if(b>1){for(var R=1;R<=b-1;R++){var L=R*r,W=w*L+c,P=M*L+g;p.push([W,P])}var S=(y+Math.floor(b-1)*r)/2,X=w*S+c,z=M*S+g;p.push([X,z])}p.push([m,x])}}return v(e)?new f({rings:i,spatialReference:e.spatialReference}):new l({paths:i,spatialReference:e.spatialReference})}function L(e,r,n){if(r){var t=R(e,1e6);e=c.webMercatorToGeographic(t,!0)}return n&&(e=w(e,n)),e}function W(e,r,n){if(Array.isArray(e)){var t=e[0];if(t>r){var i=M(t,r);e[0]=t+i*(-2*r)}else if(t<n){var i=M(t,n);e[0]=t+i*(-2*n)}}else{var t=e.x;if(t>r){var i=M(t,r);e=e.clone().offset(i*(-2*r),0)}else if(t<n){var i=M(t,n);e=e.clone().offset(i*(-2*n),0)}}return e}function P(e,r){for(var n=-1,t=0;t<r.cutIndexes.length;t++)!function(t){for(var i=r.cutIndexes[t],a=r.geometries[t],o=d(a),s=0;s<o.length;s++)!function(e){var r=o[e];r.some(function(n){if(n[0]<180)return!0;for(var t=0,i=0;i<r.length;i++){var o=r[i][0];t=o>t?o:t}t=Number(t.toFixed(9));for(var s=M(t,180),u=-360*s,f=0;f<r.length;f++){var l=a.getPoint(e,f);a.setPoint(e,f,l.clone().offset(u,0))}return!0})}(s);if(i===n){if(x(e))for(var u=0,f=d(a);u<f.length;u++){var l=f[u];e[i]=e[i].addRing(l)}else if(y(e))for(var p=0,h=d(a);p<h.length;p++){var c=h[p];e[i]=e[i].addPath(c)}}else n=i,e[i]=a}(t);return e}function S(e,r,a){return t(this,void 0,void 0,function(){var t,o,p,v,x,y,d,b,R,X,z,I,k,A,T,D,G,_,G,q,E,H,N,j,C,F,O,B,J,K,Q,V,Y,Z,$,ee,re,V,Y,ne,V,Y,Z;return n(this,function(n){switch(n.label){case 0:if(!Array.isArray(e))return[2,S([e],r)];for(t=r?r.url:i.geometryServiceUrl,X=0,z=[],I=[],k=0,A=e;k<A.length;k++)T=A[k],s.isNone(T)?I.push(T):(o||(o=T.spatialReference,p=h.getInfo(o),v=o.isWebMercator,d=v?102100:4326,x=U[d].maxX,y=U[d].minX,b=U[d].plus180Line,R=U[d].minus180Line),p?\"mesh\"===T.type?I.push(T):\"point\"===T.type?I.push(W(T.clone(),x,y)):\"multipoint\"===T.type?(D=T.clone(),D.points=D.points.map(function(e){return W(e,x,y)}),I.push(D)):\"extent\"===T.type?(G=T.clone(),_=G._normalize(!1,!1,p),I.push(_.rings?new f(_):_)):T.extent?(G=T.extent,q=M(G.xmin,y),E=q*(2*x),H=0===E?T.clone():w(T.clone(),E),G.offset(E,0),G.intersects(b)&&G.xmax!==x?(X=G.xmax>X?G.xmax:X,H=L(H,v),z.push(H),I.push(\"cut\")):G.intersects(R)&&G.xmin!==y?(X=G.xmax*(2*x)>X?G.xmax*(2*x):X,H=L(H,v,360),z.push(H),I.push(\"cut\")):I.push(H)):I.push(T.clone()):I.push(T));for(N=M(X,x),j=-90,C=N,F=new l;N>0;)O=360*N-180,F.addPath([[O,j],[O,-1*j]]),j*=-1,N--;return z.length>0&&C>0?[4,g.cut(t,z,F,a)]:[3,3];case 1:for(B=n.sent(),J=P(z,B),K=[],Q=[],V=0;V<I.length;V++)Y=I[V],\"cut\"!==Y?Q.push(Y):(Z=J.shift(),$=e[V],s.isSome($)&&\"polygon\"===$.type&&$.rings&&$.rings.length>1&&Z.rings.length>=$.rings.length?(K.push(Z),Q.push(\"simplify\")):Q.push(v?c.geographicToWebMercator(Z):Z));return K.length?[4,m.simplify(t,K,a)]:[2,Q];case 2:for(ee=n.sent(),re=[],V=0;V<Q.length;V++)Y=Q[V],\"simplify\"!==Y?re.push(Y):re.push(v?c.geographicToWebMercator(ee.shift()):ee.shift());return[2,re];case 3:for(ne=[],V=0;V<I.length;V++)Y=I[V],\"cut\"!==Y?ne.push(Y):(Z=z.shift(),ne.push(!0===v?c.geographicToWebMercator(Z):Z));return[2,u.resolve(ne)]}})})}function X(e){var r;if(!e)return null;var n=e.extent;if(!n)return null;var t=e.spatialReference&&h.getInfo(e.spatialReference);if(!t)return n;var i=t.valid,a=i[0],o=i[1],s=2*o,u=n.width,f=n.xmin,l=n.xmax;if(r=[l,f],f=r[0],l=r[1],\"extent\"===e.type||0===u||u<=o||u>s||f<a||l>o)return n;var p;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return n;p=b(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return n;p=b(e.paths);break;case\"multipoint\":p=e.points}for(var c=n.clone(),g=0;g<p.length;g++){var m=p[g][0];m<0?(m+=o,l=Math.max(m,l)):(m-=o,f=Math.min(m,f))}return c.xmin=f,c.xmax=l,c.width<u?(c.xmin-=o,c.xmax-=o,c):n}function z(e,r){var n=h.getInfo(r);if(n){var t=n.valid,i=t[0],a=t[1],o=a-i;if(e<i)for(;e<i;)e+=o;if(e>a)for(;e>a;)e-=o}return e}Object.defineProperty(r,\"__esModule\",{value:!0});var I=o.getLogger(\"esri.geometry.support.normalizeUtils\"),U={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new l({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:p.WebMercator}),minus180Line:new l({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:p.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new l({paths:[[[180,-180],[180,180]]],spatialReference:p.WGS84}),minus180Line:new l({paths:[[[-180,-180],[-180,180]]],spatialReference:p.WGS84})}};r.straightLineDensify=R,r.normalizeCentralMeridian=S,r.getDenormalizedExtent=X,r.normalizeMapX=z});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/assignHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../core/tsSupport/generatorHelper\",\"../../geometry\",\"../../request\",\"../../core/urlUtils\",\"../../geometry/support/jsonUtils\"],function(e,t,r,o,s,n,i,u,c){function p(e,t,p,a){return o(this,void 0,void 0,function(){var o,f,g,l,y,d,m,S;return s(this,function(s){switch(s.label){case 0:return o=\"string\"==typeof e?u.urlToObject(e):e,f=t[0].spatialReference,g=r({},a,{query:r({},o.query,{f:\"json\",sr:JSON.stringify(f),target:JSON.stringify({geometryType:c.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(p)})}),[4,i(o.path+\"/cut\",g)];case 1:return l=s.sent(),y=l.data,d=y.cutIndexes,m=y.geometries,S=void 0===m?[]:m,[2,{cutIndexes:d,geometries:S.map(function(e){return n.fromJSON(e).set(f)})}]}})})}Object.defineProperty(t,\"__esModule\",{value:!0}),t.cut=p});","// COPYRIGHT © 2019 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.14/esri/copyright.txt for details.\n\ndefine([\"require\",\"exports\",\"../../core/tsSupport/assignHelper\",\"../../core/tsSupport/awaiterHelper\",\"../../core/tsSupport/generatorHelper\",\"../../request\",\"../../core/urlUtils\",\"../../geometry/support/jsonUtils\"],function(e,r,t,n,i,o,s,u){function p(e,r,p){return n(this,void 0,void 0,function(){var n,f,l,y,g;return i(this,function(i){switch(i.label){case 0:return n=\"string\"==typeof e?s.urlToObject(e):e,f=r[0].spatialReference,l=u.getJsonType(r[0]),y=t({},p,{query:t({},n.query,{f:\"json\",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(a(r))})}),[4,o(n.path+\"/simplify\",y)];case 1:return g=i.sent(),[2,c(g.data,l,f)]}})})}function a(e){return{geometryType:u.getJsonType(e[0]),geometries:e.map(function(e){return e.toJSON()})}}function c(e,r,t){var n=u.getGeometryType(r);return e.map(function(e){var r=n.fromJSON(e);return r.spatialReference=t,r})}Object.defineProperty(r,\"__esModule\",{value:!0}),r.simplify=p});"],"sourceRoot":""}