(function(){(this||window).webpackJsonpareactgis.registerAbsMids({"esri/tasks/RouteTask":1722,"esri/tasks/support/RouteResultsContainer":1723,"esri/tasks/support/RouteResult":1724})})(),(this.webpackJsonpareactgis=this.webpackJsonpareactgis||[]).push([[116],{1722:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(20),t(22),t(26),t(51),t(28),t(621),t(114),t(23),t(184),t(395),t(622),t(1723)],void 0===(s=function(e,r,t,o,s,i,n,a,p,u,l,c,y,f){var d=a.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});return function(e){function r(r){return e.call(this,r)||this}return o(r,e),r.prototype.solve=function(e,r){var t=this,o=[],a=[],u={},c={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,"stops.features",u),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,"pointBarriers.features",u),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,"polylineBarriers.features",u),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,"polygonBarriers.features",u),l.normalizeCentralMeridian(a).then((function(e){for(var r in u){var s=u[r];o.push(r),c[r]=e.slice(s[0],s[1])}return t._isInputGeometryZAware(c,o)?t.getServiceDescription():n.resolve({dontCheck:!0})})).then((function(n){for(var a in("dontCheck"in n?n.dontCheck:n.hasZ)||t._dropZValuesOffInputGeometry(c,o),c)!function(r){c[r].forEach((function(t,o){e.get(r)[o].geometry=t}))}(a);var u={query:s({},t.parsedUrl.query,{f:"json"},d.toQueryParams(e))};(t.requestOptions||r)&&(u=s({},t.requestOptions,r,u));var l=t.parsedUrl.path,y=p.endsWith(l,"/solve")?l:l+"/solve";return i(y,u)})).then((function(e){return t._handleSolveResponse(e)}))},r.prototype._collectGeometries=function(e,r,t,o){o[t]=[r.length,r.length+e.length],e.forEach((function(e){r.push(e.geometry)}))},r.prototype._handleSolveResponse=function(e){var r,t,o=[],s=[],i=e.data,n=i.directions,a=void 0===n?[]:n,p=i.routes,u=void 0===p?{}:p,l=u.features,c=void 0===l?[]:l,y=u.spatialReference,d=void 0===y?null:y,m=i.stops,v=void 0===m?{}:m,h=v.features,B=void 0===h?[]:h,g=v.spatialReference,R=void 0===g?null:g,b=i.barriers,k=i.polygonBarriers,N=i.polylineBarriers,S=i.messages,A="esri.tasks.RouteTask.NULL_ROUTE_NAME",O=!0,w=c&&d||B&&R||b&&b.spatialReference||k&&k.spatialReference||N&&N.spatialReference;a.forEach((function(e){o.push(r=e.routeName),s[r]={directions:e}})),c.forEach((function(e){-1===o.indexOf(r=e.attributes.Name)&&(o.push(r),s[r]={}),e.geometry&&(e.geometry.spatialReference=w),s[r].route=e})),B.forEach((function(e){t=e.attributes,-1===o.indexOf(r=t.RouteName||A)&&(o.push(r),s[r]={}),r!==A&&(O=!1),e.geometry&&(e.geometry.spatialReference=w),null==s[r].stops&&(s[r].stops=[]),s[r].stops.push(e)})),B.length>0&&!0===O&&(s[o[0]].stops=s[A].stops,delete s[A],o.splice(o.indexOf(A),1));var _=o.map((function(e){return s[e].routeName=e===A?null:e,s[e]}));return f.fromJSON({routeResults:_,pointBarriers:b,polygonBarriers:k,polylineBarriers:N,messages:S})},t([u.subclass("esri.tasks.RouteTask")],r)}(u.declared(y.NAServiceDescriptionMixin(c)))}.apply(null,o))||(e.exports=s)},1723:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(22),t(20),t(108),t(34),t(23),t(659),t(185),t(623),t(1724)],void 0===(s=function(e,r,t,o,s,i,n,a,p,u,l){function c(e){return e&&p.fromJSON(e).features.map((function(e){return e}))}return function(e){function r(r){var t=e.call(this,r)||this;return t.barriers=null,t.messages=null,t.pointBarriers=null,t.polylineBarriers=null,t.polygonBarriers=null,t.routeResults=null,t}return t(r,e),r.prototype.readPointBarriers=function(e,r){return c(r.barriers||r.pointBarriers)},r.prototype.readPolylineBarriers=function(e){return c(e)},r.prototype.readPolygonBarriers=function(e){return c(e)},o([n.property({aliasOf:"pointBarriers"})],r.prototype,"barriers",void 0),o([n.property({type:[u]})],r.prototype,"messages",void 0),o([n.property({type:[s]})],r.prototype,"pointBarriers",void 0),o([a.reader("pointBarriers",["barriers","pointBarriers"])],r.prototype,"readPointBarriers",null),o([n.property({type:[s]})],r.prototype,"polylineBarriers",void 0),o([a.reader("polylineBarriers")],r.prototype,"readPolylineBarriers",null),o([n.property({type:[s]})],r.prototype,"polygonBarriers",void 0),o([a.reader("polygonBarriers")],r.prototype,"readPolygonBarriers",null),o([n.property({type:[l]})],r.prototype,"routeResults",void 0),o([n.subclass("esri.tasks.support.RouteResultsContainer")],r)}(n.declared(i.JSONSupport))}.apply(null,o))||(e.exports=s)},1724:function(e,r,t){var o,s;o=[t.dj.c(e.i),r,t(20),t(22),t(108),t(34),t(23),t(859)],void 0===(s=function(e,r,t,o,s,i,n,a){return function(e){function r(r){var t=e.call(this,r)||this;return t.directions=null,t.route=null,t.routeName=null,t.stops=null,t}return o(r,e),t([n.property({type:a,json:{write:!0}})],r.prototype,"directions",void 0),t([n.property({type:s,json:{write:!0}})],r.prototype,"route",void 0),t([n.property({type:String,json:{write:!0}})],r.prototype,"routeName",void 0),t([n.property({type:[s],json:{write:!0}})],r.prototype,"stops",void 0),t([n.subclass("esri.tasks.support.RouteResult")],r)}(n.declared(i.JSONSupport))}.apply(null,o))||(e.exports=s)}}]);
//# sourceMappingURL=116.fb2c4699.chunk.js.map